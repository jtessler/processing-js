/***

    P R O C E S S I N G . J S - 583e14b
    a port of the Processing visualization language

    Processing.js is licensed under the MIT License, see LICENSE.
    For a list of copyright holders, please refer to AUTHORS.

    http://processingjs.org

***/

(function(A,d,o,r){var D=function(){};var q=function(){if("console" in A){return function(K){A.console.log("Processing.js: "+K)}}return D()}();var u=function(K){var L=new XMLHttpRequest;L.open("GET",K,false);if(L.overrideMimeType){L.overrideMimeType("text/plain")}L.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");L.send(null);if(L.status!==200&&L.status!==0){throw"XMLHttpRequest failed, status code "+L.status}return L.responseText};var l="document" in this&&!("fake" in this.document);d.head=d.head||d.getElementsByTagName("head")[0];function z(K,L){if(K in A){return A[K]}if(typeof A[L]==="function"){return A[L]}return function(N){if(N instanceof Array){return N}if(typeof N==="number"){var M=[];M.length=N;return M}}}var e=z("Float32Array","WebGLFloatArray"),H=z("Int32Array","WebGLIntArray"),w=z("Uint16Array","WebGLUnsignedShortArray"),b=z("Uint8Array","WebGLUnsignedByteArray");var y={NX:9,NY:10,NZ:11,EDGE:12,SR:13,SG:14,SB:15,SA:16,SW:17,TX:18,TY:19,TZ:20,VX:21,VY:22,VZ:23,VW:24,AR:25,AG:26,AB:27,DR:3,DG:4,DB:5,DA:6,SPR:28,SPG:29,SPB:30,SHINE:31,ER:32,EG:33,EB:34,BEEN_LIT:35,VERTEX_FIELD_COUNT:36,P2D:1,JAVA2D:1,WEBGL:2,P3D:2,OPENGL:2,PDF:0,DXF:0,OTHER:0,WINDOWS:1,MAXOSX:2,LINUX:3,EPSILON:0.0001,MAX_FLOAT:3.4028235e+38,MIN_FLOAT:-3.4028235e+38,MAX_INT:2147483647,MIN_INT:-2147483648,PI:o.PI,TWO_PI:2*o.PI,HALF_PI:o.PI/2,THIRD_PI:o.PI/3,QUARTER_PI:o.PI/4,DEG_TO_RAD:o.PI/180,RAD_TO_DEG:180/o.PI,WHITESPACE:" \t\n\r\u000c\u00a0",RGB:1,ARGB:2,HSB:3,ALPHA:4,CMYK:5,TIFF:0,TARGA:1,JPEG:2,GIF:3,BLUR:11,GRAY:12,INVERT:13,OPAQUE:14,POSTERIZE:15,THRESHOLD:16,ERODE:17,DILATE:18,REPLACE:0,BLEND:1<<0,ADD:1<<1,SUBTRACT:1<<2,LIGHTEST:1<<3,DARKEST:1<<4,DIFFERENCE:1<<5,EXCLUSION:1<<6,MULTIPLY:1<<7,SCREEN:1<<8,OVERLAY:1<<9,HARD_LIGHT:1<<10,SOFT_LIGHT:1<<11,DODGE:1<<12,BURN:1<<13,ALPHA_MASK:4278190080,RED_MASK:16711680,GREEN_MASK:65280,BLUE_MASK:255,CUSTOM:0,ORTHOGRAPHIC:2,PERSPECTIVE:3,POINT:2,POINTS:2,LINE:4,LINES:4,TRIANGLE:8,TRIANGLES:9,TRIANGLE_STRIP:10,TRIANGLE_FAN:11,QUAD:16,QUADS:16,QUAD_STRIP:17,POLYGON:20,PATH:21,RECT:30,ELLIPSE:31,ARC:32,SPHERE:40,BOX:41,GROUP:0,PRIMITIVE:1,GEOMETRY:3,VERTEX:0,BEZIER_VERTEX:1,CURVE_VERTEX:2,BREAK:3,CLOSESHAPE:4,OPEN:1,CLOSE:2,CORNER:0,CORNERS:1,RADIUS:2,CENTER_RADIUS:2,CENTER:3,DIAMETER:3,CENTER_DIAMETER:3,BASELINE:0,TOP:101,BOTTOM:102,NORMAL:1,NORMALIZED:1,IMAGE:2,MODEL:4,SHAPE:5,SQUARE:"butt",ROUND:"round",PROJECT:"square",MITER:"miter",BEVEL:"bevel",AMBIENT:0,DIRECTIONAL:1,SPOT:3,BACKSPACE:8,TAB:9,ENTER:10,RETURN:13,ESC:27,DELETE:127,CODED:65535,SHIFT:16,CONTROL:17,ALT:18,CAPSLK:20,PGUP:33,PGDN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,NUMLK:144,META:157,INSERT:155,ARROW:"default",CROSS:"crosshair",HAND:"pointer",MOVE:"move",TEXT:"text",WAIT:"wait",NOCURSOR:"url('data:image/gif;base64,R0lGODlhAQABAIAAAP///wAAACH5BAEAAAAALAAAAAABAAEAAAICRAEAOw=='), auto",DISABLE_OPENGL_2X_SMOOTH:1,ENABLE_OPENGL_2X_SMOOTH:-1,ENABLE_OPENGL_4X_SMOOTH:2,ENABLE_NATIVE_FONTS:3,DISABLE_DEPTH_TEST:4,ENABLE_DEPTH_TEST:-4,ENABLE_DEPTH_SORT:5,DISABLE_DEPTH_SORT:-5,DISABLE_OPENGL_ERROR_REPORT:6,ENABLE_OPENGL_ERROR_REPORT:-6,ENABLE_ACCURATE_TEXTURES:7,DISABLE_ACCURATE_TEXTURES:-7,HINT_COUNT:10,SINCOS_LENGTH:720,PRECISIONB:15,PRECISIONF:1<<15,PREC_MAXVAL:(1<<15)-1,PREC_ALPHA_SHIFT:24-15,PREC_RED_SHIFT:16-15,NORMAL_MODE_AUTO:0,NORMAL_MODE_SHAPE:1,NORMAL_MODE_VERTEX:2,MAX_LIGHTS:8};function h(M){if(typeof M==="string"){var L=0;for(var K=0;K<M.length;++K){L=L*31+M.charCodeAt(K)&4294967295}return L}if(typeof M!=="object"){return M&4294967295}if(M.hashCode instanceof Function){return M.hashCode()}if(M.$id===r){M.$id=o.floor(o.random()*65536)-32768<<16|o.floor(o.random()*65536)}return M.$id}function p(L,K){if(L===null||K===null){return L===null&&K===null}if(typeof L==="string"){return L===K}if(typeof L!=="object"){return L===K}if(L.equals instanceof Function){return L.equals(K)}return L===K}var m=function(L){if(L.iterator instanceof Function){return L.iterator()}if(L instanceof Array){var K=-1;this.hasNext=function(){return ++K<L.length};this.next=function(){return L[K]}}else{throw"Unable to iterate: "+L}};var f=function(){function L(N){var M=0;this.hasNext=function(){return M<N.length};this.next=function(){return N[M++]};this.remove=function(){N.splice(M,1)}}function K(){var M;if(arguments.length===0){M=[]}else{if(arguments.length>0&&typeof arguments[0]!=="number"){M=arguments[0].toArray()}else{M=[];M.length=0|arguments[0]}}this.get=function(N){return M[N]};this.contains=function(N){return this.indexOf(N)>-1};this.indexOf=function(P){for(var O=0,N=M.length;O<N;++O){if(p(P,M[O])){return O}}return -1};this.add=function(){if(arguments.length===1){M.push(arguments[0])}else{if(arguments.length===2){var N=arguments[0];if(typeof N==="number"){if(N>=0&&N<=M.length){M.splice(N,0,arguments[1])}else{throw N+" is not a valid index"}}else{throw typeof N+" is not a number"}}else{throw"Please use the proper number of parameters."}}};this.addAll=function(O,N){var P;if(typeof O==="number"){if(O<0||O>M.length){throw"Index out of bounds for addAll: "+O+" greater or equal than "+M.length}P=new m(N);while(P.hasNext()){M.splice(O++,0,P.next())}}else{P=new m(O);while(P.hasNext()){M.push(P.next())}}};this.set=function(){if(arguments.length===2){var N=arguments[0];if(typeof N==="number"){if(N>=0&&N<M.length){M.splice(N,1,arguments[1])}else{throw N+" is not a valid index."}}else{throw typeof N+" is not a number"}}else{throw"Please use the proper number of parameters."}};this.size=function(){return M.length};this.clear=function(){M.length=0};this.remove=function(N){if(typeof N==="number"){return M.splice(N,1)[0]}N=this.indexOf(N);if(N>-1){M.splice(N,1);return true}return false};this.isEmpty=function(){return !M.length};this.clone=function(){return new K(this)};this.toArray=function(){return M.slice(0)};this.iterator=function(){return new L(M)}}return K}();var v=function(){function K(){if(arguments.length===1&&arguments[0] instanceof K){return arguments[0].clone()}var T=arguments.length>0?arguments[0]:16;var U=arguments.length>1?arguments[1]:0.75;var N=[];N.length=T;var P=0;var L=this;function R(W){var V=h(W)%N.length;return V<0?N.length+V:V}function O(){if(P<=U*N.length){return}var Y=[];for(var X=0;X<N.length;++X){if(N[X]!==r){Y=Y.concat(N[X])}}var Z=N.length*2;N=[];N.length=Z;for(var W=0;W<Y.length;++W){var V=R(Y[W].key);var aa=N[V];if(aa===r){N[V]=aa=[]}aa.push(Y[W])}}function M(Z,aa){var V=0;var Y=-1;var X=false;function W(){while(!X){++Y;if(V>=N.length){X=true}else{if(N[V]===r||Y>=N[V].length){Y=-1;++V}else{return}}}}this.hasNext=function(){return !X};this.next=function(){var ab=Z(N[V][Y]);W();return ab};this.remove=function(){aa(this.next());--Y};W()}function S(V,W,X){this.clear=function(){L.clear()};this.contains=function(Y){return W(Y)};this.containsAll=function(Z){var Y=Z.iterator();while(Y.hasNext()){if(!this.contains(Y.next())){return false}}return true};this.isEmpty=function(){return L.isEmpty()};this.iterator=function(){return new M(V,X)};this.remove=function(Y){if(this.contains(Y)){X(Y);return true}return false};this.removeAll=function(ab){var Y=ab.iterator();var aa=false;while(Y.hasNext()){var Z=Y.next();if(this.contains(Z)){X(Z);aa=true}}return true};this.retainAll=function(ac){var aa=this.iterator();var Z=[];while(aa.hasNext()){var ab=aa.next();if(!ac.contains(ab)){Z.push(ab)}}for(var Y=0;Y<Z.length;++Y){X(Z[Y])}return Z.length>0};this.size=function(){return L.size()};this.toArray=function(){var Y=[];var Z=this.iterator();while(Z.hasNext()){Y.push(Z.next())}return Y}}function Q(V){this._isIn=function(W){return W===L&&V.removed===r};this.equals=function(W){return p(V.key,W.getKey())};this.getKey=function(){return V.key};this.getValue=function(){return V.value};this.hashCode=function(W){return h(V.key)};this.setValue=function(X){var W=V.value;V.value=X;return W}}this.clear=function(){P=0;N=[];N.length=T};this.clone=function(){var V=new K;V.putAll(this);return V};this.containsKey=function(X){var V=R(X);var Y=N[V];if(Y===r){return false}for(var W=0;W<Y.length;++W){if(p(Y[W].key,X)){return true}}return false};this.containsValue=function(X){for(var W=0;W<N.length;++W){var Y=N[W];if(Y===r){continue}for(var V=0;V<Y.length;++V){if(p(Y[V].value,X)){return true}}}return false};this.entrySet=function(){return new S(function(V){return new Q(V)},function(V){return V instanceof Q&&V._isIn(L)},function(V){return L.remove(V.getKey())})};this.get=function(X){var V=R(X);var Y=N[V];if(Y===r){return null}for(var W=0;W<Y.length;++W){if(p(Y[W].key,X)){return Y[W].value}}return null};this.isEmpty=function(){return P===0};this.keySet=function(){return new S(function(V){return V.key},function(V){return L.containsKey(V)},function(V){return L.remove(V)})};this.values=function(){return new S(function(V){return V.value},function(V){return L.containsValue(V)},function(V){return L.removeByValue(V)})};this.put=function(X,Z){var V=R(X);var aa=N[V];if(aa===r){++P;N[V]=[{key:X,value:Z}];O();return null}for(var W=0;W<aa.length;++W){if(p(aa[W].key,X)){var Y=aa[W].value;aa[W].value=Z;return Y}}++P;aa.push({key:X,value:Z});O();return null};this.putAll=function(V){var W=V.entrySet().iterator();while(W.hasNext()){var X=W.next();this.put(X.getKey(),X.getValue())}};this.remove=function(X){var V=R(X);var Z=N[V];if(Z===r){return null}for(var W=0;W<Z.length;++W){if(p(Z[W].key,X)){--P;var Y=Z[W].value;Z[W].removed=true;if(Z.length>1){Z.splice(W,1)}else{N[V]=r}return Y}}return null};this.removeByValue=function(X){var Z,W,V,Y;for(Z in N){if(N.hasOwnProperty(Z)){for(W=0,V=N[Z].length;W<V;W++){Y=N[Z][W];if(Y.value===X){N[Z].splice(W,1);return true}}}}return false};this.size=function(){return P}}return K}();function J(){}J.prototype=y;var g=new J;g.ArrayList=f;g.HashMap=v;g.ObjectIterator=m;g.PConstants=y;g.defineProperty=function(L,K,M){if("defineProperty" in Object){Object.defineProperty(L,K,M)}else{if(M.hasOwnProperty("get")){L.__defineGetter__(K,M.get)}if(M.hasOwnProperty("set")){L.__defineSetter__(K,M.set)}}};function i(N,M){function O(P){g.defineProperty(N,P,{get:function(){return M[P]},set:function(Q){M[P]=Q},enumerable:true})}var L=[];for(var K in M){if(typeof M[K]==="function"){if(!N.hasOwnProperty(K)){N[K]=M[K]}}else{if(K.charAt(0)!=="$"&&!(K in N)){L.push(K)}}}while(L.length>0){O(L.shift())}}g.extendClassChain=function(L){var M=[L];for(var K=L.$upcast;K;K=K.$upcast){i(K,L);M.push(K);L=K}while(M.length>0){M.pop().$self=L}};g.extendStaticMembers=function(K,L){i(K,L)};g.extendInterfaceMembers=function(K,L){i(K,L)};g.addMethod=function(N,M,P,O){if(N[M]){var L=P.length,K=N[M];N[M]=function(){if(arguments.length===L){return P.apply(this,arguments)}return K.apply(this,arguments)}}else{N[M]=P}};g.createJavaArray=function(O,P){var L=null;if(typeof P[0]==="number"){var K=0|P[0];if(P.length<=1){L=[];L.length=K;for(var N=0;N<K;++N){L[N]=0}}else{L=[];var Q=P.slice(1);for(var M=0;M<K;++M){L.push(g.createJavaArray(O,Q))}}}return L};var B={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgrey:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};(function(L){var O=("open() createOutput() createInput() BufferedReader selectFolder() dataPath() createWriter() selectOutput() beginRecord() saveStream() endRecord() selectInput() saveBytes() createReader() beginRaw() endRaw() PrintWriter delay()").split(" "),N=O.length,K,P;function M(Q){return function(){throw"Processing.js does not support "+Q+"."}}while(N--){K=O[N];P=K.replace("()","");L[P]=M(K)}})(g);g.defineProperty(g,"screenWidth",{get:function(){return A.innerWidth}});g.defineProperty(g,"screenHeight",{get:function(){return A.innerHeight}});var k=[];var G={};var I=function(K){k.splice(G[K],1);delete G[K]};var a=function(K){if(K.externals.canvas.id===r||!K.externals.canvas.id.length){K.externals.canvas.id="__processing"+k.length}G[K.externals.canvas.id]=k.length;k.push(K)};function n(U){var N=250,ab=U.size/N,K=d.createElement("canvas");K.width=2*N;K.height=2*N;K.style.opacity=0;var T=U.getCSSDefinition(N+"px","normal"),V=K.getContext("2d");V.font=T;U.context2d=V;var Z="dbflkhyjqpg";K.width=V.measureText(Z).width;V.font=T;var Q=d.createElement("div");Q.style.position="absolute";Q.style.opacity=0;Q.style.fontFamily='"'+U.name+'"';Q.style.fontSize=N+"px";Q.innerHTML=Z+"<br/>"+Z;d.body.appendChild(Q);var R=K.width,Y=K.height,S=Y/2;V.fillStyle="white";V.fillRect(0,0,R,Y);V.fillStyle="black";V.fillText(Z,0,S);var M=V.getImageData(0,0,R,Y).data;var W=0,P=R*4,X=M.length;while(++W<X&&M[W]===255){D()}var O=o.round(W/P);W=X-1;while(--W>0&&M[W]===255){D()}var aa=o.round(W/P);U.ascent=ab*(S-O);U.descent=ab*(aa-S);if(d.defaultView.getComputedStyle){var L=d.defaultView.getComputedStyle(Q,null).getPropertyValue("height");L=ab*L.replace("px","");if(L>=U.size*2){U.leading=o.round(L/2)}}d.body.removeChild(Q)}function E(K,L){if(K===r){K=""}this.name=K;if(L===r){L=0}this.size=L;this.glyph=false;this.ascent=0;this.descent=0;this.leading=1.2*L;var O=K.indexOf(" Italic Bold");if(O!==-1){K=K.substring(0,O)}this.style="normal";var N=K.indexOf(" Italic");if(N!==-1){K=K.substring(0,N);this.style="italic"}this.weight="normal";var M=K.indexOf(" Bold");if(M!==-1){K=K.substring(0,M);this.weight="bold"}this.family="sans-serif";if(K!==r){switch(K){case"sans-serif":case"serif":case"monospace":case"fantasy":case"cursive":this.family=K;break;default:this.family='"'+K+'", sans-serif';break}}this.context2d=null;n(this);this.css=this.getCSSDefinition();this.context2d.font=this.css}E.prototype.getCSSDefinition=function(M,K){if(M===r){M=this.size+"px"}if(K===r){K=this.leading+"px"}var L=[this.style,"normal",this.weight,M+"/"+K,this.family];return L.join(" ")};E.prototype.measureTextWidth=function(K){return this.context2d.measureText(K).width};E.PFontCache={};E.get=function(M,N){var L=E.PFontCache;var K=M+"/"+N;if(!L[K]){L[K]=new E(M,N)}return L[K]};E.list=function(){return["sans-serif","serif","monospace","fantasy","cursive"]};E.preloading={template:{},initialized:false,initialize:function(){var M=function(){var O="#E3KAI2wAgT1MvMg7Eo3VmNtYX7ABi3CxnbHlm7Abw3kaGVhZ7ACs3OGhoZWE7A53CRobXR47AY3AGbG9jYQ7G03Bm1heH7ABC3CBuYW1l7Ae3AgcG9zd7AI3AE#B3AQ2kgTY18PPPUACwAg3ALSRoo3#yld0xg32QAB77#E777773B#E3C#I#Q77773E#Q7777777772CMAIw7AB77732B#M#Q3wAB#g3B#E#E2BB//82BB////w#B7#gAEg3E77x2B32B#E#Q#MTcBAQ32gAe#M#QQJ#E32M#QQJ#I#g32Q77#";var N=function(P){return"AAAAAAAA".substr(~~P?7-P:6)};return O.replace(/[#237]/g,N)};var K=d.createElement("style");K.setAttribute("type","text/css");K.innerHTML='@font-face {\n  font-family: "PjsEmptyFont";\n  src: url(\'data:application/x-font-ttf;base64,'+M()+"')\n       format('truetype');\n}";d.head.appendChild(K);var L=d.createElement("span");L.style.cssText='position: absolute; top: 0; left: 0; opacity: 0; font-family: "PjsEmptyFont", fantasy;';L.innerHTML="AAAAAAAA";d.body.appendChild(L);this.template=L;this.initialized=true},getElementWidth:function(K){return d.defaultView.getComputedStyle(K,"").getPropertyValue("width")},timeAttempted:0,pending:function(O){if(!this.initialized){this.initialize()}var M,K,N=this.getElementWidth(this.template);for(var L=0;L<this.fontList.length;L++){M=this.fontList[L];K=this.getElementWidth(M);if(this.timeAttempted<4000&&K===N){this.timeAttempted+=O;return true}else{d.body.removeChild(M);this.fontList.splice(L--,1);this.timeAttempted=0}}if(this.fontList.length===0){return false}return true},fontList:[],addedList:{},add:function(K){if(!this.initialized){this.initialize()}var O=typeof K==="object"?K.fontFace:K,N=typeof K==="object"?K.url:K;if(this.addedList[O]){return}var M=d.createElement("style");M.setAttribute("type","text/css");M.innerHTML="@font-face{\n  font-family: '"+O+"';\n  src:  url('"+N+"');\n}\n";d.head.appendChild(M);this.addedList[O]=true;var L=d.createElement("span");L.style.cssText="position: absolute; top: 0; left: 0; opacity: 0;";L.style.fontFamily='"'+O+'", "PjsEmptyFont", fantasy';L.innerHTML="AAAAAAAA";d.body.appendChild(L);this.fontList.push(L)}};g.PFont=E;var C=this.Processing=function(a9,a5){if(!(this instanceof C)){throw"called Processing constructor as if it were a function: missing 'new'."}var ab,cT=a9===r&&a5===r;if(cT){ab=d.createElement("canvas")}else{ab=typeof a9==="string"?d.getElementById(a9):a9}if(!(ab instanceof HTMLCanvasElement)){throw"called Processing constructor without passing canvas element reference or id."}function dt(d9){C.debug("Unimplemented - "+d9)}var cU=this;cU.externals={canvas:ab,context:r,sketch:r};cU.name="Processing.js Instance";cU.use3DContext=false;cU.focused=false;cU.breakShape=false;cU.glyphTable={};cU.pmouseX=0;cU.pmouseY=0;cU.mouseX=0;cU.mouseY=0;cU.mouseButton=0;cU.mouseScroll=0;cU.mouseClicked=r;cU.mouseDragged=r;cU.mouseMoved=r;cU.mousePressed=r;cU.mouseReleased=r;cU.mouseScrolled=r;cU.mouseOver=r;cU.mouseOut=r;cU.touchStart=r;cU.touchEnd=r;cU.touchMove=r;cU.touchCancel=r;cU.key=r;cU.keyCode=r;cU.keyPressed=D;cU.keyReleased=D;cU.keyTyped=D;cU.draw=r;cU.setup=r;cU.__mousePressed=false;cU.__keyPressed=false;cU.__frameRate=60;cU.mouseIsPressed=false;cU.keyIsPressed=false;cU.frameCount=0;cU.width=100;cU.height=100;cU.angleMode="degrees";var d2=cU.PVector=function(){function d9(ec,ee,ed){this.x=ec||0;this.y=ee||0;this.z=ed||0}d9.fromAngle=function(ed,ec){if(ec===r||ec===null){ec=new d9}ec.x=cU.cos(ed);ec.y=cU.sin(ed);return ec};d9.random2D=function(ec){return d9.fromAngle(o.random()*360,ec)};d9.random3D=function(ec){var eh=o.random()*360;var ed=o.random()*2-1;var eg=o.sqrt(1-ed*ed);var ef=eg*cU.cos(eh);var ee=eg*cU.sin(eh);if(ec===r||ec===null){ec=new d9(ef,ee,ed)}else{ec.set(ef,ee,ed)}return ec};d9.dist=function(ed,ec){return ed.dist(ec)};d9.dot=function(ed,ec){return ed.dot(ec)};d9.cross=function(ed,ec){return ed.cross(ec)};d9.sub=function(ed,ec){return new d9(ed.x-ec.x,ed.y-ec.y,ed.z-ec.z)};d9.angleBetween=function(ed,ec){return cU.acos(ed.dot(ec)/(ed.mag()*ec.mag()))};d9.lerp=function(ef,ed,ee){var ec=new d9(ef.x,ef.y,ef.z);ec.lerp(ed,ee);return ec};d9.prototype={set:function(ec,ee,ed){if(arguments.length===1){this.set(ec.x||ec[0]||0,ec.y||ec[1]||0,ec.z||ec[2]||0)}else{this.x=ec||0;this.y=ee||0;this.z=ed||0}},get:function(){return new d9(this.x,this.y,this.z)},mag:function(){var ec=this.x,ee=this.y,ed=this.z;return o.sqrt(ec*ec+ee*ee+ed*ed)},magSq:function(){var ec=this.x,ee=this.y,ed=this.z;return ec*ec+ee*ee+ed*ed},setMag:function(ee,ec){if(ec===r){ec=ee;this.normalize();this.mult(ec)}else{var ed=ee;ed.normalize();ed.mult(ec);return ed}},add:function(ec,ee,ed){if(arguments.length===1){this.x+=ec.x;this.y+=ec.y;this.z+=ec.z}else{this.x+=ec;this.y+=ee;this.z+=ed}},sub:function(ec,ee,ed){if(arguments.length===1){this.x-=ec.x;this.y-=ec.y;this.z-=ec.z}else{this.x-=ec;this.y-=ee;this.z-=ed}},mult:function(ec){if(typeof ec==="number"){this.x*=ec;this.y*=ec;this.z*=ec}else{this.x*=ec.x;this.y*=ec.y;this.z*=ec.z}},div:function(ec){if(typeof ec==="number"){this.x/=ec;this.y/=ec;this.z/=ec}else{this.x/=ec.x;this.y/=ec.y;this.z/=ec.z}},rotate:function(ee){var ec=this.x;var ef=cU.cos(ee);var ed=cU.sin(ee);this.x=ef*this.x-ed*this.y;this.y=ed*ec+ef*this.y},dist:function(ef){var ee=this.x-ef.x,ed=this.y-ef.y,ec=this.z-ef.z;return o.sqrt(ee*ee+ed*ed+ec*ec)},dot:function(ec,ee,ed){if(arguments.length===1){return this.x*ec.x+this.y*ec.y+this.z*ec.z}return this.x*ec+this.y*ee+this.z*ed},cross:function(ed){var ec=this.x,ef=this.y,ee=this.z;return new d9(ef*ed.z-ed.y*ee,ee*ed.x-ed.z*ec,ec*ed.y-ed.x*ef)},lerp:function(eg,ee,ef,ei){var ed=function(el,ej,ek){return el+(ej-el)*ek};var ec,eh;if(arguments.length===2){ei=ee;ec=eg.x;eh=eg.y;ef=eg.z}else{ec=eg;eh=ee}this.x=ed(this.x,ec,ei);this.y=ed(this.y,eh,ei);this.z=ed(this.z,ef,ei)},normalize:function(){var ec=this.mag();if(ec>0){this.div(ec)}},limit:function(ec){if(this.mag()>ec){this.normalize();this.mult(ec)}},heading:function(){return -cU.atan2(-this.y,this.x)},heading2D:function(){return this.heading()},toString:function(){return"["+this.x+", "+this.y+", "+this.z+"]"},array:function(){return[this.x,this.y,this.z]}};function ea(ec){return function(ef,ee){var ed=ef.get();ed[ec](ee);return ed}}for(var eb in d9.prototype){if(d9.prototype.hasOwnProperty(eb)&&!d9.hasOwnProperty(eb)&&eb!=="toString"){d9[eb]=ea(eb)}}return d9}();var d6,cO,dV,bz=true,aE=true,bk=[1,1,1,1],aW=4294967295,ao=true,cc=true,cY=[0,0,0,1],ct=4278190080,b1=true,dT=1,av=false,dK=false,aA=true,b2=0,bH=0,cL=3,a3=0,a2=0,a1=0,aX=0,dR=60,ax=1000/dR,W="default",ci=ab.style.cursor,dO=20,ch=0,d4=[],aG=0,N=20,cK=false,aZ=-3355444,cw=20,bQ=255,bF=255,bE=255,bC=255,cX=false,aH=false,dJ=0,d3=0,cW=1,ba=null,bs=null,a0=false,dl=Date.now(),dp=dl,M=0,cC,c1,aM,aI,bv,cb,R,dz={attributes:{},locations:{}},du,dM,bP,bc,cH,dh,az,b0,bb,b6,aq,aD,by,au,ad,c5,bO,cq={width:0,height:0},d1=2,dQ=false,cF,Z,O,K=37,cZ=0,cG=4,V="Arial",dX=12,aY=9,dx=2,d5=14,T=E.get(V,dX),ah,cl=null,dS=false,d0,bX=1000,ae=[],dE=null,dU=[16,17,18,20,33,34,35,36,37,38,39,40,144,155,112,113,114,115,116,117,118,119,120,121,122,123,157];var aa,dk,aQ,bU;if(d.defaultView&&d.defaultView.getComputedStyle){aa=parseInt(d.defaultView.getComputedStyle(ab,null)["paddingLeft"],10)||0;dk=parseInt(d.defaultView.getComputedStyle(ab,null)["paddingTop"],10)||0;aQ=parseInt(d.defaultView.getComputedStyle(ab,null)["borderLeftWidth"],10)||0;bU=parseInt(d.defaultView.getComputedStyle(ab,null)["borderTopWidth"],10)||0}var dH=0;var bI=0,bJ=0,bp=[],bo=[],bn=[],af=new e(720),bi=new e(720),cD,cy;var bS,cf,dF,aP,ak,c8,Y,c9,an=false,cg=false,cI=60*(o.PI/180),di=cU.width/2,dg=cU.height/2,df=dg/o.tan(cI/2),aV=df/10,at=df*10,b3=cU.width/cU.height;var a6=[],b9=[],c0=0,dL=false,X=false,dr=true;var P=0;var bh=[];var de=new e([0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5]);var bD=new e([0.5,0.5,0.5,0.5,-0.5,0.5,0.5,0.5,-0.5,0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5,0.5,0.5,0.5,0.5,0.5,-0.5,0.5,0.5,-0.5,-0.5,0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,-0.5,0.5,-0.5,-0.5,0.5,0.5,-0.5,0.5]);var dd=new e([0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0,0,1,0]);var ai=new e([0,0,0,0,1,0,1,1,0,1,0,0]);var ag=new e([0,0,1,0,0,1,0,0,1,0,0,1]);var bR="varying vec4 frontColor;attribute vec3 aVertex;attribute vec4 aColor;uniform mat4 uView;uniform mat4 uProjection;uniform float pointSize;void main(void) {  frontColor = aColor;  gl_PointSize = pointSize;  gl_Position = uProjection * uView * vec4(aVertex, 1.0);}";var be="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;void main(void){  gl_FragColor = frontColor;}";var ac="varying vec4 frontColor;attribute vec3 Vertex;attribute vec2 aTextureCoord;uniform vec4 color;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform float pointSize;varying vec2 vTextureCoord;void main(void) {  gl_PointSize = pointSize;  frontColor = color;  gl_Position = projection * view * model * vec4(Vertex, 1.0);  vTextureCoord = aTextureCoord;}";var bW="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;varying vec2 vTextureCoord;uniform sampler2D uSampler;uniform int picktype;void main(void){  if(picktype == 0){    gl_FragColor = frontColor;  }  else if(picktype == 1){    float alpha = texture2D(uSampler, vTextureCoord).a;    gl_FragColor = vec4(frontColor.rgb*alpha, alpha);\n  }}";var bw=/Windows/.test(navigator.userAgent);var d7="varying vec4 frontColor;attribute vec3 Vertex;attribute vec3 Normal;attribute vec4 aColor;attribute vec2 aTexture;varying   vec2 vTexture;uniform vec4 color;uniform bool usingMat;uniform vec3 specular;uniform vec3 mat_emissive;uniform vec3 mat_ambient;uniform vec3 mat_specular;uniform float shininess;uniform mat4 model;uniform mat4 view;uniform mat4 projection;uniform mat4 normalTransform;uniform int lightCount;uniform vec3 falloff;struct Light {  int type;  vec3 color;  vec3 position;  vec3 direction;  float angle;  vec3 halfVector;  float concentration;};uniform Light lights0;uniform Light lights1;uniform Light lights2;uniform Light lights3;uniform Light lights4;uniform Light lights5;uniform Light lights6;uniform Light lights7;Light getLight(int index){  if(index == 0) return lights0;  if(index == 1) return lights1;  if(index == 2) return lights2;  if(index == 3) return lights3;  if(index == 4) return lights4;  if(index == 5) return lights5;  if(index == 6) return lights6;  return lights7;}void AmbientLight( inout vec3 totalAmbient, in vec3 ecPos, in Light light ) {  float d = length( light.position - ecPos );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  totalAmbient += light.color * attenuation;}void DirectionalLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor = 0.0;  float nDotVP = max(0.0, dot( vertNormal, normalize(-light.position) ));  float nDotVH = max(0.0, dot( vertNormal, normalize(-light.position-normalize(ecPos) )));  if( nDotVP != 0.0 ){    powerfactor = pow( nDotVH, shininess );  }  col += light.color * nDotVP;  spec += specular * powerfactor;}void PointLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float powerfactor;   vec3 VP = light.position - ecPos;  float d = length( VP );   VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ));  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0) {    powerfactor = 0.0;  }  else{    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void SpotLight( inout vec3 col, inout vec3 spec, in vec3 vertNormal, in vec3 ecPos, in Light light ) {  float spotAttenuation;  float powerfactor;  vec3 VP = light.position - ecPos;   vec3 ldir = normalize( -light.direction );  float d = length( VP );  VP = normalize( VP );  float attenuation = 1.0 / ( falloff[0] + ( falloff[1] * d ) + ( falloff[2] * d * d ) );  float spotDot = dot( VP, ldir );"+(bw?"  spotAttenuation = 1.0; ":"  if( spotDot > cos( light.angle ) ) {    spotAttenuation = pow( spotDot, light.concentration );  }  else{    spotAttenuation = 0.0;  }  attenuation *= spotAttenuation;")+"  float nDotVP = max( 0.0, dot( vertNormal, VP ));  vec3 halfVector = normalize( VP - normalize(ecPos) );  float nDotHV = max( 0.0, dot( vertNormal, halfVector ));  if( nDotVP == 0.0 ) {    powerfactor = 0.0;  }  else {    powerfactor = pow( nDotHV, shininess );  }  spec += specular * powerfactor * attenuation;  col += light.color * nDotVP * attenuation;}void main(void) {  vec3 finalAmbient = vec3( 0.0, 0.0, 0.0 );  vec3 finalDiffuse = vec3( 0.0, 0.0, 0.0 );  vec3 finalSpecular = vec3( 0.0, 0.0, 0.0 );  vec4 col = color;  if(color[0] == -1.0){    col = aColor;  }  vec3 norm = normalize(vec3( normalTransform * vec4( Normal, 0.0 ) ));  vec4 ecPos4 = view * model * vec4(Vertex,1.0);  vec3 ecPos = (vec3(ecPos4))/ecPos4.w;  if( lightCount == 0 ) {    frontColor = col + vec4(mat_specular,1.0);  }  else {    for( int i = 0; i < 8; i++ ) {      Light l = getLight(i);      if( i >= lightCount ){        break;      }      if( l.type == 0 ) {        AmbientLight( finalAmbient, ecPos, l );      }      else if( l.type == 1 ) {        DirectionalLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else if( l.type == 2 ) {        PointLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }      else {        SpotLight( finalDiffuse, finalSpecular, norm, ecPos, l );      }    }   if( usingMat == false ) {     frontColor = vec4(       vec3(col) * finalAmbient +       vec3(col) * finalDiffuse +       vec3(col) * finalSpecular,       col[3] );   }   else{     frontColor = vec4(        mat_emissive +        (vec3(col) * mat_ambient * finalAmbient) +        (vec3(col) * finalDiffuse) +        (mat_specular * finalSpecular),        col[3] );    }  }  vTexture.xy = aTexture.xy;  gl_Position = projection * view * model * vec4( Vertex, 1.0 );}";var bG="#ifdef GL_ES\nprecision highp float;\n#endif\nvarying vec4 frontColor;uniform sampler2D sampler;uniform bool usingTexture;varying vec2 vTexture;void main(void){  if(usingTexture){    gl_FragColor = vec4(texture2D(sampler, vTexture.xy)) * frontColor;  }  else{    gl_FragColor = frontColor;  }}";function dZ(eb,ea,ed,ec){var d9=dz.locations[eb];if(d9===r){d9=d6.getUniformLocation(ea,ed);dz.locations[eb]=d9}if(d9!==null){if(ec.length===4){d6.uniform4fv(d9,ec)}else{if(ec.length===3){d6.uniform3fv(d9,ec)}else{if(ec.length===2){d6.uniform2fv(d9,ec)}else{d6.uniform1f(d9,ec)}}}}}function dW(eb,ea,ed,ec){var d9=dz.locations[eb];if(d9===r){d9=d6.getUniformLocation(ea,ed);dz.locations[eb]=d9}if(d9!==null){if(ec.length===4){d6.uniform4iv(d9,ec)}else{if(ec.length===3){d6.uniform3iv(d9,ec)}else{if(ec.length===2){d6.uniform2iv(d9,ec)}else{d6.uniform1i(d9,ec)}}}}}function a4(ed,eb,ee,ec,ea){var d9=dz.locations[ed];if(d9===r){d9=d6.getUniformLocation(eb,ee);dz.locations[ed]=d9}if(d9!==-1){if(ea.length===16){d6.uniformMatrix4fv(d9,ec,ea)}else{if(ea.length===9){d6.uniformMatrix3fv(d9,ec,ea)}else{d6.uniformMatrix2fv(d9,ec,ea)}}}}function da(ed,eb,ee,ea,ec){var d9=dz.attributes[ed];if(d9===r){d9=d6.getAttribLocation(eb,ee);dz.attributes[ed]=d9}if(d9!==-1){d6.bindBuffer(d6.ARRAY_BUFFER,ec);d6.vertexAttribPointer(d9,ea,d6.FLOAT,false,0,0);d6.enableVertexAttribArray(d9)}}function ce(eb,ea,ec){var d9=dz.attributes[eb];if(d9===r){d9=d6.getAttribLocation(ea,ec);dz.attributes[eb]=d9}if(d9!==-1){d6.disableVertexAttribArray(d9)}}var bB=function(eb,ed,ea){var ee=eb.createShader(eb.VERTEX_SHADER);eb.shaderSource(ee,ed);eb.compileShader(ee);if(!eb.getShaderParameter(ee,eb.COMPILE_STATUS)){throw eb.getShaderInfoLog(ee)}var ec=eb.createShader(eb.FRAGMENT_SHADER);eb.shaderSource(ec,ea);eb.compileShader(ec);if(!eb.getShaderParameter(ec,eb.COMPILE_STATUS)){throw eb.getShaderInfoLog(ec)}var d9=eb.createProgram();eb.attachShader(d9,ee);eb.attachShader(d9,ec);eb.linkProgram(d9);if(!eb.getProgramParameter(d9,eb.LINK_STATUS)){throw"Error linking shaders."}return d9};var aU=function(d9,ed,ea,ec,eb){return{x:d9,y:ed,w:ea,h:ec}};var bg=aU;var bZ=function(d9,ed,ea,ec,eb){return{x:d9,y:ed,w:eb?ea:ea-d9,h:eb?ec:ec-ed}};var aK=function(d9,ed,ea,ec,eb){return{x:d9-ea/2,y:ed-ec/2,w:ea,h:ec}};var dn=function(){};var bN=function(){};var bx=function(){};var b8=function(){};bN.prototype=new dn;bN.prototype.constructor=bN;bx.prototype=new dn;bx.prototype.constructor=bx;b8.prototype=new dn;b8.prototype.constructor=b8;dn.prototype.a3DOnlyFunction=D;var cj={};var bM=cU.Character=function(d9){if(typeof d9==="string"&&d9.length===1){this.code=d9.charCodeAt(0)}else{if(typeof d9==="number"){this.code=d9}else{if(d9 instanceof bM){this.code=d9}else{this.code=NaN}}}return cj[this.code]===r?cj[this.code]=this:cj[this.code]};bM.prototype.toString=function(){return String.fromCharCode(this.code)};bM.prototype.valueOf=function(){return this.code};var L=cU.PShape=function(d9){this.family=d9||0;this.visible=true;this.style=true;this.children=[];this.nameTable=[];this.params=[];this.name="";this.image=null;this.matrix=null;this.kind=null;this.close=null;this.width=null;this.height=null;this.parent=null};L.prototype={isVisible:function(){return this.visible},setVisible:function(d9){this.visible=d9},disableStyle:function(){this.style=false;for(var ea=0,d9=this.children.length;ea<d9;ea++){this.children[ea].disableStyle()}},enableStyle:function(){this.style=true;for(var ea=0,d9=this.children.length;ea<d9;ea++){this.children[ea].enableStyle()}},getFamily:function(){return this.family},getWidth:function(){return this.width},getHeight:function(){return this.height},setName:function(d9){this.name=d9},getName:function(){return this.name},draw:function(){if(this.visible){this.pre();this.drawImpl();this.post()}},drawImpl:function(){if(this.family===0){this.drawGroup()}else{if(this.family===1){this.drawPrimitive()}else{if(this.family===3){this.drawGeometry()}else{if(this.family===21){this.drawPath()}}}}},drawPath:function(){var eb,ea;if(this.vertices.length===0){return}cU.beginShape();if(this.vertexCodes.length===0){if(this.vertices[0].length===2){for(eb=0,ea=this.vertices.length;eb<ea;eb++){cU.vertex(this.vertices[eb][0],this.vertices[eb][1])}}else{for(eb=0,ea=this.vertices.length;eb<ea;eb++){cU.vertex(this.vertices[eb][0],this.vertices[eb][1],this.vertices[eb][2])}}}else{var d9=0;if(this.vertices[0].length===2){for(eb=0,ea=this.vertexCodes.length;eb<ea;eb++){if(this.vertexCodes[eb]===0){cU.vertex(this.vertices[d9][0],this.vertices[d9][1]);if(this.vertices[d9]["moveTo"]===true){a6[a6.length-1]["moveTo"]=true}else{if(this.vertices[d9]["moveTo"]===false){a6[a6.length-1]["moveTo"]=false}}cU.breakShape=false;d9++}else{if(this.vertexCodes[eb]===1){cU.bezierVertex(this.vertices[d9+0][0],this.vertices[d9+0][1],this.vertices[d9+1][0],this.vertices[d9+1][1],this.vertices[d9+2][0],this.vertices[d9+2][1]);d9+=3}else{if(this.vertexCodes[eb]===2){cU.curveVertex(this.vertices[d9][0],this.vertices[d9][1]);d9++}else{if(this.vertexCodes[eb]===3){cU.breakShape=true}}}}}}else{for(eb=0,ea=this.vertexCodes.length;eb<ea;eb++){if(this.vertexCodes[eb]===0){cU.vertex(this.vertices[d9][0],this.vertices[d9][1],this.vertices[d9][2]);if(this.vertices[d9]["moveTo"]===true){a6[a6.length-1]["moveTo"]=true}else{if(this.vertices[d9]["moveTo"]===false){a6[a6.length-1]["moveTo"]=false}}cU.breakShape=false}else{if(this.vertexCodes[eb]===1){cU.bezierVertex(this.vertices[d9+0][0],this.vertices[d9+0][1],this.vertices[d9+0][2],this.vertices[d9+1][0],this.vertices[d9+1][1],this.vertices[d9+1][2],this.vertices[d9+2][0],this.vertices[d9+2][1],this.vertices[d9+2][2]);d9+=3}else{if(this.vertexCodes[eb]===2){cU.curveVertex(this.vertices[d9][0],this.vertices[d9][1],this.vertices[d9][2]);d9++}else{if(this.vertexCodes[eb]===3){cU.breakShape=true}}}}}}}cU.endShape(this.close?2:1)},drawGeometry:function(){var eb,ea;cU.beginShape(this.kind);if(this.style){for(eb=0,ea=this.vertices.length;eb<ea;eb++){cU.vertex(this.vertices[eb])}}else{for(eb=0,ea=this.vertices.length;eb<ea;eb++){var d9=this.vertices[eb];if(d9[2]===0){cU.vertex(d9[0],d9[1])}else{cU.vertex(d9[0],d9[1],d9[2])}}}cU.endShape()},drawGroup:function(){for(var ea=0,d9=this.children.length;ea<d9;ea++){this.children[ea].draw()}},drawPrimitive:function(){if(this.kind===2){cU.point(this.params[0],this.params[1])}else{if(this.kind===4){if(this.params.length===4){cU.line(this.params[0],this.params[1],this.params[2],this.params[3])}else{cU.line(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}}else{if(this.kind===8){cU.triangle(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===16){cU.quad(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5],this.params[6],this.params[7])}else{if(this.kind===30){if(this.image!==null){cU.imageMode(0);cU.image(this.image,this.params[0],this.params[1],this.params[2],this.params[3])}else{cU.rectMode(0);cU.rect(this.params[0],this.params[1],this.params[2],this.params[3])}}else{if(this.kind===31){cU.ellipseMode(0);cU.ellipse(this.params[0],this.params[1],this.params[2],this.params[3])}else{if(this.kind===32){cU.ellipseMode(0);cU.arc(this.params[0],this.params[1],this.params[2],this.params[3],this.params[4],this.params[5])}else{if(this.kind===41){if(this.params.length===1){cU.box(this.params[0])}else{cU.box(this.params[0],this.params[1],this.params[2])}}else{if(this.kind===40){cU.sphere(this.params[0])}}}}}}}}}},pre:function(){if(this.matrix){cU.pushMatrix();d6.transform(this.matrix.elements[0],this.matrix.elements[3],this.matrix.elements[1],this.matrix.elements[4],this.matrix.elements[2],this.matrix.elements[5])}if(this.style){cU.pushStyle();this.styles()}},post:function(){if(this.matrix){cU.popMatrix()}if(this.style){cU.popStyle()}},styles:function(){if(this.stroke){cU.stroke(this.strokeColor);cU.strokeWeight(this.strokeWeight);cU.strokeCap(this.strokeCap);cU.strokeJoin(this.strokeJoin)}else{cU.noStroke()}if(this.fill){cU.fill(this.fillColor)}else{cU.noFill()}},getChild:function(ec){var ea,d9;if(typeof ec==="number"){return this.children[ec]}var eb;if(ec===""||this.name===ec){return this}if(this.nameTable.length>0){for(ea=0,d9=this.nameTable.length;ea<d9||eb;ea++){if(this.nameTable[ea].getName===ec){eb=this.nameTable[ea];break}}if(eb){return eb}}for(ea=0,d9=this.children.length;ea<d9;ea++){eb=this.children[ea].getChild(ec);if(eb){return eb}}return null},getChildCount:function(){return this.children.length},addChild:function(d9){this.children.push(d9);d9.parent=this;if(d9.getName()!==null){this.addName(d9.getName(),d9)}},addName:function(ea,d9){if(this.parent!==null){this.parent.addName(ea,d9)}else{this.nameTable.push([ea,d9])}},translate:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.translate(arguments[0],arguments[1])}else{this.checkMatrix(3);this.matrix.translate(arguments[0],arguments[1],0)}},checkMatrix:function(d9){if(this.matrix===null){if(d9===2){this.matrix=new cU.PMatrix2D}else{this.matrix=new cU.PMatrix3D}}else{if(d9===3&&this.matrix instanceof cU.PMatrix2D){this.matrix=new cU.PMatrix3D}}},rotateX:function(d9){this.rotate(d9,1,0,0)},rotateY:function(d9){this.rotate(d9,0,1,0)},rotateZ:function(d9){this.rotate(d9,0,0,1)},rotate:function(){if(arguments.length===1){this.checkMatrix(2);this.matrix.rotate(arguments[0])}else{this.checkMatrix(3);this.matrix.rotate(arguments[0],arguments[1],arguments[2],arguments[3])}},scale:function(){if(arguments.length===2){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1])}else{if(arguments.length===3){this.checkMatrix(2);this.matrix.scale(arguments[0],arguments[1],arguments[2])}else{this.checkMatrix(2);this.matrix.scale(arguments[0])}}},resetMatrix:function(){this.checkMatrix(2);this.matrix.reset()},applyMatrix:function(d9){if(arguments.length===1){this.applyMatrix(d9.elements[0],d9.elements[1],0,d9.elements[2],d9.elements[3],d9.elements[4],0,d9.elements[5],0,0,1,0,0,0,0,1)}else{if(arguments.length===6){this.checkMatrix(2);this.matrix.apply(arguments[0],arguments[1],arguments[2],0,arguments[3],arguments[4],arguments[5],0,0,0,1,0,0,0,0,1)}else{if(arguments.length===16){this.checkMatrix(3);this.matrix.apply(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11],arguments[12],arguments[13],arguments[14],arguments[15])}}}}};var cp=cU.PShapeSVG=function(){cU.PShape.call(this);if(arguments.length===1){this.element=arguments[0];this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=4278190080;this.strokeWeight=1;this.strokeCap="butt";this.strokeJoin="miter";this.strokeGradient=null;this.strokeGradientPaint=null;this.strokeName=null;this.strokeOpacity=1;this.fill=true;this.fillColor=4278190080;this.fillGradient=null;this.fillGradientPaint=null;this.fillName=null;this.fillOpacity=1;if(this.element.getName()!=="svg"){throw"root is not <svg>, it's <"+this.element.getName()+">"}}else{if(arguments.length===2){if(typeof arguments[1]==="string"){if(arguments[1].indexOf(".svg")>-1){this.element=new cU.XMLElement(null,arguments[1]);this.vertexCodes=[];this.vertices=[];this.opacity=1;this.stroke=false;this.strokeColor=4278190080;this.strokeWeight=1;this.strokeCap="butt";this.strokeJoin="miter";this.strokeGradient="";this.strokeGradientPaint="";this.strokeName="";this.strokeOpacity=1;this.fill=true;this.fillColor=4278190080;this.fillGradient=null;this.fillGradientPaint=null;this.fillOpacity=1}}else{if(arguments[0]){this.element=arguments[1];this.vertexCodes=arguments[0].vertexCodes.slice();this.vertices=arguments[0].vertices.slice();this.stroke=arguments[0].stroke;this.strokeColor=arguments[0].strokeColor;this.strokeWeight=arguments[0].strokeWeight;this.strokeCap=arguments[0].strokeCap;this.strokeJoin=arguments[0].strokeJoin;this.strokeGradient=arguments[0].strokeGradient;this.strokeGradientPaint=arguments[0].strokeGradientPaint;this.strokeName=arguments[0].strokeName;this.fill=arguments[0].fill;this.fillColor=arguments[0].fillColor;this.fillGradient=arguments[0].fillGradient;this.fillGradientPaint=arguments[0].fillGradientPaint;this.fillName=arguments[0].fillName;this.strokeOpacity=arguments[0].strokeOpacity;this.fillOpacity=arguments[0].fillOpacity;this.opacity=arguments[0].opacity}}}}this.name=this.element.getStringAttribute("id");var d9=this.element.getStringAttribute("display","inline");this.visible=d9!=="none";var ee=this.element.getAttribute("transform");if(ee){this.matrix=this.parseMatrix(ee)}var eb=this.element.getStringAttribute("viewBox");if(eb!==null){var ed=eb.split(" ");this.width=ed[2];this.height=ed[3]}var ea=this.element.getStringAttribute("width");var ec=this.element.getStringAttribute("height");if(ea!==null){this.width=this.parseUnitSize(ea);this.height=this.parseUnitSize(ec)}else{if(this.width===0||this.height===0){this.width=1;this.height=1;throw"The width and/or height is not readable in the <svg> tag of this file."}}this.parseColors(this.element);this.parseChildren(this.element)};cp.prototype=new L;cp.prototype.parseMatrix=function(){function d9(eb){var ea=[];eb.replace(/\((.*?)\)/,function(){return function(ec,ed){ea=ed.replace(/,+/g," ").split(/\s+/)}}());return ea}return function(eh){this.checkMatrix(2);var ea=[];eh.replace(/\s*(\w+)\((.*?)\)/g,function(ek){ea.push(cU.trim(ek))});if(ea.length===0){return null}for(var ef=0,ed=ea.length;ef<ed;ef++){var eb=d9(ea[ef]);if(ea[ef].indexOf("matrix")!==-1){this.matrix.set(eb[0],eb[2],eb[4],eb[1],eb[3],eb[5])}else{if(ea[ef].indexOf("translate")!==-1){var eg=eb[0];var ee=eb.length===2?eb[1]:0;this.matrix.translate(eg,ee)}else{if(ea[ef].indexOf("scale")!==-1){var ej=eb[0];var ei=eb.length===2?eb[1]:eb[0];this.matrix.scale(ej,ei)}else{if(ea[ef].indexOf("rotate")!==-1){var ec=eb[0];if(eb.length===1){this.matrix.rotate(cU.angleMode==="degrees"?ec:cU.radians(ec))}else{if(eb.length===3){this.matrix.translate(eb[1],eb[2]);this.matrix.rotate(cU.angleMode==="degrees"?eb[0]:cU.radians(eb[0]));this.matrix.translate(-eb[1],-eb[2])}}}else{if(ea[ef].indexOf("skewX")!==-1){this.matrix.skewX(parseFloat(eb[0]))}else{if(ea[ef].indexOf("skewY")!==-1){this.matrix.skewY(eb[0])}}}}}}}return this.matrix}}();cp.prototype.parseChildren=function(ee){var ea=ee.getChildren();var ed=new cU.PShape;for(var ec=0,eb=ea.length;ec<eb;ec++){var d9=this.parseChild(ea[ec]);if(d9){ed.addChild(d9)}}this.children.push(ed)};cp.prototype.getName=function(){return this.name};cp.prototype.parseChild=function(eb){var ea=eb.getName();var d9;if(ea==="g"){d9=new cp(this,eb)}else{if(ea==="defs"){d9=new cp(this,eb)}else{if(ea==="line"){d9=new cp(this,eb);d9.parseLine()}else{if(ea==="circle"){d9=new cp(this,eb);d9.parseEllipse(true)}else{if(ea==="ellipse"){d9=new cp(this,eb);d9.parseEllipse(false)}else{if(ea==="rect"){d9=new cp(this,eb);d9.parseRect()}else{if(ea==="polygon"){d9=new cp(this,eb);d9.parsePoly(true)}else{if(ea==="polyline"){d9=new cp(this,eb);d9.parsePoly(false)}else{if(ea==="path"){d9=new cp(this,eb);d9.parsePath()}else{if(ea==="radialGradient"){dt("PShapeSVG.prototype.parseChild, name = radialGradient")}else{if(ea==="linearGradient"){dt("PShapeSVG.prototype.parseChild, name = linearGradient")}else{if(ea==="text"){dt("PShapeSVG.prototype.parseChild, name = text")}else{if(ea==="filter"){dt("PShapeSVG.prototype.parseChild, name = filter")}else{if(ea==="mask"){dt("PShapeSVG.prototype.parseChild, name = mask")}else{D()}}}}}}}}}}}}}}return d9};cp.prototype.parsePath=function(){this.family=21;this.kind=0;var ee=[];var ey;var ex=cU.trim(this.element.getStringAttribute("d").replace(/[\s,]+/g," "));if(ex===null){return}ex=cU.__toCharArray(ex);var ec=0,eb=0,ej=0,eh=0,ei=0,eg=0,ep=0,eo=0,ea=0,d9=0,el=0,ek=0,en=0,em=0,ew=0,es=0;var eq="";var eu=[];var ev=false;var ef;var ed;var et,er;while(ew<ex.length){es=ex[ew].valueOf();if(es>=65&&es<=90||es>=97&&es<=122){et=ew;ew++;if(ew<ex.length){eu=[];es=ex[ew].valueOf();while(!(es>=65&&es<=90||es>=97&&es<=100||es>=102&&es<=122)&&ev===false){if(es===32){if(eq!==""){eu.push(parseFloat(eq));eq=""}ew++}else{if(es===45){if(ex[ew-1].valueOf()===101){eq+=ex[ew].toString();ew++}else{if(eq!==""){eu.push(parseFloat(eq))}eq=ex[ew].toString();ew++}}else{eq+=ex[ew].toString();ew++}}if(ew===ex.length){ev=true}else{es=ex[ew].valueOf()}}}if(eq!==""){eu.push(parseFloat(eq));eq=""}ed=ex[et];es=ed.valueOf();if(es===77){if(eu.length>=2&&eu.length%2===0){ec=eu[0];eb=eu[1];this.parsePathMoveto(ec,eb);if(eu.length>2){for(et=2,er=eu.length;et<er;et+=2){ec=eu[et];eb=eu[et+1];this.parsePathLineto(ec,eb)}}}}else{if(es===109){if(eu.length>=2&&eu.length%2===0){ec+=eu[0];eb+=eu[1];this.parsePathMoveto(ec,eb);if(eu.length>2){for(et=2,er=eu.length;et<er;et+=2){ec+=eu[et];eb+=eu[et+1];this.parsePathLineto(ec,eb)}}}}else{if(es===76){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){ec=eu[et];eb=eu[et+1];this.parsePathLineto(ec,eb)}}}else{if(es===108){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){ec+=eu[et];eb+=eu[et+1];this.parsePathLineto(ec,eb)}}}else{if(es===72){for(et=0,er=eu.length;et<er;et++){ec=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===104){for(et=0,er=eu.length;et<er;et++){ec+=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===86){for(et=0,er=eu.length;et<er;et++){eb=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===118){for(et=0,er=eu.length;et<er;et++){eb+=eu[et];this.parsePathLineto(ec,eb)}}else{if(es===67){if(eu.length>=6&&eu.length%6===0){for(et=0,er=eu.length;et<er;et+=6){ei=eu[et];ep=eu[et+1];eg=eu[et+2];eo=eu[et+3];ea=eu[et+4];d9=eu[et+5];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===99){if(eu.length>=6&&eu.length%6===0){for(et=0,er=eu.length;et<er;et+=6){ei=ec+eu[et];ep=eb+eu[et+1];eg=ec+eu[et+2];eo=eb+eu[et+3];ea=ec+eu[et+4];d9=eb+eu[et+5];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===83){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){if(ef.toLowerCase()==="c"||ef.toLowerCase()==="s"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ei=en+(en-el);ep=em+(em-ek)}else{ei=this.vertices[this.vertices.length-1][0];ep=this.vertices[this.vertices.length-1][1]}eg=eu[et];eo=eu[et+1];ea=eu[et+2];d9=eu[et+3];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===115){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){if(ef.toLowerCase()==="c"||ef.toLowerCase()==="s"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ei=en+(en-el);ep=em+(em-ek)}else{ei=this.vertices[this.vertices.length-1][0];ep=this.vertices[this.vertices.length-1][1]}eg=ec+eu[et];eo=eb+eu[et+1];ea=ec+eu[et+2];d9=eb+eu[et+3];this.parsePathCurveto(ei,ep,eg,eo,ea,d9);ec=ea;eb=d9}}}else{if(es===81){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){ej=eu[et];eh=eu[et+1];ea=eu[et+2];d9=eu[et+3];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===113){if(eu.length>=4&&eu.length%4===0){for(et=0,er=eu.length;et<er;et+=4){ej=ec+eu[et];eh=eb+eu[et+1];ea=ec+eu[et+2];d9=eb+eu[et+3];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===84){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){if(ef.toLowerCase()==="q"||ef.toLowerCase()==="t"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ej=en+(en-el);eh=em+(em-ek)}else{ej=ec;eh=eb}ea=eu[et];d9=eu[et+1];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===116){if(eu.length>=2&&eu.length%2===0){for(et=0,er=eu.length;et<er;et+=2){if(ef.toLowerCase()==="q"||ef.toLowerCase()==="t"){el=this.vertices[this.vertices.length-2][0];ek=this.vertices[this.vertices.length-2][1];en=this.vertices[this.vertices.length-1][0];em=this.vertices[this.vertices.length-1][1];ej=en+(en-el);eh=em+(em-ek)}else{ej=ec;eh=eb}ea=ec+eu[et];d9=eb+eu[et+1];this.parsePathQuadto(ec,eb,ej,eh,ea,d9);ec=ea;eb=d9}}}else{if(es===90||es===122){this.close=true}}}}}}}}}}}}}}}}}ef=ed.toString()}else{ew++}}};cp.prototype.parsePathQuadto=function(eb,ed,d9,ee,ea,ec){if(this.vertices.length>0){this.parsePathCode(1);this.parsePathVertex(eb+(d9-eb)*2/3,ed+(ee-ed)*2/3);this.parsePathVertex(ea+(d9-ea)*2/3,ec+(ee-ec)*2/3);this.parsePathVertex(ea,ec)}else{throw"Path must start with M/m"}};cp.prototype.parsePathCurveto=function(ec,ee,ea,ed,d9,eb){if(this.vertices.length>0){this.parsePathCode(1);this.parsePathVertex(ec,ee);this.parsePathVertex(ea,ed);this.parsePathVertex(d9,eb)}else{throw"Path must start with M/m"}};cp.prototype.parsePathLineto=function(ea,d9){if(this.vertices.length>0){this.parsePathCode(0);this.parsePathVertex(ea,d9);this.vertices[this.vertices.length-1]["moveTo"]=false}else{throw"Path must start with M/m"}};cp.prototype.parsePathMoveto=function(ea,d9){if(this.vertices.length>0){this.parsePathCode(3)}this.parsePathCode(0);this.parsePathVertex(ea,d9);this.vertices[this.vertices.length-1]["moveTo"]=true};cp.prototype.parsePathVertex=function(d9,eb){var ea=[];ea[0]=d9;ea[1]=eb;this.vertices.push(ea)};cp.prototype.parsePathCode=function(d9){this.vertexCodes.push(d9)};cp.prototype.parsePoly=function(ed){this.family=21;this.close=ed;var ea=cU.trim(this.element.getStringAttribute("points").replace(/[,\s]+/g," "));if(ea!==null){var d9=ea.split(" ");if(d9.length%2===0){for(var ec=0,eb=d9.length;ec<eb;ec++){var ee=[];ee[0]=d9[ec];ee[1]=d9[++ec];this.vertices.push(ee)}}else{throw"Error parsing polygon points: odd number of coordinates provided"}}};cp.prototype.parseRect=function(){this.kind=30;this.family=1;this.params=[];this.params[0]=this.element.getFloatAttribute("x");this.params[1]=this.element.getFloatAttribute("y");this.params[2]=this.element.getFloatAttribute("width");this.params[3]=this.element.getFloatAttribute("height");if(this.params[2]<0||this.params[3]<0){throw"svg error: negative width or height found while parsing <rect>"}};cp.prototype.parseEllipse=function(eb){this.kind=31;this.family=1;this.params=[];this.params[0]=this.element.getFloatAttribute("cx")|0;this.params[1]=this.element.getFloatAttribute("cy")|0;var ea,d9;if(eb){ea=d9=this.element.getFloatAttribute("r");if(ea<0){throw"svg error: negative radius found while parsing <circle>"}}else{ea=this.element.getFloatAttribute("rx");d9=this.element.getFloatAttribute("ry");if(ea<0||d9<0){throw"svg error: negative x-axis radius or y-axis radius found while parsing <ellipse>"}}this.params[0]-=ea;this.params[1]-=d9;this.params[2]=ea*2;this.params[3]=d9*2};cp.prototype.parseLine=function(){this.kind=4;this.family=1;this.params=[];this.params[0]=this.element.getFloatAttribute("x1");this.params[1]=this.element.getFloatAttribute("y1");this.params[2]=this.element.getFloatAttribute("x2");this.params[3]=this.element.getFloatAttribute("y2")};cp.prototype.parseColors=function(eb){if(eb.hasAttribute("opacity")){this.setOpacity(eb.getAttribute("opacity"))}if(eb.hasAttribute("stroke")){this.setStroke(eb.getAttribute("stroke"))}if(eb.hasAttribute("stroke-width")){this.setStrokeWeight(eb.getAttribute("stroke-width"))}if(eb.hasAttribute("stroke-linejoin")){this.setStrokeJoin(eb.getAttribute("stroke-linejoin"))}if(eb.hasAttribute("stroke-linecap")){this.setStrokeCap(eb.getStringAttribute("stroke-linecap"))}if(eb.hasAttribute("fill")){this.setFill(eb.getStringAttribute("fill"))}if(eb.hasAttribute("style")){var ee=eb.getStringAttribute("style");var ec=ee.toString().split(";");for(var ea=0,d9=ec.length;ea<d9;ea++){var ed=cU.trim(ec[ea].split(":"));if(ed[0]==="fill"){this.setFill(ed[1])}else{if(ed[0]==="fill-opacity"){this.setFillOpacity(ed[1])}else{if(ed[0]==="stroke"){this.setStroke(ed[1])}else{if(ed[0]==="stroke-width"){this.setStrokeWeight(ed[1])}else{if(ed[0]==="stroke-linecap"){this.setStrokeCap(ed[1])}else{if(ed[0]==="stroke-linejoin"){this.setStrokeJoin(ed[1])}else{if(ed[0]==="stroke-opacity"){this.setStrokeOpacity(ed[1])}else{if(ed[0]==="opacity"){this.setOpacity(ed[1])}}}}}}}}}}};cp.prototype.setFillOpacity=function(d9){this.fillOpacity=parseFloat(d9);this.fillColor=this.fillOpacity*255<<24|this.fillColor&16777215};cp.prototype.setFill=function(d9){var ea=this.fillColor&4278190080;if(d9==="none"){this.fill=false}else{if(d9.indexOf("#")===0){this.fill=true;if(d9.length===4){d9=d9.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")}this.fillColor=ea|parseInt(d9.substring(1),16)&16777215}else{if(d9.indexOf("rgb")===0){this.fill=true;this.fillColor=ea|this.parseRGB(d9)}else{if(d9.indexOf("url(#")===0){this.fillName=d9.substring(5,d9.length-1)}else{if(B[d9]){this.fill=true;this.fillColor=ea|parseInt(B[d9].substring(1),16)&16777215}}}}}};cp.prototype.setOpacity=function(d9){this.strokeColor=parseFloat(d9)*255<<24|this.strokeColor&16777215;this.fillColor=parseFloat(d9)*255<<24|this.fillColor&16777215};cp.prototype.setStroke=function(d9){var ea=this.strokeColor&4278190080;if(d9==="none"){this.stroke=false}else{if(d9.charAt(0)==="#"){this.stroke=true;if(d9.length===4){d9=d9.replace(/#(.)(.)(.)/,"#$1$1$2$2$3$3")}this.strokeColor=ea|parseInt(d9.substring(1),16)&16777215}else{if(d9.indexOf("rgb")===0){this.stroke=true;this.strokeColor=ea|this.parseRGB(d9)}else{if(d9.indexOf("url(#")===0){this.strokeName=d9.substring(5,d9.length-1)}else{if(B[d9]){this.stroke=true;this.strokeColor=ea|parseInt(B[d9].substring(1),16)&16777215}}}}}};cp.prototype.setStrokeWeight=function(d9){this.strokeWeight=this.parseUnitSize(d9)};cp.prototype.setStrokeJoin=function(d9){if(d9==="miter"){this.strokeJoin="miter"}else{if(d9==="round"){this.strokeJoin="round"}else{if(d9==="bevel"){this.strokeJoin="bevel"}}}};cp.prototype.setStrokeCap=function(d9){if(d9==="butt"){this.strokeCap="butt"}else{if(d9==="round"){this.strokeCap="round"}else{if(d9==="square"){this.strokeCap="square"}}}};cp.prototype.setStrokeOpacity=function(d9){this.strokeOpacity=parseFloat(d9);this.strokeColor=this.strokeOpacity*255<<24|this.strokeColor&16777215};cp.prototype.parseRGB=function(ea){var eb=ea.substring(ea.indexOf("(")+1,ea.indexOf(")"));var d9=eb.split(", ");return d9[0]<<16|d9[1]<<8|d9[2]};cp.prototype.parseUnitSize=function(ea){var d9=ea.length-2;if(d9<0){return ea}if(ea.indexOf("pt")===d9){return parseFloat(ea.substring(0,d9))*1.25}if(ea.indexOf("pc")===d9){return parseFloat(ea.substring(0,d9))*15}if(ea.indexOf("mm")===d9){return parseFloat(ea.substring(0,d9))*3.543307}if(ea.indexOf("cm")===d9){return parseFloat(ea.substring(0,d9))*35.43307}if(ea.indexOf("in")===d9){return parseFloat(ea.substring(0,d9))*90}if(ea.indexOf("px")===d9){return parseFloat(ea.substring(0,d9))}return parseFloat(ea)};cU.shape=function(eb,ea,ed,ec,d9){if(arguments.length>=1&&arguments[0]!==null){if(eb.isVisible()){cU.pushMatrix();if(P===3){if(arguments.length===5){cU.translate(ea-ec/2,ed-d9/2);cU.scale(ec/eb.getWidth(),d9/eb.getHeight())}else{if(arguments.length===3){cU.translate(ea-eb.getWidth()/2,-eb.getHeight()/2)}else{cU.translate(-eb.getWidth()/2,-eb.getHeight()/2)}}}else{if(P===0){if(arguments.length===5){cU.translate(ea,ed);cU.scale(ec/eb.getWidth(),d9/eb.getHeight())}else{if(arguments.length===3){cU.translate(ea,ed)}}}else{if(P===1){if(arguments.length===5){ec-=ea;d9-=ed;cU.translate(ea,ed);cU.scale(ec/eb.getWidth(),d9/eb.getHeight())}else{if(arguments.length===3){cU.translate(ea,ed)}}}}}eb.draw();if(arguments.length===1&&P===3||arguments.length>1){cU.popMatrix()}}}};cU.shapeMode=function(d9){P=d9};cU.loadShape=function(d9){if(arguments.length===1){if(d9.indexOf(".svg")>-1){return new cp(null,d9)}}return null};var cR=function(ed,ec,d9,ea,eb){this.fullName=ed||"";this.name=ec||"";this.namespace=d9||"";this.value=ea;this.type=eb};cR.prototype={getName:function(){return this.name},getFullName:function(){return this.fullName},getNamespace:function(){return this.namespace},getValue:function(){return this.value},getType:function(){return this.type},setValue:function(d9){this.value=d9}};var b7=cU.XMLElement=function(){this.attributes=[];this.children=[];this.fullName=null;this.name=null;this.namespace="";this.content=null;this.parent=null;this.lineNr="";this.systemID="";this.type="ELEMENT";if(arguments.length===4){this.fullName=arguments[0]||"";if(arguments[1]){this.name=arguments[1]}else{var d9=this.fullName.indexOf(":");if(d9>=0){this.name=this.fullName.substring(d9+1)}else{this.name=this.fullName}}this.namespace=arguments[1];this.lineNr=arguments[3];this.systemID=arguments[2]}else{if(arguments.length===2&&arguments[1].indexOf(".")>-1){this.parse(arguments[arguments.length-1])}else{if(arguments.length===1&&typeof arguments[0]==="string"){this.parse(arguments[0])}}}};b7.prototype={parse:function(d9){var eb;try{var ed=d9.substring(d9.length-4);if(ed===".xml"||ed===".svg"){d9=u(d9)}eb=(new DOMParser).parseFromString(d9,"text/xml");var ea=eb.documentElement;if(ea){this.parseChildrenRecursive(null,ea)}else{throw"Error loading document"}return this}catch(ec){throw ec}},parseChildrenRecursive:function(eh,ef){var ee,ea,eg,ed,ec,d9;if(!eh){this.fullName=ef.localName;this.name=ef.nodeName;ee=this}else{ee=new b7(ef.localName,ef.nodeName,"","");ee.parent=eh}if(ef.nodeType===3&&ef.textContent!==""){return this.createPCDataElement(ef.textContent)}for(ed=0,ec=ef.attributes.length;ed<ec;ed++){eg=ef.attributes[ed];ea=new cR(eg.getname,eg.nodeName,eg.namespaceURI,eg.nodeValue,eg.nodeType);ee.attributes.push(ea)}for(ed=0,ec=ef.childNodes.length;ed<ec;ed++){var eb=ef.childNodes[ed];if(eb.nodeType===1||eb.nodeType===3){d9=ee.parseChildrenRecursive(ee,eb);if(d9!==null){ee.children.push(d9)}}}return ee},createElement:function(){if(arguments.length===2){return new b7(arguments[0],arguments[1],null,null)}return new b7(arguments[0],arguments[1],arguments[2],arguments[3])},createPCDataElement:function(d9){if(d9.replace(/^\s+$/g,"")===""){return null}var ea=new b7;ea.content=d9;ea.type="TEXT";return ea},hasAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0])!==null}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])!==null}},equals:function(ee){if(!(ee instanceof b7)){return false}var eb,ea;if(this.name!==ee.getLocalName()){return false}if(this.attributes.length!==ee.getAttributeCount()){return false}if(this.attributes.length!==ee.attributes.length){return false}var ei,eg,d9,ef,eh;for(eb=0,ea=this.attributes.length;eb<ea;eb++){ei=this.attributes[eb].getName();eg=this.attributes[eb].getNamespace();eh=ee.findAttribute(ei,eg);if(eh===null){return false}if(this.attributes[eb].getValue()!==eh.getValue()){return false}if(this.attributes[eb].getType()!==eh.getType()){return false}}if(this.children.length!==ee.getChildCount()){return false}if(this.children.length>0){var ed,ec;for(eb=0,ea=this.children.length;eb<ea;eb++){ed=this.getChild(eb);ec=ee.getChild(eb);if(!ed.equals(ec)){return false}}return true}return this.content===ee.content},getContent:function(){if(this.type==="TEXT"){return this.content}var d9=this.children;if(d9.length===1&&d9[0].type==="TEXT"){return d9[0].content}return null},getAttribute:function(){var d9;if(arguments.length===2){d9=this.findAttribute(arguments[0]);if(d9){return d9.getValue()}return arguments[1]}else{if(arguments.length===1){d9=this.findAttribute(arguments[0]);if(d9){return d9.getValue()}return null}else{if(arguments.length===3){d9=this.findAttribute(arguments[0],arguments[1]);if(d9){return d9.getValue()}return arguments[2]}}}},getStringAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0])}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}return this.getAttribute(arguments[0],arguments[1],arguments[2])},getString:function(d9){return this.getStringAttribute(d9)},getFloatAttribute:function(){if(arguments.length===1){return parseFloat(this.getAttribute(arguments[0],0))}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}return this.getAttribute(arguments[0],arguments[1],arguments[2])},getFloat:function(d9){return this.getFloatAttribute(d9)},getIntAttribute:function(){if(arguments.length===1){return this.getAttribute(arguments[0],0)}if(arguments.length===2){return this.getAttribute(arguments[0],arguments[1])}return this.getAttribute(arguments[0],arguments[1],arguments[2])},getInt:function(d9){return this.getIntAttribute(d9)},hasChildren:function(){return this.children.length>0},addChild:function(d9){if(d9!==null){d9.parent=this;this.children.push(d9)}},insertChild:function(eb,d9){if(eb){if(eb.getLocalName()===null&&!this.hasChildren()){var ea=this.children[this.children.length-1];if(ea.getLocalName()===null){ea.setContent(ea.getContent()+eb.getContent());return}}eb.parent=this;this.children.splice(d9,0,eb)}},getChild:function(){if(typeof arguments[0]==="number"){return this.children[arguments[0]]}if(arguments[0].indexOf("/")!==-1){this.getChildRecursive(arguments[0].split("/"),0);return null}var d9,ec;for(var eb=0,ea=this.getChildCount();eb<ea;eb++){d9=this.getChild(eb);ec=d9.getName();if(ec!==null&&ec===arguments[0]){return d9}}return null},getChildren:function(){if(arguments.length===1){if(typeof arguments[0]==="number"){return this.getChild(arguments[0])}if(arguments[0].indexOf("/")!==-1){return this.getChildrenRecursive(arguments[0].split("/"),0)}var ed=[];var d9,ec;for(var eb=0,ea=this.getChildCount();eb<ea;eb++){d9=this.getChild(eb);ec=d9.getName();if(ec!==null&&ec===arguments[0]){ed.push(d9)}}return ed}return this.children},getChildCount:function(){return this.children.length},getChildRecursive:function(ea,ee){var d9,ed;for(var ec=0,eb=this.getChildCount();ec<eb;ec++){d9=this.getChild(ec);ed=d9.getName();if(ed!==null&&ed===ea[ee]){if(ee===ea.length-1){return d9}ee+=1;return d9.getChildRecursive(ea,ee)}}return null},getChildrenRecursive:function(d9,ed){if(ed===d9.length-1){return this.getChildren(d9[ed])}var ec=this.getChildren(d9[ed]);var eb=[];for(var ea=0;ea<ec.length;ea++){eb=eb.concat(ec[ea].getChildrenRecursive(d9,ed+1))}return eb},isLeaf:function(){return !this.hasChildren()},listChildren:function(){var d9=[];for(var eb=0,ea=this.children.length;eb<ea;eb++){d9.push(this.getChild(eb).getName())}return d9},removeAttribute:function(ea,ec){this.namespace=ec||"";for(var eb=0,d9=this.attributes.length;eb<d9;eb++){if(this.attributes[eb].getName()===ea&&this.attributes[eb].getNamespace()===this.namespace){this.attributes.splice(eb,1);break}}},removeChild:function(eb){if(eb){for(var ea=0,d9=this.children.length;ea<d9;ea++){if(this.children[ea].equals(eb)){this.children.splice(ea,1);break}}}},removeChildAtIndex:function(d9){if(this.children.length>d9){this.children.splice(d9,1)}},findAttribute:function(ea,ec){this.namespace=ec||"";for(var eb=0,d9=this.attributes.length;eb<d9;eb++){if(this.attributes[eb].getName()===ea&&this.attributes[eb].getNamespace()===this.namespace){return this.attributes[eb]}}return null},setAttribute:function(){var d9;if(arguments.length===3){var eb=arguments[0].indexOf(":");var ea=arguments[0].substring(eb+1);d9=this.findAttribute(ea,arguments[1]);if(d9){d9.setValue(arguments[2])}else{d9=new cR(arguments[0],ea,arguments[1],arguments[2],"CDATA");this.attributes.push(d9)}}else{d9=this.findAttribute(arguments[0]);if(d9){d9.setValue(arguments[1])}else{d9=new cR(arguments[0],arguments[0],null,arguments[1],"CDATA");this.attributes.push(d9)}}},setString:function(d9,ea){this.setAttribute(d9,ea)},setInt:function(d9,ea){this.setAttribute(d9,ea)},setFloat:function(d9,ea){this.setAttribute(d9,ea)},setContent:function(d9){if(this.children.length>0){C.debug("Tried to set content for XMLElement with children")}this.content=d9},setName:function(){if(arguments.length===1){this.name=arguments[0];this.fullName=arguments[0];this.namespace=null}else{var d9=arguments[0].indexOf(":");if(arguments[1]===null||d9<0){this.name=arguments[0]}else{this.name=arguments[0].substring(d9+1)}this.fullName=arguments[0];this.namespace=arguments[1]}},getName:function(){return this.fullName},getLocalName:function(){return this.name},getAttributeCount:function(){return this.attributes.length},toString:function(){if(this.type==="TEXT"){return this.content}var eb=(this.namespace!==""&&this.namespace!==this.name?this.namespace+":":"")+this.name;var ec="<"+eb;var ea,ed;for(ea=0;ea<this.attributes.length;ea++){var d9=this.attributes[ea];ec+=" "+d9.getName()+'="'+d9.getValue()+'"'}if(this.children.length===0){if(this.content===""){ec+="/>"}else{ec+=">"+this.content+"</"+eb+">"}}else{ec+=">";for(ed=0;ed<this.children.length;ed++){ec+=this.children[ed].toString()}ec+="</"+eb+">"}return ec}};b7.parse=function(ea){var d9=new b7;d9.parse(ea);return d9};var ck=function(ec){var d9=0;for(var ea=0;ea<ec.length;ea++){if(ea!==0){d9=o.max(d9,o.abs(ec[ea]))}else{d9=o.abs(ec[ea])}}var eb=(d9+"").indexOf(".");if(eb===0){eb=1}else{if(eb===-1){eb=(d9+"").length}}return eb};var aS=cU.PMatrix2D=function(){if(arguments.length===0){this.reset()}else{if(arguments.length===1&&arguments[0] instanceof aS){this.set(arguments[0].array())}else{if(arguments.length===6){this.set(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}};aS.prototype={set:function(){if(arguments.length===6){var d9=arguments;this.set([d9[0],d9[1],d9[2],d9[3],d9[4],d9[5]])}else{if(arguments.length===1&&arguments[0] instanceof aS){this.elements=arguments[0].array()}else{if(arguments.length===1&&arguments[0] instanceof Array){this.elements=arguments[0].slice()}}}},get:function(){var d9=new aS;d9.set(this.elements);return d9},reset:function(){this.set([1,0,0,0,1,0])},array:function aC(){return this.elements.slice()},translate:function(ea,d9){this.elements[2]=ea*this.elements[0]+d9*this.elements[1]+this.elements[2];this.elements[5]=ea*this.elements[3]+d9*this.elements[4]+this.elements[5]},invTranslate:function(ea,d9){this.translate(-ea,-d9)},transpose:function(){},mult:function(ea,eb){var d9,ec;if(ea instanceof d2){d9=ea.x;ec=ea.y;if(!eb){eb=new d2}}else{if(ea instanceof Array){d9=ea[0];ec=ea[1];if(!eb){eb=[]}}}if(eb instanceof Array){eb[0]=this.elements[0]*d9+this.elements[1]*ec+this.elements[2];eb[1]=this.elements[3]*d9+this.elements[4]*ec+this.elements[5]}else{if(eb instanceof d2){eb.x=this.elements[0]*d9+this.elements[1]*ec+this.elements[2];eb.y=this.elements[3]*d9+this.elements[4]*ec+this.elements[5];eb.z=0}}return eb},multX:function(d9,ea){return d9*this.elements[0]+ea*this.elements[1]+this.elements[2]},multY:function(d9,ea){return d9*this.elements[3]+ea*this.elements[4]+this.elements[5]},skewX:function(d9){this.apply(1,0,1,d9,0,0)},skewY:function(d9){this.apply(1,0,1,0,d9,0)},determinant:function(){return this.elements[0]*this.elements[4]-this.elements[1]*this.elements[3]},invert:function(){var ee=this.determinant();if(o.abs(ee)>-2147483648){var ea=this.elements[0];var ef=this.elements[1];var ed=this.elements[2];var ec=this.elements[3];var eb=this.elements[4];var d9=this.elements[5];this.elements[0]=eb/ee;this.elements[3]=-ec/ee;this.elements[1]=-ef/ee;this.elements[4]=ea/ee;this.elements[2]=(ef*d9-eb*ed)/ee;this.elements[5]=(ec*ed-ea*d9)/ee;return true}return false},scale:function(ea,d9){if(ea&&!d9){d9=ea}if(ea&&d9){this.elements[0]*=ea;this.elements[1]*=d9;this.elements[3]*=ea;this.elements[4]*=d9}},invScale:function(ea,d9){if(ea&&!d9){d9=ea}this.scale(1/ea,1/d9)},apply:function(){var eb;if(arguments.length===1&&arguments[0] instanceof aS){eb=arguments[0].array()}else{if(arguments.length===6){eb=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){eb=arguments[0]}}}var d9=[0,0,this.elements[2],0,0,this.elements[5]];var ec=0;for(var ed=0;ed<2;ed++){for(var ea=0;ea<3;ea++,ec++){d9[ec]+=this.elements[ed*3+0]*eb[ea+0]+this.elements[ed*3+1]*eb[ea+3]}}this.elements=d9.slice()},preApply:function(){var ea;if(arguments.length===1&&arguments[0] instanceof aS){ea=arguments[0].array()}else{if(arguments.length===6){ea=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){ea=arguments[0]}}}var d9=[0,0,ea[2],0,0,ea[5]];d9[2]=ea[2]+this.elements[2]*ea[0]+this.elements[5]*ea[1];d9[5]=ea[5]+this.elements[2]*ea[3]+this.elements[5]*ea[4];d9[0]=this.elements[0]*ea[0]+this.elements[3]*ea[1];d9[3]=this.elements[0]*ea[3]+this.elements[3]*ea[4];d9[1]=this.elements[1]*ea[0]+this.elements[4]*ea[1];d9[4]=this.elements[1]*ea[3]+this.elements[4]*ea[4];this.elements=d9.slice()},rotate:function(eb){var ed=cU.cos(eb);var d9=cU.sin(eb);var ec=this.elements[0];var ea=this.elements[1];this.elements[0]=ed*ec+d9*ea;this.elements[1]=-d9*ec+ed*ea;ec=this.elements[3];ea=this.elements[4];this.elements[3]=ed*ec+d9*ea;this.elements[4]=-d9*ec+ed*ea},rotateZ:function(d9){this.rotate(d9)},invRotateZ:function(d9){this.rotateZ(d9-(cU.angleMode==="degrees"?180:o.PI))},print:function(){var ea=ck(this.elements);var d9=""+cU.nfs(this.elements[0],ea,4)+" "+cU.nfs(this.elements[1],ea,4)+" "+cU.nfs(this.elements[2],ea,4)+"\n"+cU.nfs(this.elements[3],ea,4)+" "+cU.nfs(this.elements[4],ea,4)+" "+cU.nfs(this.elements[5],ea,4)+"\n\n";cU.println(d9)}};var aL=cU.PMatrix3D=function(){this.reset()};aL.prototype={set:function(){if(arguments.length===16){this.elements=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof aL){this.elements=arguments[0].array()}else{if(arguments.length===1&&arguments[0] instanceof Array){this.elements=arguments[0].slice()}}}},get:function(){var d9=new aL;d9.set(this.elements);return d9},reset:function(){this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]},array:function aC(){return this.elements.slice()},translate:function(ea,d9,eb){if(eb===r){eb=0}this.elements[3]+=ea*this.elements[0]+d9*this.elements[1]+eb*this.elements[2];this.elements[7]+=ea*this.elements[4]+d9*this.elements[5]+eb*this.elements[6];this.elements[11]+=ea*this.elements[8]+d9*this.elements[9]+eb*this.elements[10];this.elements[15]+=ea*this.elements[12]+d9*this.elements[13]+eb*this.elements[14]},transpose:function(){var d9=this.elements[4];this.elements[4]=this.elements[1];this.elements[1]=d9;d9=this.elements[8];this.elements[8]=this.elements[2];this.elements[2]=d9;d9=this.elements[6];this.elements[6]=this.elements[9];this.elements[9]=d9;d9=this.elements[3];this.elements[3]=this.elements[12];this.elements[12]=d9;d9=this.elements[7];this.elements[7]=this.elements[13];this.elements[13]=d9;d9=this.elements[11];this.elements[11]=this.elements[14];this.elements[14]=d9},mult:function(eb,ec){var d9,ee,ed,ea;if(eb instanceof d2){d9=eb.x;ee=eb.y;ed=eb.z;ea=1;if(!ec){ec=new d2}}else{if(eb instanceof Array){d9=eb[0];ee=eb[1];ed=eb[2];ea=eb[3]||1;if(!ec||ec.length!==3&&ec.length!==4){ec=[0,0,0]}}}if(ec instanceof Array){if(ec.length===3){ec[0]=this.elements[0]*d9+this.elements[1]*ee+this.elements[2]*ed+this.elements[3];ec[1]=this.elements[4]*d9+this.elements[5]*ee+this.elements[6]*ed+this.elements[7];ec[2]=this.elements[8]*d9+this.elements[9]*ee+this.elements[10]*ed+this.elements[11]}else{if(ec.length===4){ec[0]=this.elements[0]*d9+this.elements[1]*ee+this.elements[2]*ed+this.elements[3]*ea;ec[1]=this.elements[4]*d9+this.elements[5]*ee+this.elements[6]*ed+this.elements[7]*ea;ec[2]=this.elements[8]*d9+this.elements[9]*ee+this.elements[10]*ed+this.elements[11]*ea;ec[3]=this.elements[12]*d9+this.elements[13]*ee+this.elements[14]*ed+this.elements[15]*ea}}}if(ec instanceof d2){ec.x=this.elements[0]*d9+this.elements[1]*ee+this.elements[2]*ed+this.elements[3];ec.y=this.elements[4]*d9+this.elements[5]*ee+this.elements[6]*ed+this.elements[7];ec.z=this.elements[8]*d9+this.elements[9]*ee+this.elements[10]*ed+this.elements[11]}return ec},preApply:function(){var eb;if(arguments.length===1&&arguments[0] instanceof aL){eb=arguments[0].array()}else{if(arguments.length===16){eb=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){eb=arguments[0]}}}var d9=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var ec=0;for(var ed=0;ed<4;ed++){for(var ea=0;ea<4;ea++,ec++){d9[ec]+=this.elements[ea+0]*eb[ed*4+0]+this.elements[ea+4]*eb[ed*4+1]+this.elements[ea+8]*eb[ed*4+2]+this.elements[ea+12]*eb[ed*4+3]}}this.elements=d9.slice()},apply:function(){var eb;if(arguments.length===1&&arguments[0] instanceof aL){eb=arguments[0].array()}else{if(arguments.length===16){eb=Array.prototype.slice.call(arguments)}else{if(arguments.length===1&&arguments[0] instanceof Array){eb=arguments[0]}}}var d9=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];var ec=0;for(var ed=0;ed<4;ed++){for(var ea=0;ea<4;ea++,ec++){d9[ec]+=this.elements[ed*4+0]*eb[ea+0]+this.elements[ed*4+1]*eb[ea+4]+this.elements[ed*4+2]*eb[ea+8]+this.elements[ed*4+3]*eb[ea+12]}}this.elements=d9.slice()},rotate:function(ed,d9,ef,ec){if(!ef){this.rotateZ(ed)}else{var ee=cU.cos(ed);var eb=cU.sin(ed);var ea=1-ee;this.apply(ea*d9*d9+ee,ea*d9*ef-eb*ec,ea*d9*ec+eb*ef,0,ea*d9*ef+eb*ec,ea*ef*ef+ee,ea*ef*ec-eb*d9,0,ea*d9*ec-eb*ef,ea*ef*ec+eb*d9,ea*ec*ec+ee,0,0,0,0,1)}},invApply:function(){if(Y===r){Y=new aL}var d9=arguments;Y.set(d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6],d9[7],d9[8],d9[9],d9[10],d9[11],d9[12],d9[13],d9[14],d9[15]);if(!Y.invert()){return false}this.preApply(Y);return true},rotateX:function(ea){var eb=cU.cos(ea);var d9=cU.sin(ea);this.apply([1,0,0,0,0,eb,-d9,0,0,d9,eb,0,0,0,0,1])},rotateY:function(ea){var eb=cU.cos(ea);var d9=cU.sin(ea);this.apply([eb,0,d9,0,0,1,0,0,-d9,0,eb,0,0,0,0,1])},rotateZ:function(ea){var eb=cU.cos(ea);var d9=cU.sin(ea);this.apply([eb,-d9,0,0,d9,eb,0,0,0,0,1,0,0,0,0,1])},scale:function(eb,ea,d9){if(eb&&!ea&&!d9){ea=d9=eb}else{if(eb&&ea&&!d9){d9=1}}if(eb&&ea&&d9){this.elements[0]*=eb;this.elements[1]*=ea;this.elements[2]*=d9;this.elements[4]*=eb;this.elements[5]*=ea;this.elements[6]*=d9;this.elements[8]*=eb;this.elements[9]*=ea;this.elements[10]*=d9;this.elements[12]*=eb;this.elements[13]*=ea;this.elements[14]*=d9}},skewX:function(ea){var d9=cU.tan(ea);this.apply(1,d9,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},skewY:function(ea){var d9=cU.tan(ea);this.apply(1,0,0,0,d9,1,0,0,0,0,1,0,0,0,0,1)},multX:function(d9,ec,eb,ea){if(!eb){return this.elements[0]*d9+this.elements[1]*ec+this.elements[3]}if(!ea){return this.elements[0]*d9+this.elements[1]*ec+this.elements[2]*eb+this.elements[3]}return this.elements[0]*d9+this.elements[1]*ec+this.elements[2]*eb+this.elements[3]*ea},multY:function(d9,ec,eb,ea){if(!eb){return this.elements[4]*d9+this.elements[5]*ec+this.elements[7]}if(!ea){return this.elements[4]*d9+this.elements[5]*ec+this.elements[6]*eb+this.elements[7]}return this.elements[4]*d9+this.elements[5]*ec+this.elements[6]*eb+this.elements[7]*ea},multZ:function(d9,ec,eb,ea){if(!ea){return this.elements[8]*d9+this.elements[9]*ec+this.elements[10]*eb+this.elements[11]}return this.elements[8]*d9+this.elements[9]*ec+this.elements[10]*eb+this.elements[11]*ea},multW:function(d9,ec,eb,ea){if(!ea){return this.elements[12]*d9+this.elements[13]*ec+this.elements[14]*eb+this.elements[15]}return this.elements[12]*d9+this.elements[13]*ec+this.elements[14]*eb+this.elements[15]*ea},invert:function(){var ei=this.elements[0]*this.elements[5]-this.elements[1]*this.elements[4];var eh=this.elements[0]*this.elements[6]-this.elements[2]*this.elements[4];var eg=this.elements[0]*this.elements[7]-this.elements[3]*this.elements[4];var ef=this.elements[1]*this.elements[6]-this.elements[2]*this.elements[5];var ee=this.elements[1]*this.elements[7]-this.elements[3]*this.elements[5];var ed=this.elements[2]*this.elements[7]-this.elements[3]*this.elements[6];var ec=this.elements[8]*this.elements[13]-this.elements[9]*this.elements[12];var eb=this.elements[8]*this.elements[14]-this.elements[10]*this.elements[12];var ea=this.elements[8]*this.elements[15]-this.elements[11]*this.elements[12];var en=this.elements[9]*this.elements[14]-this.elements[10]*this.elements[13];var el=this.elements[9]*this.elements[15]-this.elements[11]*this.elements[13];var ek=this.elements[10]*this.elements[15]-this.elements[11]*this.elements[14];var em=ei*ek-eh*el+eg*en+ef*ea-ee*eb+ed*ec;if(o.abs(em)<=1e-9){return false}var ej=[];ej[0]=+this.elements[5]*ek-this.elements[6]*el+this.elements[7]*en;ej[4]=-this.elements[4]*ek+this.elements[6]*ea-this.elements[7]*eb;ej[8]=+this.elements[4]*el-this.elements[5]*ea+this.elements[7]*ec;ej[12]=-this.elements[4]*en+this.elements[5]*eb-this.elements[6]*ec;ej[1]=-this.elements[1]*ek+this.elements[2]*el-this.elements[3]*en;ej[5]=+this.elements[0]*ek-this.elements[2]*ea+this.elements[3]*eb;ej[9]=-this.elements[0]*el+this.elements[1]*ea-this.elements[3]*ec;ej[13]=+this.elements[0]*en-this.elements[1]*eb+this.elements[2]*ec;ej[2]=+this.elements[13]*ed-this.elements[14]*ee+this.elements[15]*ef;ej[6]=-this.elements[12]*ed+this.elements[14]*eg-this.elements[15]*eh;ej[10]=+this.elements[12]*ee-this.elements[13]*eg+this.elements[15]*ei;ej[14]=-this.elements[12]*ef+this.elements[13]*eh-this.elements[14]*ei;ej[3]=-this.elements[9]*ed+this.elements[10]*ee-this.elements[11]*ef;ej[7]=+this.elements[8]*ed-this.elements[10]*eg+this.elements[11]*eh;ej[11]=-this.elements[8]*ee+this.elements[9]*eg-this.elements[11]*ei;ej[15]=+this.elements[8]*ef-this.elements[9]*eh+this.elements[10]*ei;var d9=1/em;ej[0]*=d9;ej[1]*=d9;ej[2]*=d9;ej[3]*=d9;ej[4]*=d9;ej[5]*=d9;ej[6]*=d9;ej[7]*=d9;ej[8]*=d9;ej[9]*=d9;ej[10]*=d9;ej[11]*=d9;ej[12]*=d9;ej[13]*=d9;ej[14]*=d9;ej[15]*=d9;this.elements=ej.slice();return true},toString:function(){var ea="";for(var d9=0;d9<15;d9++){ea+=this.elements[d9]+", "}ea+=this.elements[15];return ea},print:function(){var ea=ck(this.elements);var d9=""+cU.nfs(this.elements[0],ea,4)+" "+cU.nfs(this.elements[1],ea,4)+" "+cU.nfs(this.elements[2],ea,4)+" "+cU.nfs(this.elements[3],ea,4)+"\n"+cU.nfs(this.elements[4],ea,4)+" "+cU.nfs(this.elements[5],ea,4)+" "+cU.nfs(this.elements[6],ea,4)+" "+cU.nfs(this.elements[7],ea,4)+"\n"+cU.nfs(this.elements[8],ea,4)+" "+cU.nfs(this.elements[9],ea,4)+" "+cU.nfs(this.elements[10],ea,4)+" "+cU.nfs(this.elements[11],ea,4)+"\n"+cU.nfs(this.elements[12],ea,4)+" "+cU.nfs(this.elements[13],ea,4)+" "+cU.nfs(this.elements[14],ea,4)+" "+cU.nfs(this.elements[15],ea,4)+"\n\n";cU.println(d9)},invTranslate:function(ea,d9,eb){this.preApply(1,0,0,-ea,0,1,0,-d9,0,0,1,-eb,0,0,0,1)},invRotateX:function(ea){var eb=cU.cos(-ea);var d9=cU.sin(-ea);this.preApply([1,0,0,0,0,eb,-d9,0,0,d9,eb,0,0,0,0,1])},invRotateY:function(ea){var eb=cU.cos(-ea);var d9=cU.sin(-ea);this.preApply([eb,0,d9,0,0,1,0,0,-d9,0,eb,0,0,0,0,1])},invRotateZ:function(ea){var eb=cU.cos(-ea);var d9=cU.sin(-ea);this.preApply([eb,-d9,0,0,d9,eb,0,0,0,0,1,0,0,0,0,1])},invScale:function(d9,eb,ea){this.preApply([1/d9,0,0,0,0,1/eb,0,0,0,0,1/ea,0,0,0,0,1])}};var S=cU.PMatrixStack=function(){this.matrixStack=[]};S.prototype.load=function(){var d9=dV.$newPMatrix();if(arguments.length===1){d9.set(arguments[0])}else{d9.set(arguments)}this.matrixStack.push(d9)};bN.prototype.$newPMatrix=function(){return new aS};bx.prototype.$newPMatrix=function(){return new aL};S.prototype.push=function(){this.matrixStack.push(this.peek())};S.prototype.pop=function(){return this.matrixStack.pop()};S.prototype.peek=function(){var d9=dV.$newPMatrix();d9.set(this.matrixStack[this.matrixStack.length-1]);return d9};S.prototype.mult=function(d9){this.matrixStack[this.matrixStack.length-1].apply(d9)};cU.split=function(ea,d9){return ea.split(d9)};cU.splitTokens=function(ec,eb){if(arguments.length===1){eb="\n\t\r\u000c "}eb="["+eb+"]";var ea=[];var d9=0;var ed=ec.search(eb);while(ed>=0){if(ed===0){ec=ec.substring(1)}else{ea[d9]=ec.substring(0,ed);d9++;ec=ec.substring(ed)}ed=ec.search(eb)}if(ec.length>0){ea[d9]=ec}if(ea.length===0){ea=r}return ea};cU.append=function(ea,d9){ea[ea.length]=d9;return ea};cU.concat=function(ea,d9){return ea.concat(d9)};cU.sort=function(ee,ec){var ea=[];if(ee.length>0){var ed=ec>0?ec:ee.length;for(var eb=0;eb<ed;eb++){ea.push(ee[eb])}if(typeof ee[0]==="string"){ea.sort()}else{ea.sort(function(eg,ef){return eg-ef})}if(ec>0){for(var d9=ea.length;d9<ee.length;d9++){ea.push(ee[d9])}}}return ea};cU.splice=function(ed,ec,ea){if(ec.length===0){return ed}if(ec instanceof Array){for(var eb=0,d9=ea;eb<ec.length;d9++,eb++){ed.splice(d9,0,ec[eb])}}else{ed.splice(ea,0,ec)}return ed};cU.subset=function(ec,eb,ea){var d9=ea!==r?eb+ea:ec.length;return ec.slice(eb,d9)};cU.join=function(ea,d9){return ea.join(d9)};cU.shorten=function(ec){var ea=[];var d9=ec.length;for(var eb=0;eb<d9;eb++){ea[eb]=ec[eb]}ea.pop();return ea};cU.expand=function(eb,ec){var ea=eb.slice(0),d9=ec||eb.length*2;ea.length=d9;return ea};cU.arrayCopy=function(){var ef,ed=0,eb,ea=0,ee;if(arguments.length===2){ef=arguments[0];eb=arguments[1];ee=ef.length}else{if(arguments.length===3){ef=arguments[0];eb=arguments[1];ee=arguments[2]}else{if(arguments.length===5){ef=arguments[0];ed=arguments[1];eb=arguments[2];ea=arguments[3];ee=arguments[4]}}}for(var ec=ed,d9=ea;ec<ee+ed;ec++,d9++){if(eb[d9]!==r){eb[d9]=ef[ec]}else{throw"array index out of bounds exception"}}};cU.reverse=function(d9){return d9.reverse()};cU.mix=function(ea,d9,eb){return ea+((d9-ea)*eb>>8)};cU.peg=function(d9){return d9<0?0:d9>255?255:d9};cU.modes=function(){var ee=4278190080,eb=16711680,ea=65280,ed=255,ec=o.min,d9=o.max;function ef(ek,en,ej,es,eu,et,el,ep,eo,eh,ei){var er=ec(((ek&4278190080)>>>24)+en,255)<<24;var eg=ej+((eo-ej)*en>>8);eg=(eg<0?0:eg>255?255:eg)<<16;var em=es+((eh-es)*en>>8);em=(em<0?0:em>255?255:em)<<8;var eq=eu+((ei-eu)*en>>8);eq=eq<0?0:eq>255?255:eq;return er|eg|em|eq}return{replace:function(eh,eg){return eg},blend:function(ei,eh){var ek=(eh&ee)>>>24,eg=ei&eb,em=ei&ea,eo=ei&ed,en=eh&eb,ej=eh&ea,el=eh&ed;return ec(((ei&ee)>>>24)+ek,255)<<24|eg+((en-eg)*ek>>8)&eb|em+((ej-em)*ek>>8)&ea|eo+((el-eo)*ek>>8)&ed},add:function(eh,eg){var ei=(eg&ee)>>>24;return ec(((eh&ee)>>>24)+ei,255)<<24|ec((eh&eb)+((eg&eb)>>8)*ei,eb)&eb|ec((eh&ea)+((eg&ea)>>8)*ei,ea)&ea|ec((eh&ed)+((eg&ed)*ei>>8),ed)},subtract:function(eh,eg){var ei=(eg&ee)>>>24;return ec(((eh&ee)>>>24)+ei,255)<<24|d9((eh&eb)-((eg&eb)>>8)*ei,ea)&eb|d9((eh&ea)-((eg&ea)>>8)*ei,ed)&ea|d9((eh&ed)-((eg&ed)*ei>>8),0)},lightest:function(eh,eg){var ei=(eg&ee)>>>24;return ec(((eh&ee)>>>24)+ei,255)<<24|d9(eh&eb,((eg&eb)>>8)*ei)&eb|d9(eh&ea,((eg&ea)>>8)*ei)&ea|d9(eh&ed,(eg&ed)*ei>>8)},darkest:function(ei,eh){var ek=(eh&ee)>>>24,eg=ei&eb,em=ei&ea,eo=ei&ed,en=ec(ei&eb,((eh&eb)>>8)*ek),ej=ec(ei&ea,((eh&ea)>>8)*ek),el=ec(ei&ed,(eh&ed)*ek>>8);return ec(((ei&ee)>>>24)+ek,255)<<24|eg+((en-eg)*ek>>8)&eb|em+((ej-em)*ek>>8)&ea|eo+((el-eo)*ek>>8)&ed},difference:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=ei>eq?ei-eq:eq-ei,eg=ep>el?ep-el:el-ep,eh=er>eo?er-eo:eo-er;return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},exclusion:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=ei+eq-(ei*eq>>7),eg=ep+el-(ep*el>>7),eh=er+eo-(er*eo>>7);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},multiply:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=ei*eq>>8,eg=ep*el>>8,eh=er*eo>>8;return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},screen:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=255-((255-ei)*(255-eq)>>8),eg=255-((255-ep)*(255-el)>>8),eh=255-((255-er)*(255-eo)>>8);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},hard_light:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=eq<128?ei*eq>>7:255-((255-ei)*(255-eq)>>7),eg=el<128?ep*el>>7:255-((255-ep)*(255-el)>>7),eh=eo<128?er*eo>>7:255-((255-er)*(255-eo)>>7);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},soft_light:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=(ei*eq>>7)+(ei*ei>>8)-(ei*ei*eq>>15),eg=(ep*el>>7)+(ep*ep>>8)-(ep*ep*el>>15),eh=(er*eo>>7)+(er*er>>8)-(er*er*eo>>15);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},overlay:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed,en=ei<128?ei*eq>>7:255-((255-ei)*(255-eq)>>7),eg=ep<128?ep*el>>7:255-((255-ep)*(255-el)>>7),eh=er<128?er*eo>>7:255-((255-er)*(255-eo)>>7);return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},dodge:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed;var en=255;if(eq!==255){en=(ei<<8)/(255-eq);en=en<0?0:en>255?255:en}var eg=255;if(el!==255){eg=(ep<<8)/(255-el);eg=eg<0?0:eg>255?255:eg}var eh=255;if(eo!==255){eh=(er<<8)/(255-eo);eh=eh<0?0:eh>255?255:eh}return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)},burn:function(ek,ej){var em=(ej&ee)>>>24,ei=(ek&eb)>>16,ep=(ek&ea)>>8,er=ek&ed,eq=(ej&eb)>>16,el=(ej&ea)>>8,eo=ej&ed;var en=0;if(eq!==0){en=(255-ei<<8)/eq;en=255-(en<0?0:en>255?255:en)}var eg=0;if(el!==0){eg=(255-ep<<8)/el;eg=255-(eg<0?0:eg>255?255:eg)}var eh=0;if(eo!==0){eh=(255-er<<8)/eo;eh=255-(eh<0?0:eh>255?255:eh)}return ef(ek,em,ei,ep,er,eq,el,eo,en,eg,eh)}}}();function dD(ee,ed,eb,ea){var d9,ec,eg,eh;if(cW===3){var ef=cU.color.toRGB(ee,ed,eb);d9=ef[0];ec=ef[1];eg=ef[2]}else{d9=o.round(255*(ee/bF));ec=o.round(255*(ed/bE));eg=o.round(255*(eb/bC))}eh=o.round(255*(ea/bQ));d9=d9<0?0:d9;ec=ec<0?0:ec;eg=eg<0?0:eg;eh=eh<0?0:eh;d9=d9>255?255:d9;ec=ec>255?255:ec;eg=eg>255?255:eg;eh=eh>255?255:eh;return eh<<24&4278190080|d9<<16&16711680|ec<<8&65280|eg&255}function dG(d9,eb){var ea;if(d9&4278190080){ea=o.round(255*(eb/bQ));ea=ea>255?255:ea;ea=ea<0?0:ea;return d9-(d9&4278190080)+(ea<<24&4278190080)}if(cW===1){return dD(d9,d9,d9,eb)}if(cW===3){return dD(0,0,d9/bF*bC,eb)}}function dI(d9){if(d9<=bF&&d9>=0){if(cW===1){return dD(d9,d9,d9,bQ)}if(cW===3){return dD(0,0,d9/bF*bC,bQ)}}if(d9){if(d9>2147483647){d9-=4294967296}return d9}}cU.color=function(d9,ec,eb,ea){if(d9!==r&&ec!==r&&eb!==r&&ea!==r){return dD(d9,ec,eb,ea)}if(d9!==r&&ec!==r&&eb!==r){return dD(d9,ec,eb,bQ)}if(d9!==r&&ec!==r){return dG(d9,ec)}if(typeof d9==="number"){return dI(d9)}return dD(bF,bE,bC,bQ)};cU.color.toString=function(d9){return"rgba("+((d9>>16)&255)+","+((d9>>8)&255)+","+(d9&255)+","+((d9>>24)&255)/255+")"};cU.color.toInt=function(ec,eb,d9,ea){return ea<<24&4278190080|ec<<16&16711680|eb<<8&65280|d9&255};cU.color.toArray=function(d9){return[(d9>>16)&255,(d9>>8)&255,d9&255,(d9>>24)&255]};cU.color.toGLArray=function(d9){return[((d9>>16)&255)/255,((d9>>8)&255)/255,(d9&255)/255,((d9>>24)&255)/255]};cU.color.toRGB=function(eb,eh,ee){eb=eb>bF?bF:eb;eh=eh>bE?bE:eh;ee=ee>bC?bC:ee;eb=eb/bF*360;eh=eh/bE*100;ee=ee/bC*100;var eg=o.round(ee/100*255);if(eh===0){return[eg,eg,eg]}var ec=eb%360;var ed=ec%60;var ea=o.round(ee*(100-eh)/10000*255);var d9=o.round(ee*(6000-eh*ed)/600000*255);var ef=o.round(ee*(6000-eh*(60-ed))/600000*255);switch(o.floor(ec/60)){case 0:return[eg,ef,ea];case 1:return[d9,eg,ea];case 2:return[ea,eg,ef];case 3:return[ea,d9,eg];case 4:return[ef,ea,eg];case 5:return[eg,ea,d9]}};function aO(eg){var ef,ee,ea;ef=((eg>>16)&255)/255;ee=((eg>>8)&255)/255;ea=(eg&255)/255;var d9=cU.max(cU.max(ef,ee),ea),ec=cU.min(cU.min(ef,ee),ea),eb,ed;if(ec===d9){return[0,0,d9*bC]}ed=(d9-ec)/d9;if(ef===d9){eb=(ee-ea)/(d9-ec)}else{if(ee===d9){eb=2+(ea-ef)/(d9-ec)}else{eb=4+(ef-ee)/(d9-ec)}}eb/=6;if(eb<0){eb+=1}else{if(eb>1){eb-=1}}return[eb*bF,ed*bE,d9*bC]}cU.brightness=function(d9){return aO(d9)[2]};cU.saturation=function(d9){return aO(d9)[1]};cU.hue=function(d9){return aO(d9)[0]};cU.red=function(d9){return((d9>>16)&255)/255*bF};cU.green=function(d9){return((d9>>8)&255)/255*bE};cU.blue=function(d9){return(d9&255)/255*bC};cU.alpha=function(d9){return((d9>>24)&255)/255*bQ};cU.lerpColor=function(el,ek,ee){var ej,ep,eq,er,en,d9,ef,et,em,eu,ed,es;var eh,eg,ea,eo,ei;var ec=cU.color(el);var eb=cU.color(ek);if(cW===3){eh=aO(ec);et=((ec>>24)&255)/bQ;eg=aO(eb);es=((eb>>24)&255)/bQ;eo=cU.lerp(eh[0],eg[0],ee);ei=cU.lerp(eh[1],eg[1],ee);eq=cU.lerp(eh[2],eg[2],ee);ea=cU.color.toRGB(eo,ei,eq);er=cU.lerp(et,es,ee)*bQ;return er<<24&4278190080|(ea[0]&255)<<16|(ea[1]&255)<<8|ea[2]&255}en=(ec&16711680)>>>16;d9=(ec>>8)&255;ef=ec&255;et=((ec>>24)&255)/bQ;em=(eb>>16)&255;eu=(eb>>8)&255;ed=eb&255;es=((eb>>24)&255)/bQ;ej=cU.lerp(en,em,ee)|0;ep=cU.lerp(d9,eu,ee)|0;eq=cU.lerp(ef,ed,ee)|0;er=cU.lerp(et,es,ee)*bQ;return er<<24&4278190080|ej<<16&16711680|ep<<8&65280|eq&255};cU.colorMode=function(){cW=arguments[0];if(arguments.length>1){bF=arguments[1];bE=arguments[2]||arguments[1];bC=arguments[3]||arguments[1];bQ=arguments[4]||arguments[1]}};cU.blendColor=function(ea,d9,eb){if(eb===0){return cU.modes.replace(ea,d9)}else{if(eb===1){return cU.modes.blend(ea,d9)}else{if(eb===2){return cU.modes.add(ea,d9)}else{if(eb===4){return cU.modes.subtract(ea,d9)}else{if(eb===8){return cU.modes.lightest(ea,d9)}else{if(eb===16){return cU.modes.darkest(ea,d9)}else{if(eb===32){return cU.modes.difference(ea,d9)}else{if(eb===64){return cU.modes.exclusion(ea,d9)}else{if(eb===128){return cU.modes.multiply(ea,d9)}else{if(eb===256){return cU.modes.screen(ea,d9)}else{if(eb===1024){return cU.modes.hard_light(ea,d9)}else{if(eb===2048){return cU.modes.soft_light(ea,d9)}else{if(eb===512){return cU.modes.overlay(ea,d9)}else{if(eb===4096){return cU.modes.dodge(ea,d9)}else{if(eb===8192){return cU.modes.burn(ea,d9)}}}}}}}}}}}}}}}};function aB(){d6.save()}function cN(){d6.restore();b1=true;ao=true}cU.printMatrix=function(){dF.print()};bN.prototype.translate=function(d9,ea){dF.translate(d9,ea);aP.invTranslate(d9,ea);d6.translate(d9,ea)};bx.prototype.translate=function(d9,eb,ea){dF.translate(d9,eb,ea);aP.invTranslate(d9,eb,ea)};bN.prototype.scale=function(d9,ea){dF.scale(d9,ea);aP.invScale(d9,ea);d6.scale(d9,ea||d9)};bx.prototype.scale=function(d9,eb,ea){dF.scale(d9,eb,ea);aP.invScale(d9,eb,ea)};bN.prototype.pushMatrix=function(){ak.load(dF);c8.load(aP);aB()};bx.prototype.pushMatrix=function(){ak.load(dF);c8.load(aP)};bN.prototype.popMatrix=function(){dF.set(ak.pop());aP.set(c8.pop());cN()};bx.prototype.popMatrix=function(){dF.set(ak.pop());aP.set(c8.pop())};bN.prototype.resetMatrix=function(){dF.reset();aP.reset();d6.setTransform(1,0,0,1,0,0)};bx.prototype.resetMatrix=function(){dF.reset();aP.reset()};dn.prototype.applyMatrix=function(){var d9=arguments;dF.apply(d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6],d9[7],d9[8],d9[9],d9[10],d9[11],d9[12],d9[13],d9[14],d9[15]);aP.invApply(d9[0],d9[1],d9[2],d9[3],d9[4],d9[5],d9[6],d9[7],d9[8],d9[9],d9[10],d9[11],d9[12],d9[13],d9[14],d9[15])};bN.prototype.applyMatrix=function(){var d9=arguments;for(var ea=d9.length;ea<16;ea++){d9[ea]=0}d9[10]=d9[15]=1;dn.prototype.applyMatrix.apply(this,d9)};cU.rotateX=function(d9){dF.rotateX(d9);aP.invRotateX(d9)};bN.prototype.rotateZ=function(){throw"rotateZ() is not supported in 2D mode. Use rotate(float) instead."};bx.prototype.rotateZ=function(d9){dF.rotateZ(d9);aP.invRotateZ(d9)};cU.rotateY=function(d9){dF.rotateY(d9);aP.invRotateY(d9)};bN.prototype.rotate=function(d9){dF.rotateZ(d9);aP.invRotateZ(d9);d6.rotate(cU.convertToRadians(d9))};bx.prototype.rotate=function(d9){cU.rotateZ(d9)};cU.pushStyle=function(){aB();cU.pushMatrix();var d9={doFill:aE,currentFillColor:aW,doStroke:cc,currentStrokeColor:ct,curTint:ba,curRectMode:bH,curColorMode:cW,colorModeX:bF,colorModeZ:bC,colorModeY:bE,colorModeA:bQ,curTextFont:T,horizontalTextAlignment:K,verticalTextAlignment:cZ,textMode:cG,curFontName:V,curTextSize:dX,curTextAscent:aY,curTextDescent:dx,curTextLeading:d5};bh.push(d9)};cU.popStyle=function(){var d9=bh.pop();if(d9){cN();cU.popMatrix();aE=d9.doFill;aW=d9.currentFillColor;cc=d9.doStroke;ct=d9.currentStrokeColor;ba=d9.curTint;bH=d9.curRectmode;cW=d9.curColorMode;bF=d9.colorModeX;bC=d9.colorModeZ;bE=d9.colorModeY;bQ=d9.colorModeA;T=d9.curTextFont;V=d9.curFontName;dX=d9.curTextSize;K=d9.horizontalTextAlignment;cZ=d9.verticalTextAlignment;cG=d9.textMode;aY=d9.curTextAscent;dx=d9.curTextDescent;d5=d9.curTextLeading}else{throw"Too many popStyle() without enough pushStyle()"}};cU.year=function(){return(new Date).getFullYear()};cU.month=function(){return(new Date).getMonth()+1};cU.day=function(){return(new Date).getDate()};cU.hour=function(){return(new Date).getHours()};cU.minute=function(){return(new Date).getMinutes()};cU.second=function(){return(new Date).getSeconds()};cU.millis=function(){return Date.now()-dl};function cr(){var d9=(Date.now()-dp)/1000;M++;var ea=M/d9;if(d9>0.5){dp=Date.now();M=0;cU.__frameRate=ea}cU.frameCount++}bN.prototype.redraw=function(){cr();d6.lineWidth=dT;var d9=cU.pmouseX,ea=cU.pmouseY;cU.pmouseX=dJ;cU.pmouseY=d3;aB();cU.draw();cN();dJ=cU.mouseX;d3=cU.mouseY;cU.pmouseX=d9;cU.pmouseY=ea;cU.mouseIsPressed=cU.__mousePressed};bx.prototype.redraw=function(){cr();var d9=cU.pmouseX,ea=cU.pmouseY;cU.pmouseX=dJ;cU.pmouseY=d3;d6.clear(d6.DEPTH_BUFFER_BIT);dz={attributes:{},locations:{}};cU.noLights();cU.lightFalloff(1,0,0);cU.shininess(1);cU.ambient(255,255,255);cU.specular(0,0,0);cU.emissive(0,0,0);cU.camera();cU.draw();dJ=cU.mouseX;d3=cU.mouseY;cU.pmouseX=d9;cU.pmouseY=ea;cU.mouseIsPressed=cU.__mousePressed};cU.noLoop=function(){aA=false;av=false;clearInterval(b2);cO.onPause()};cU.loop=function(){if(av){return}dp=Date.now();M=0;b2=A.setInterval(function(){try{cO.onFrameStart();cU.redraw();cO.onFrameEnd()}catch(d9){A.clearInterval(b2);throw d9}},ax);aA=true;av=true;cO.onLoop()};cU.frameRate=function(d9){dR=d9;ax=1000/dR;if(aA){cU.noLoop();cU.loop()}};var ar=[];function bL(eb,ea,d9){if(eb.addEventListener){eb.addEventListener(ea,d9,false)}else{eb.attachEvent("on"+ea,d9)}ar.push({elem:eb,type:ea,fn:d9})}function dc(d9){var ec=d9.elem,eb=d9.type,ea=d9.fn;if(ec.removeEventListener){ec.removeEventListener(eb,ea,false)}else{if(ec.detachEvent){ec.detachEvent("on"+eb,ea)}}}cU.exit=function(){A.clearInterval(b2);I(cU.externals.canvas.id);for(var ea in C.lib){if(C.lib.hasOwnProperty(ea)){if(C.lib[ea].hasOwnProperty("detach")){C.lib[ea].detach(cU)}}}var d9=ar.length;while(d9--){dc(ar[d9])}cO.onExit()};cU.cursor=function(){if(arguments.length>1||arguments.length===1&&arguments[0] instanceof cU.PImage){var ec=arguments[0],d9,ee;if(arguments.length>=3){d9=arguments[1];ee=arguments[2];if(d9<0||ee<0||ee>=ec.height||d9>=ec.width){throw"x and y must be non-negative and less than the dimensions of the image"}}else{d9=ec.width>>>1;ee=ec.height>>>1}var ea=ec.toDataURL();var eb='url("'+ea+'") '+d9+" "+ee+", default";W=ab.style.cursor=eb}else{if(arguments.length===1){var ed=arguments[0];W=ab.style.cursor=ed}else{W=ab.style.cursor=ci}}};cU.noCursor=function(){W=ab.style.cursor=y.NOCURSOR};cU.link=function(d9,ea){if(ea!==r){A.open(d9,ea)}else{A.location=d9}};cU.beginDraw=D;cU.endDraw=D;bN.prototype.toImageData=function(d9,ec,ea,eb){d9=d9!==r?d9:0;ec=ec!==r?ec:0;ea=ea!==r?ea:cU.width;eb=eb!==r?eb:cU.height;return d6.getImageData(d9,ec,ea,eb)};bx.prototype.toImageData=function(eh,eg,ei,ed){eh=eh!==r?eh:0;eg=eg!==r?eg:0;ei=ei!==r?ei:cU.width;ed=ed!==r?ed:cU.height;var ef=d.createElement("canvas"),ej=ef.getContext("2d"),ec=ej.createImageData(ei,ed),ea=new b(ei*ed*4);d6.readPixels(eh,eg,ei,ed,d6.RGBA,d6.UNSIGNED_BYTE,ea);for(var eb=0,ee=ea.length,d9=ec.data;eb<ee;eb++){d9[eb]=ea[(ed-1-o.floor(eb/4/ei))*ei*4+eb%(ei*4)]}return ec};cU.status=function(d9){A.status=d9};cU.binary=function(ea,eb){var ec;if(eb>0){ec=eb}else{if(ea instanceof bM){ec=16;ea|=0}else{ec=32;while(ec>1&&!(ea>>>ec-1&1)){ec--}}}var d9="";while(ec>0){d9+=ea>>>--ec&1?"1":"0"}return d9};cU.unbinary=function(ea){var ec=ea.length-1,eb=1,d9=0;while(ec>=0){var ed=ea[ec--];if(ed!=="0"&&ed!=="1"){throw"the value passed into unbinary was not an 8 bit binary number"}if(ed==="1"){d9+=eb}eb<<=1}return d9};function cV(el,ej,ed,eo,ef,em){var eb=el<0?ed:ej;var ea=ef===0;var ek=ef===r||ef<0?0:ef;var ei=o.abs(el);if(ea){ek=1;ei*=10;while(o.abs(o.round(ei)-ei)>0.000001&&ek<7){++ek;ei*=10}}else{if(ek!==0){ei*=o.pow(10,ek)}}var ec,eh=ei*2;if(o.floor(ei)===ei){ec=ei}else{if(o.floor(eh)===eh){var d9=o.floor(ei);ec=d9+d9%2}else{ec=o.round(ei)}}var ee="";var en=eo+ek;while(en>0||ec>0){en--;ee=""+ec%10+ee;ec=o.floor(ec/10)}if(em!==r){var eg=ee.length-3-ek;while(eg>0){ee=ee.substring(0,eg)+em+ee.substring(eg);eg-=3}}if(ek>0){return eb+ee.substring(0,ee.length-ek)+"."+ee.substring(ee.length-ek,ee.length)}return eb+ee}function am(ef,ee,d9,eh,ea,eg){if(ef instanceof Array){var ec=[];for(var eb=0,ed=ef.length;eb<ed;eb++){ec.push(cV(ef[eb],ee,d9,eh,ea,eg))}return ec}return cV(ef,ee,d9,eh,ea,eg)}cU.nf=function(eb,d9,ea){return am(eb,"","-",d9,ea)};cU.nfs=function(eb,d9,ea){return am(eb," ","-",d9,ea)};cU.nfp=function(eb,d9,ea){return am(eb,"+","-",d9,ea)};cU.nfc=function(eb,d9,ea){return am(eb,"","-",d9,ea,",")};var aJ=function(eb,ea){ea=ea===r||ea===null?ea=8:ea;if(eb<0){eb=4294967295+eb+1}var d9=Number(eb).toString(16).toUpperCase();while(d9.length<ea){d9="0"+d9}if(d9.length>=ea){d9=d9.substring(d9.length-ea,d9.length)}return d9};cU.hex=function(ea,d9){if(arguments.length===1){if(ea instanceof bM){d9=4}else{d9=8}}return aJ(ea,d9)};function dB(d9){var ea=parseInt("0x"+d9,16);if(ea>2147483647){ea-=4294967296}return ea}cU.unhex=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(dB(eb[ea]))}return d9}return dB(eb)};cU.loadStrings=function(ea){if(localStorage[ea]){return localStorage[ea].split("\n")}var d9=u(ea);if(typeof d9!=="string"||d9===""){return[]}d9=d9.replace(/(\r\n?)/g,"\n").replace(/\n$/,"");return d9.split("\n")};cU.saveStrings=function(ea,d9){localStorage[ea]=d9.join("\n")};cU.loadBytes=function(eb){var ea=u(eb);var d9=[];for(var ec=0;ec<ea.length;ec++){d9.push(ea.charCodeAt(ec))}return d9};function a7(d9){return Array.prototype.slice.call(d9,1)}cU.matchAll=function(ea,d9){var ec=[],eb;var ed=new RegExp(d9,"g");while((eb=ed.exec(ea))!==null){ec.push(eb);if(eb[0].length===0){++ed.lastIndex}}return ec.length>0?ec:null};cU.__contains=function(ea,d9){if(typeof ea!=="string"){return ea.contains.apply(ea,a7(arguments))}return ea!==null&&d9!==null&&typeof d9==="string"&&ea.indexOf(d9)>-1};cU.__replaceAll=function(d9,eb,ea){if(typeof d9!=="string"){return d9.replaceAll.apply(d9,a7(arguments))}return d9.replace(new RegExp(eb,"g"),ea)};cU.__replaceFirst=function(d9,eb,ea){if(typeof d9!=="string"){return d9.replaceFirst.apply(d9,a7(arguments))}return d9.replace(new RegExp(eb,""),ea)};cU.__replace=function(ec,ee,ed){if(typeof ec!=="string"){return ec.replace.apply(ec,a7(arguments))}if(ee instanceof RegExp){return ec.replace(ee,ed)}if(typeof ee!=="string"){ee=ee.toString()}if(ee===""){return ec}var eb=ec.indexOf(ee);if(eb<0){return ec}var ea=0,d9="";do{d9+=ec.substring(ea,eb)+ed;ea=eb+ee.length}while((eb=ec.indexOf(ee,ea))>=0);return d9+ec.substring(ea)};cU.__equals=function(ea,d9){if(ea.equals instanceof Function){return ea.equals.apply(ea,a7(arguments))}return ea.valueOf()===d9.valueOf()};cU.__equalsIgnoreCase=function(ea,d9){if(typeof ea!=="string"){return ea.equalsIgnoreCase.apply(ea,a7(arguments))}return ea.toLowerCase()===d9.toLowerCase()};cU.__toCharArray=function(eb){if(typeof eb!=="string"){return eb.toCharArray.apply(eb,a7(arguments))}var ec=[];for(var ea=0,d9=eb.length;ea<d9;++ea){ec[ea]=new bM(eb.charAt(ea))}return ec};cU.__split=function(ec,ed,ea){if(typeof ec!=="string"){return ec.split.apply(ec,a7(arguments))}var ef=new RegExp(ed);if(ea===r||ea<1){return ec.split(ef)}var d9=[],ee=ec,eg;while((eg=ee.search(ef))!==-1&&d9.length<ea-1){var eb=ef.exec(ee).toString();d9.push(ee.substring(0,eg));ee=ee.substring(eg+eb.length)}if(eg!==-1||ee!==""){d9.push(ee)}return d9};cU.__codePointAt=function(ec,ea){var ed=ec.charCodeAt(ea),eb,d9;if(55296<=ed&&ed<=56319){eb=ed;d9=ec.charCodeAt(ea+1);return(eb-55296)*1024+(d9-56320)+65536}return ed};cU.match=function(ea,d9){return ea.match(d9)};cU.__startsWith=function(d9,eb,ea){if(typeof d9!=="string"){return d9.startsWith.apply(d9,a7(arguments))}ea=ea||0;if(ea<0||ea>d9.length){return false}return eb===""||eb===d9?true:d9.indexOf(eb)===ea};cU.__endsWith=function(ea,eb){if(typeof ea!=="string"){return ea.endsWith.apply(ea,a7(arguments))}var d9=eb?eb.length:0;return eb===""||eb===ea?true:ea.indexOf(eb)===ea.length-d9};cU.__hashCode=function(d9){if(d9.hashCode instanceof Function){return d9.hashCode.apply(d9,a7(arguments))}return h(d9)};cU.__printStackTrace=function(d9){cU.println("Exception: "+d9.toString())};cU._clearLogs=function(){if(C.logger.clear){C.logger.clear()}};var d8=[];cU.println=function(d9){var ea=d8.length;if(ea){C.logger.log(d8.join(""));d8.length=0}if(arguments.length===0&&ea===0){C.logger.log("")}else{if(arguments.length!==0){C.logger.log(d9)}}};cU.print=function(d9){d8.push(d9)};cU.str=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(eb[ea].toString()+"")}return d9}return eb.toString()+""};cU.trim=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(eb[ea].replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,""))}return d9}return eb.replace(/^\s*/,"").replace(/\s*$/,"").replace(/\r*$/,"")};function aN(d9){if(typeof d9==="number"){return d9!==0}if(typeof d9==="boolean"){return d9}if(typeof d9==="string"){return d9.toLowerCase()==="true"}if(d9 instanceof bM){return d9.code===49||d9.code===84||d9.code===116}}cU.parseBoolean=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(aN(eb[ea]))}return d9}return aN(eb)};cU.parseByte=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(0-(eb[ea]&128)|eb[ea]&127)}return d9}return 0-(eb&128)|eb&127};cU.parseChar=function(eb){if(typeof eb==="number"){return new bM(String.fromCharCode(eb&65535))}if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(new bM(String.fromCharCode(eb[ea]&65535)))}return d9}throw"char() may receive only one argument of type int, byte, int[], or byte[]."};function cM(d9){if(typeof d9==="number"){return d9}if(typeof d9==="boolean"){return d9?1:0}if(typeof d9==="string"){return parseFloat(d9)}if(d9 instanceof bM){return d9.code}}cU.parseFloat=function(eb){if(eb instanceof Array){var d9=[];for(var ea=0;ea<eb.length;ea++){d9.push(cM(eb[ea]))}return d9}return cM(eb)};function aj(eb,d9){if(typeof eb==="number"){return eb&4294967295}if(typeof eb==="boolean"){return eb?1:0}if(typeof eb==="string"){var ea=parseInt(eb,d9||10);return ea&4294967295}if(eb instanceof bM){return eb.code}}cU.parseInt=function(ec,eb){if(ec instanceof Array){var d9=[];for(var ea=0;ea<ec.length;ea++){if(typeof ec[ea]==="string"&&!/^\s*[+\-]?\d+\s*$/.test(ec[ea])){d9.push(0)}else{d9.push(aj(ec[ea],eb))}}return d9}return aj(ec,eb)};cU.__int_cast=function(d9){return 0|d9};cU.__instanceof=function(eb,ea){if(typeof ea!=="function"){throw"Function is expected as type argument for instanceof operator"}if(typeof eb==="string"){return ea===Object||ea===String}if(eb instanceof ea){return true}if(typeof eb!=="object"||eb===null){return false}var ed=eb.constructor;if(ea.$isInterface){var ec=[];while(ed){if(ed.$interfaces){ec=ec.concat(ed.$interfaces)}ed=ed.$base}while(ec.length>0){var d9=ec.shift();if(d9===ea){return true}if(d9.$interfaces){ec=ec.concat(d9.$interfaces)}}return false}while(ed.hasOwnProperty("$base")){ed=ed.$base;if(ed===ea){return true}}return false};cU.abs=o.abs;cU.ceil=o.ceil;cU.constrain=function(ea,eb,d9){return ea>d9?d9:ea<eb?eb:ea};cU.dist=function(){var eb,ea,d9;if(arguments.length===4){eb=arguments[0]-arguments[2];ea=arguments[1]-arguments[3];return o.sqrt(eb*eb+ea*ea)}if(arguments.length===6){eb=arguments[0]-arguments[3];ea=arguments[1]-arguments[4];d9=arguments[2]-arguments[5];return o.sqrt(eb*eb+ea*ea+d9*d9)}};cU.exp=o.exp;cU.floor=o.floor;cU.lerp=function(ea,d9,eb){return(d9-ea)*eb+ea};cU.log=o.log;cU.mag=function(ea,d9,eb){if(eb){return o.sqrt(ea*ea+d9*d9+eb*eb)}return o.sqrt(ea*ea+d9*d9)};cU.map=function(ec,ea,eb,d9,ed){return d9+(ed-d9)*((ec-ea)/(eb-ea))};cU.max=function(){if(arguments.length===2){return arguments[0]<arguments[1]?arguments[1]:arguments[0]}var ea=arguments.length===1?arguments[0]:arguments;if(!("length" in ea&&ea.length>0)){throw"Non-empty array is expected"}var d9=ea[0],ec=ea.length;for(var eb=1;eb<ec;++eb){if(d9<ea[eb]){d9=ea[eb]}}return d9};cU.min=function(){if(arguments.length===2){return arguments[0]<arguments[1]?arguments[0]:arguments[1]}var d9=arguments.length===1?arguments[0]:arguments;if(!("length" in d9&&d9.length>0)){throw"Non-empty array is expected"}var eb=d9[0],ec=d9.length;for(var ea=1;ea<ec;++ea){if(eb>d9[ea]){eb=d9[ea]}}return eb};cU.norm=function(ea,d9,eb){return(ea-d9)/(eb-d9)};cU.pow=o.pow;cU.round=o.round;cU.sq=function(d9){return d9*d9};cU.sqrt=o.sqrt;cU.convertToDegrees=function(d9){return cU.angleMode==="degrees"?cU.degrees(d9):d9};cU.convertToRadians=function(d9){return cU.angleMode==="degrees"?cU.radians(d9):d9};var dq=function(){var d9=arguments;return function(){var ea=arguments;for(var eb=0;eb<d9.length;eb++){ea=[d9[eb].apply(d9[eb],ea)]}return ea[0]}};cU.acos=dq(o.acos,cU.convertToDegrees);cU.asin=dq(o.asin,cU.convertToDegrees);cU.atan=dq(o.atan,cU.convertToDegrees);cU.atan2=dq(o.atan2,cU.convertToDegrees);cU.cos=dq(cU.convertToRadians,o.cos);cU.degrees=function(d9){return d9*180/o.PI};cU.radians=function(d9){return d9/180*o.PI};cU.sin=dq(cU.convertToRadians,o.sin);cU.tan=dq(cU.convertToRadians,o.tan);cI=cU.angleMode==="degrees"?60:cU.radians(60);df=dg/cU.tan(cI/2);var bV=o.random;cU.random=function(){if(arguments.length===0){return bV()}if(arguments.length===1){return bV()*arguments[0]}var ea=arguments[0],d9=arguments[1];return bV()*(d9-ea)+ea};function cm(eb,ea){var ed=eb||362436069,d9=ea||521288629;var ec=function(){ed=36969*(ed&65535)+(ed>>>16)&4294967295;d9=18000*(d9&65535)+(d9>>>16)&4294967295;return((ed&65535)<<16|d9&65535)&4294967295};this.nextDouble=function(){var ee=ec()/4294967296;return ee<0?1+ee:ee};this.nextInt=ec}cm.createRandomized=function(){var d9=new Date;return new cm(d9/60000&4294967295,d9&4294967295)};cU.randomSeed=function(d9){bV=(new cm(d9)).nextDouble};cU.Random=function(d9){var ec=false,ea,eb;this.nextGaussian=function(){if(ec){ec=false;return ea}var eg,ee,ed;do{eg=2*eb()-1;ee=2*eb()-1;ed=eg*eg+ee*ee}while(ed>=1||ed===0);var ef=o.sqrt(-2*o.log(ed)/ed);ea=ee*ef;ec=true;return eg*ef};eb=d9===r?o.random:(new cm(d9)).nextDouble};function dw(eg){var ea=eg!==r?new cm(eg):cm.createRandomized();var ef,ed;var ec=new b(512);for(ef=0;ef<256;++ef){ec[ef]=ef}for(ef=0;ef<256;++ef){var ei=ec[ed=ea.nextInt()&255];ec[ed]=ec[ef];ec[ef]=ei}for(ef=0;ef<256;++ef){ec[ef+256]=ec[ef]}function d9(em,ej,ep,eo){var en=em&15;var el=en<8?ej:ep,ek=en<4?ep:en===12||en===14?ej:eo;return((en&1)===0?el:-el)+((en&2)===0?ek:-ek)}function ee(el,ej,em){var ek=(el&1)===0?ej:em;return(el&2)===0?-ek:ek}function eh(ek,ej){return(ek&1)===0?-ej:ej}function eb(el,ek,ej){return ek+el*(ej-ek)}this.noise3d=function(ev,eu,et){var em=o.floor(ev)&255,ek=o.floor(eu)&255,ej=o.floor(et)&255;ev-=o.floor(ev);eu-=o.floor(eu);et-=o.floor(et);var eq=(3-2*ev)*ev*ev,ep=(3-2*eu)*eu*eu,eo=(3-2*et)*et*et;var ex=ec[em]+ek,es=ec[ex]+ej,er=ec[ex+1]+ej,ew=ec[em+1]+ek,en=ec[ew]+ej,el=ec[ew+1]+ej;return eb(eo,eb(ep,eb(eq,d9(ec[es],ev,eu,et),d9(ec[en],ev-1,eu,et)),eb(eq,d9(ec[er],ev,eu-1,et),d9(ec[el],ev-1,eu-1,et))),eb(ep,eb(eq,d9(ec[es+1],ev,eu,et-1),d9(ec[en+1],ev-1,eu,et-1)),eb(eq,d9(ec[er+1],ev,eu-1,et-1),d9(ec[el+1],ev-1,eu-1,et-1))))};this.noise2d=function(ej,eq){var ep=o.floor(ej)&255,en=o.floor(eq)&255;ej-=o.floor(ej);eq-=o.floor(eq);var el=(3-2*ej)*ej*ej,ek=(3-2*eq)*eq*eq;var eo=ec[ep]+en,em=ec[ep+1]+en;return eb(ek,eb(el,ee(ec[eo],ej,eq),ee(ec[em],ej-1,eq)),eb(el,ee(ec[eo+1],ej,eq-1),ee(ec[em+1],ej-1,eq-1)))};this.noise1d=function(ej){var el=o.floor(ej)&255;ej-=o.floor(ej);var ek=(3-2*ej)*ej*ej;return eb(ek,eh(ec[el],ej),eh(ec[el+1],ej-1))}}var bT={generator:r,octaves:4,fallout:0.5,seed:r};cU.noise=function(d9,eg,ef){if(bT.generator===r){bT.generator=new dw(bT.seed)}var ee=bT.generator;var ed=1,ea=1,ec=0;for(var eb=0;eb<bT.octaves;++eb){ed*=bT.fallout;switch(arguments.length){case 1:ec+=ed*(1+ee.noise1d(ea*d9))/2;break;case 2:ec+=ed*(1+ee.noise2d(ea*d9,ea*eg))/2;break;case 3:ec+=ed*(1+ee.noise3d(ea*d9,ea*eg,ea*ef))/2;break}ea*=2}return ec};cU.noiseDetail=function(ea,d9){bT.octaves=ea;if(d9!==r){bT.fallout=d9}};cU.noiseSeed=function(d9){bT.seed=d9;bT.generator=r};dn.prototype.size=function(ea,ed,ec){if(cc){cU.stroke(0)}if(aE){cU.fill(255)}var eb={fillStyle:d6.fillStyle,strokeStyle:d6.strokeStyle,lineCap:d6.lineCap,lineJoin:d6.lineJoin};if(ab.style.length>0){ab.style.removeProperty("width");ab.style.removeProperty("height")}ab.width=cU.width=ea||100;ab.height=cU.height=ed||100;for(var ee in eb){if(eb.hasOwnProperty(ee)){d6[ee]=eb[ee]}}cU.textFont(T);cU.background();bX=o.max(1000,ea*ed*0.05);cU.externals.context=d6;for(var d9=0;d9<720;d9++){af[d9]=cU.sin(cU.angleMode==="degrees"?d9:cU.radians(d9));bi[d9]=cU.cos(cU.angleMode==="degrees"?d9:cU.radians(d9))}};bN.prototype.size=function(d9,eb,ea){if(d6===r){d6=ab.getContext("2d");ak=new S;c8=new S;dF=new aS;aP=new aS}dn.prototype.size.apply(this,arguments)};bx.prototype.size=function(){var ea=false;return function d9(ec,ee,ed){if(ea){throw"Multiple calls to size() for 3D renders are not allowed."}ea=true;function ef(eh){var ek=["experimental-webgl","webgl","webkit-3d"],ej;for(var ei=0,eg=ek.length;ei<eg;ei++){ej=eh.getContext(ek[ei],{antialias:false});if(ej){break}}return ej}try{ab.width=cU.width=ec||100;ab.height=cU.height=ee||100;d6=ef(ab);c5=d6.createTexture();bO=d6.createTexture()}catch(eb){C.debug(eb)}if(!d6){throw"WebGL context is not supported on this browser."}d6.viewport(0,0,ab.width,ab.height);d6.enable(d6.DEPTH_TEST);d6.enable(d6.BLEND);d6.blendFunc(d6.SRC_ALPHA,d6.ONE_MINUS_SRC_ALPHA);dM=bB(d6,ac,bW);bP=bB(d6,bR,be);cU.strokeWeight(1);du=bB(d6,d7,bG);d6.useProgram(du);dW("usingTexture3d",du,"usingTexture",dQ);cU.lightFalloff(1,0,0);cU.shininess(1);cU.ambient(255,255,255);cU.specular(0,0,0);cU.emissive(0,0,0);bc=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,bc);d6.bufferData(d6.ARRAY_BUFFER,de,d6.STATIC_DRAW);cH=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,cH);d6.bufferData(d6.ARRAY_BUFFER,dd,d6.STATIC_DRAW);dh=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,dh);d6.bufferData(d6.ARRAY_BUFFER,bD,d6.STATIC_DRAW);az=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,az);d6.bufferData(d6.ARRAY_BUFFER,ai,d6.STATIC_DRAW);b0=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,b0);d6.bufferData(d6.ARRAY_BUFFER,ag,d6.STATIC_DRAW);bb=d6.createBuffer();b6=d6.createBuffer();aq=d6.createBuffer();aD=d6.createBuffer();by=d6.createBuffer();ad=d6.createBuffer();au=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,au);d6.bufferData(d6.ARRAY_BUFFER,new e([0,0,0]),d6.STATIC_DRAW);cF=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,cF);d6.bufferData(d6.ARRAY_BUFFER,new e([1,1,0,-1,1,0,-1,-1,0,1,-1,0]),d6.STATIC_DRAW);Z=d6.createBuffer();d6.bindBuffer(d6.ARRAY_BUFFER,Z);d6.bufferData(d6.ARRAY_BUFFER,new e([0,0,1,0,1,1,0,1]),d6.STATIC_DRAW);O=d6.createBuffer();d6.bindBuffer(d6.ELEMENT_ARRAY_BUFFER,O);d6.bufferData(d6.ELEMENT_ARRAY_BUFFER,new w([0,1,2,2,3,0]),d6.STATIC_DRAW);bS=new aL;cf=new aL;dF=new aL;aP=new aL;c9=new aL;cU.camera();cU.perspective();ak=new S;c8=new S;c1=new aL;aM=new aL;aI=new aL;bv=new aL;cb=new aL;R=new aL;R.set(-1,3,-3,1,3,-6,3,0,-3,3,0,0,1,0,0,0);dn.prototype.size.apply(this,arguments)}}();bN.prototype.ambientLight=dn.prototype.a3DOnlyFunction;bx.prototype.ambientLight=function(d9,ec,eh,ei,ee,ed){if(dH===8){throw"can only create "+8+" lights"}var ef=new d2(ei,ee,ed);var eg=new aL;eg.scale(1,-1,1);eg.apply(dF.array());eg.mult(ef,ef);var ea=dD(d9,ec,eh,0);var eb=[((ea>>16)&255)/255,((ea>>8)&255)/255,(ea&255)/255];d6.useProgram(du);dZ("lights.color.3d."+dH,du,"lights"+dH+".color",eb);dZ("lights.position.3d."+dH,du,"lights"+dH+".position",ef.array());dW("lights.type.3d."+dH,du,"lights"+dH+".type",0);dW("lightCount3d",du,"lightCount",++dH)};bN.prototype.directionalLight=dn.prototype.a3DOnlyFunction;bx.prototype.directionalLight=function(d9,ef,eh,eg,ee,ed){if(dH===8){throw"can only create "+8+" lights"}d6.useProgram(du);var ei=new aL;ei.scale(1,-1,1);ei.apply(dF.array());ei=ei.array();var eb=[ei[0]*eg+ei[4]*ee+ei[8]*ed,ei[1]*eg+ei[5]*ee+ei[9]*ed,ei[2]*eg+ei[6]*ee+ei[10]*ed];var ea=dD(d9,ef,eh,0);var ec=[((ea>>16)&255)/255,((ea>>8)&255)/255,(ea&255)/255];dZ("lights.color.3d."+dH,du,"lights"+dH+".color",ec);dZ("lights.position.3d."+dH,du,"lights"+dH+".position",eb);dW("lights.type.3d."+dH,du,"lights"+dH+".type",1);dW("lightCount3d",du,"lightCount",++dH)};bN.prototype.lightFalloff=dn.prototype.a3DOnlyFunction;bx.prototype.lightFalloff=function(ea,d9,eb){d6.useProgram(du);dZ("falloff3d",du,"falloff",[ea,d9,eb])};bN.prototype.lightSpecular=dn.prototype.a3DOnlyFunction;bx.prototype.lightSpecular=function(ed,ec,d9){var ea=dD(ed,ec,d9,0);var eb=[((ea>>16)&255)/255,((ea>>8)&255)/255,(ea&255)/255];d6.useProgram(du);dZ("specular3d",du,"specular",eb)};cU.lights=function(){cU.ambientLight(128,128,128);cU.directionalLight(128,128,128,0,0,-1);cU.lightFalloff(1,0,0);cU.lightSpecular(0,0,0)};bN.prototype.pointLight=dn.prototype.a3DOnlyFunction;bx.prototype.pointLight=function(d9,ec,eh,ei,ee,ed){if(dH===8){throw"can only create "+8+" lights"}var ef=new d2(ei,ee,ed);var eg=new aL;eg.scale(1,-1,1);eg.apply(dF.array());eg.mult(ef,ef);var ea=dD(d9,ec,eh,0);var eb=[((ea>>16)&255)/255,((ea>>8)&255)/255,(ea&255)/255];d6.useProgram(du);dZ("lights.color.3d."+dH,du,"lights"+dH+".color",eb);dZ("lights.position.3d."+dH,du,"lights"+dH+".position",ef.array());dW("lights.type.3d."+dH,du,"lights"+dH+".type",2);dW("lightCount3d",du,"lightCount",++dH)};bN.prototype.noLights=dn.prototype.a3DOnlyFunction;bx.prototype.noLights=function(){dH=0;d6.useProgram(du);dW("lightCount3d",du,"lightCount",dH)};bN.prototype.spotLight=dn.prototype.a3DOnlyFunction;bx.prototype.spotLight=function(d9,eh,em,en,el,ej,ei,eg,ee,ed,ef){if(dH===8){throw"can only create "+8+" lights"}d6.useProgram(du);var ek=new d2(en,el,ej);var eo=new aL;eo.scale(1,-1,1);eo.apply(dF.array());eo.mult(ek,ek);eo=eo.array();var eb=[eo[0]*ei+eo[4]*eg+eo[8]*ee,eo[1]*ei+eo[5]*eg+eo[9]*ee,eo[2]*ei+eo[6]*eg+eo[10]*ee];var ea=dD(d9,eh,em,0);var ec=[((ea>>16)&255)/255,((ea>>8)&255)/255,(ea&255)/255];dZ("lights.color.3d."+dH,du,"lights"+dH+".color",ec);dZ("lights.position.3d."+dH,du,"lights"+dH+".position",ek.array());dZ("lights.direction.3d."+dH,du,"lights"+dH+".direction",eb);dZ("lights.concentration.3d."+dH,du,"lights"+dH+".concentration",ef);dZ("lights.angle.3d."+dH,du,"lights"+dH+".angle",ed);dW("lights.type.3d."+dH,du,"lights"+dH+".type",3);dW("lightCount3d",du,"lightCount",++dH)};bN.prototype.beginCamera=function(){throw"beginCamera() is not available in 2D mode"};bx.prototype.beginCamera=function(){if(an){throw"You cannot call beginCamera() again before calling endCamera()"}an=true;dF=cf;aP=bS};bN.prototype.endCamera=function(){throw"endCamera() is not available in 2D mode"};bx.prototype.endCamera=function(){if(!an){throw"You cannot call endCamera() before calling beginCamera()"}dF.set(bS);aP.set(cf);an=false};cU.camera=function(ek,ej,eh,ef,ed,ec,es,eq,eo){if(ek===r){di=cU.width/2;dg=cU.height/2;df=dg/cU.tan(cI/2);ek=di;ej=dg;eh=df;ef=di;ed=dg;ec=0;es=0;eq=1;eo=0}var ee=new d2(ek-ef,ej-ed,eh-ec);var eg=new d2(es,eq,eo);ee.normalize();var ei=d2.cross(eg,ee);eg=d2.cross(ee,ei);ei.normalize();eg.normalize();var et=ei.x,er=ei.y,ep=ei.z;var eb=eg.x,ea=eg.y,d9=eg.z;var en=ee.x,em=ee.y,el=ee.z;bS.set(et,er,ep,0,eb,ea,d9,0,en,em,el,0,0,0,0,1);bS.translate(-ek,-ej,-eh);cf.reset();cf.invApply(et,er,ep,0,eb,ea,d9,0,en,em,el,0,0,0,0,1);cf.translate(ek,ej,eh);dF.set(bS);aP.set(cf)};cU.perspective=function(ed,eb,ee,ea){if(arguments.length===0){dg=ab.height/2;df=dg/cU.tan(cI/2);aV=df/10;at=df*10;b3=cU.width/cU.height;ed=cI;eb=b3;ee=aV;ea=at}var ef,d9,eg,ec;ef=ee*cU.tan(ed/2);d9=-ef;eg=ef*eb;ec=d9*eb;cU.frustum(ec,eg,d9,ef,ee,ea)};bN.prototype.frustum=function(){throw"Processing.js: frustum() is not supported in 2D mode"};bx.prototype.frustum=function(ef,eb,ea,ee,ed,d9){cg=true;c9=new aL;c9.set(2*ed/(eb-ef),0,(eb+ef)/(eb-ef),0,0,2*ed/(ee-ea),(ee+ea)/(ee-ea),0,0,0,-(d9+ed)/(d9-ed),-(2*d9*ed)/(d9-ed),0,0,-1,0);var ec=new aL;ec.set(c9);ec.transpose();d6.useProgram(dM);a4("projection2d",dM,"projection",false,ec.array());d6.useProgram(du);a4("projection3d",du,"projection",false,ec.array());d6.useProgram(bP);a4("uProjectionUS",bP,"uProjection",false,ec.array())};cU.ortho=function(ea,el,d9,ej,eg,ef){if(arguments.length===0){ea=0;el=cU.width;d9=0;ej=cU.height;eg=-10;ef=10}var ek=2/(el-ea);var ei=2/(ej-d9);var eh=-2/(ef-eg);var ee=-(el+ea)/(el-ea);var ed=-(ej+d9)/(ej-d9);var ec=-(ef+eg)/(ef-eg);c9=new aL;c9.set(ek,0,0,ee,0,ei,0,ed,0,0,eh,ec,0,0,0,1);var eb=new aL;eb.set(c9);eb.transpose();d6.useProgram(dM);a4("projection2d",dM,"projection",false,eb.array());d6.useProgram(du);a4("projection3d",du,"projection",false,eb.array());d6.useProgram(bP);a4("uProjectionUS",bP,"uProjection",false,eb.array());cg=false};cU.printProjection=function(){c9.print()};cU.printCamera=function(){bS.print()};bN.prototype.box=dn.prototype.a3DOnlyFunction;bx.prototype.box=function(eb,ee,eg){if(!ee||!eg){ee=eg=eb}var ed=new aL;ed.scale(eb,ee,eg);var ea=new aL;ea.scale(1,-1,1);ea.apply(dF.array());ea.transpose();if(aE){d6.useProgram(du);a4("model3d",du,"model",false,ed.array());a4("view3d",du,"view",false,ea.array());d6.enable(d6.POLYGON_OFFSET_FILL);d6.polygonOffset(1,1);dZ("color3d",du,"color",bk);if(dH>0){var ec=new aL;ec.set(ea);var d9=new aL;d9.set(ed);ec.mult(d9);var ef=new aL;ef.set(ec);ef.invert();ef.transpose();a4("normalTransform3d",du,"normalTransform",false,ef.array());da("normal3d",du,"Normal",3,cH)}else{ce("normal3d",du,"Normal")}da("vertex3d",du,"Vertex",3,bc);ce("aColor3d",du,"aColor");ce("aTexture3d",du,"aTexture");d6.drawArrays(d6.TRIANGLES,0,de.length/3);d6.disable(d6.POLYGON_OFFSET_FILL)}if(dT>0&&cc){d6.useProgram(dM);a4("model2d",dM,"model",false,ed.array());a4("view2d",dM,"view",false,ea.array());dZ("color2d",dM,"color",cY);dW("picktype2d",dM,"picktype",0);da("vertex2d",dM,"Vertex",3,dh);ce("aTextureCoord2d",dM,"aTextureCoord");d6.drawArrays(d6.LINES,0,bD.length/3)}};var cB=function(){var ea;cD=[];for(ea=0;ea<bJ;ea++){cD.push(0);cD.push(-1);cD.push(0);cD.push(bp[ea]);cD.push(bo[ea]);cD.push(bn[ea])}cD.push(0);cD.push(-1);cD.push(0);cD.push(bp[0]);cD.push(bo[0]);cD.push(bn[0]);var ee,eb,ed;var ec=0;for(ea=2;ea<bI;ea++){ee=eb=ec;ec+=bJ;ed=ec;for(var d9=0;d9<bJ;d9++){cD.push(bp[ee]);cD.push(bo[ee]);cD.push(bn[ee++]);cD.push(bp[ed]);cD.push(bo[ed]);cD.push(bn[ed++])}ee=eb;ed=ec;cD.push(bp[ee]);cD.push(bo[ee]);cD.push(bn[ee]);cD.push(bp[ed]);cD.push(bo[ed]);cD.push(bn[ed])}for(ea=0;ea<bJ;ea++){ed=ec+ea;cD.push(bp[ed]);cD.push(bo[ed]);cD.push(bn[ed]);cD.push(0);cD.push(1);cD.push(0)}cD.push(bp[ec]);cD.push(bo[ec]);cD.push(bn[ec]);cD.push(0);cD.push(1);cD.push(0);d6.bindBuffer(d6.ARRAY_BUFFER,bb);d6.bufferData(d6.ARRAY_BUFFER,new e(cD),d6.STATIC_DRAW)};cU.sphereDetail=function(ea,el){var eg;if(arguments.length===1){ea=el=arguments[0]}if(ea<3){ea=3}if(el<2){el=2}if(ea===bJ&&el===bI){return}var ek=720/ea;var ee=new e(ea);var eb=new e(ea);for(eg=0;eg<ea;eg++){ee[eg]=bi[eg*ek%720|0];eb[eg]=af[eg*ek%720|0]}var ej=ea*(el-1)+2;var ei=0;bp=new e(ej);bo=new e(ej);bn=new e(ej);var eh=720*0.5/el;var ed=eh;for(eg=1;eg<el;eg++){var ec=af[ed%720|0];var d9=-bi[ed%720|0];for(var ef=0;ef<ea;ef++){bp[ei]=ee[ef]*ec;bo[ei]=d9;bn[ei++]=eb[ef]*ec}ed+=eh}bJ=ea;bI=el;cB()};bN.prototype.sphere=dn.prototype.a3DOnlyFunction;bx.prototype.sphere=function(){var ed=arguments[0];if(bJ<3||bI<2){cU.sphereDetail(30)}var ec=new aL;ec.scale(ed,ed,ed);var ea=new aL;ea.scale(1,-1,1);ea.apply(dF.array());ea.transpose();if(aE){if(dH>0){var eb=new aL;eb.set(ea);var d9=new aL;d9.set(ec);eb.mult(d9);var ee=new aL;ee.set(eb);ee.invert();ee.transpose();a4("normalTransform3d",du,"normalTransform",false,ee.array());da("normal3d",du,"Normal",3,bb)}else{ce("normal3d",du,"Normal")}d6.useProgram(du);ce("aTexture3d",du,"aTexture");a4("model3d",du,"model",false,ec.array());a4("view3d",du,"view",false,ea.array());da("vertex3d",du,"Vertex",3,bb);ce("aColor3d",du,"aColor");d6.enable(d6.POLYGON_OFFSET_FILL);d6.polygonOffset(1,1);dZ("color3d",du,"color",bk);d6.drawArrays(d6.TRIANGLE_STRIP,0,cD.length/3);d6.disable(d6.POLYGON_OFFSET_FILL)}if(dT>0&&cc){d6.useProgram(dM);a4("model2d",dM,"model",false,ec.array());a4("view2d",dM,"view",false,ea.array());da("vertex2d",dM,"Vertex",3,bb);ce("aTextureCoord2d",dM,"aTextureCoord");dZ("color2d",dM,"color",cY);dW("picktype2d",dM,"picktype",0);d6.drawArrays(d6.LINE_STRIP,0,cD.length/3)}};cU.modelX=function(ef,ee,ed){var eh=dF.array();var ej=cf.array();var d9=eh[0]*ef+eh[1]*ee+eh[2]*ed+eh[3];var ei=eh[4]*ef+eh[5]*ee+eh[6]*ed+eh[7];var eg=eh[8]*ef+eh[9]*ee+eh[10]*ed+eh[11];var ea=eh[12]*ef+eh[13]*ee+eh[14]*ed+eh[15];var eb=ej[0]*d9+ej[1]*ei+ej[2]*eg+ej[3]*ea;var ec=ej[12]*d9+ej[13]*ei+ej[14]*eg+ej[15]*ea;return ec!==0?eb/ec:eb};cU.modelY=function(ef,ee,ed){var eh=dF.array();var ej=cf.array();var d9=eh[0]*ef+eh[1]*ee+eh[2]*ed+eh[3];var ei=eh[4]*ef+eh[5]*ee+eh[6]*ed+eh[7];var eg=eh[8]*ef+eh[9]*ee+eh[10]*ed+eh[11];var ea=eh[12]*ef+eh[13]*ee+eh[14]*ed+eh[15];var eb=ej[4]*d9+ej[5]*ei+ej[6]*eg+ej[7]*ea;var ec=ej[12]*d9+ej[13]*ei+ej[14]*eg+ej[15]*ea;return ec!==0?eb/ec:eb};cU.modelZ=function(ef,ee,ed){var eh=dF.array();var ej=cf.array();var d9=eh[0]*ef+eh[1]*ee+eh[2]*ed+eh[3];var ei=eh[4]*ef+eh[5]*ee+eh[6]*ed+eh[7];var eg=eh[8]*ef+eh[9]*ee+eh[10]*ed+eh[11];var eb=eh[12]*ef+eh[13]*ee+eh[14]*ed+eh[15];var ea=ej[8]*d9+ej[9]*ei+ej[10]*eg+ej[11]*eb;var ec=ej[12]*d9+ej[13]*ei+ej[14]*eg+ej[15]*eb;return ec!==0?ea/ec:ea};bN.prototype.ambient=dn.prototype.a3DOnlyFunction;bx.prototype.ambient=function(ec,eb,ea){d6.useProgram(du);dW("usingMat3d",du,"usingMat",true);var d9=cU.color(ec,eb,ea);dZ("mat_ambient3d",du,"mat_ambient",cU.color.toGLArray(d9).slice(0,3))};bN.prototype.emissive=dn.prototype.a3DOnlyFunction;bx.prototype.emissive=function(ec,eb,ea){d6.useProgram(du);dW("usingMat3d",du,"usingMat",true);var d9=cU.color(ec,eb,ea);dZ("mat_emissive3d",du,"mat_emissive",cU.color.toGLArray(d9).slice(0,3))};bN.prototype.shininess=dn.prototype.a3DOnlyFunction;bx.prototype.shininess=function(d9){d6.useProgram(du);dW("usingMat3d",du,"usingMat",true);dZ("shininess3d",du,"shininess",d9)};bN.prototype.specular=dn.prototype.a3DOnlyFunction;bx.prototype.specular=function(ec,eb,ea){d6.useProgram(du);dW("usingMat3d",du,"usingMat",true);var d9=cU.color(ec,eb,ea);dZ("mat_specular3d",du,"mat_specular",cU.color.toGLArray(d9).slice(0,3))};cU.screenX=function(eg,ef,ee){var ei=dF.array();if(ei.length===16){var d9=ei[0]*eg+ei[1]*ef+ei[2]*ee+ei[3];var ej=ei[4]*eg+ei[5]*ef+ei[6]*ee+ei[7];var eh=ei[8]*eg+ei[9]*ef+ei[10]*ee+ei[11];var ea=ei[12]*eg+ei[13]*ef+ei[14]*ee+ei[15];var ed=c9.array();var eb=ed[0]*d9+ed[1]*ej+ed[2]*eh+ed[3]*ea;var ec=ed[12]*d9+ed[13]*ej+ed[14]*eh+ed[15]*ea;if(ec!==0){eb/=ec}return cU.width*(1+eb)/2}return dF.multX(eg,ef)};cU.screenY=function ay(eg,ef,ee){var ei=dF.array();if(ei.length===16){var d9=ei[0]*eg+ei[1]*ef+ei[2]*ee+ei[3];var ej=ei[4]*eg+ei[5]*ef+ei[6]*ee+ei[7];var eh=ei[8]*eg+ei[9]*ef+ei[10]*ee+ei[11];var ea=ei[12]*eg+ei[13]*ef+ei[14]*ee+ei[15];var ed=c9.array();var eb=ed[4]*d9+ed[5]*ej+ed[6]*eh+ed[7]*ea;var ec=ed[12]*d9+ed[13]*ej+ed[14]*eh+ed[15]*ea;if(ec!==0){eb/=ec}return cU.height*(1+eb)/2}return dF.multY(eg,ef)};cU.screenZ=function aw(eg,ef,ee){var ei=dF.array();if(ei.length!==16){return 0}var ed=c9.array();var d9=ei[0]*eg+ei[1]*ef+ei[2]*ee+ei[3];var ej=ei[4]*eg+ei[5]*ef+ei[6]*ee+ei[7];var eh=ei[8]*eg+ei[9]*ef+ei[10]*ee+ei[11];var eb=ei[12]*eg+ei[13]*ef+ei[14]*ee+ei[15];var ea=ed[8]*d9+ed[9]*ej+ed[10]*eh+ed[11]*eb;var ec=ed[12]*d9+ed[13]*ej+ed[14]*eh+ed[15]*eb;if(ec!==0){ea/=ec}return(ea+1)/2};dn.prototype.fill=function(){var d9=cU.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(d9===aW&&aE){return}aE=true;aW=d9};bN.prototype.fill=function(){dn.prototype.fill.apply(this,arguments);ao=true};bx.prototype.fill=function(){dn.prototype.fill.apply(this,arguments);bk=cU.color.toGLArray(aW)};function bj(){if(aE){if(ao){d6.fillStyle=cU.color.toString(aW);ao=false}d6.fill()}}cU.noFill=function(){aE=false};dn.prototype.stroke=function(){var d9=cU.color(arguments[0],arguments[1],arguments[2],arguments[3]);if(d9===ct&&cc){return}cc=true;ct=d9};bN.prototype.stroke=function(){dn.prototype.stroke.apply(this,arguments);b1=true};bx.prototype.stroke=function(){dn.prototype.stroke.apply(this,arguments);cY=cU.color.toGLArray(ct)};function db(){if(cc){if(b1){d6.strokeStyle=cU.color.toString(ct);b1=false}d6.stroke()}}cU.noStroke=function(){cc=false};dn.prototype.strokeWeight=function(d9){dT=d9};bN.prototype.strokeWeight=function(d9){dn.prototype.strokeWeight.apply(this,arguments);d6.lineWidth=d9};bx.prototype.strokeWeight=function(d9){dn.prototype.strokeWeight.apply(this,arguments);d6.useProgram(dM);dZ("pointSize2d",dM,"pointSize",d9);d6.useProgram(bP);dZ("pointSizeUnlitShape",bP,"pointSize",d9);d6.lineWidth(d9)};cU.strokeCap=function(d9){dV.$ensureContext().lineCap=d9};cU.strokeJoin=function(d9){dV.$ensureContext().lineJoin=d9};bN.prototype.smooth=function(){dK=true;var d9=ab.style;d9.setProperty("image-rendering","optimizeQuality","important");d9.setProperty("-ms-interpolation-mode","bicubic","important");if(d6.hasOwnProperty("mozImageSmoothingEnabled")){d6.mozImageSmoothingEnabled=true}};bx.prototype.smooth=D;bN.prototype.noSmooth=function(){dK=false;var d9=ab.style;d9.setProperty("image-rendering","optimizeSpeed","important");d9.setProperty("image-rendering","-moz-crisp-edges","important");d9.setProperty("image-rendering","-webkit-optimize-contrast","important");d9.setProperty("image-rendering","optimize-contrast","important");d9.setProperty("-ms-interpolation-mode","nearest-neighbor","important");if(d6.hasOwnProperty("mozImageSmoothingEnabled")){d6.mozImageSmoothingEnabled=false}};bx.prototype.noSmooth=D;bN.prototype.point=function(d9,ea){if(!cc){return}if(!dK){d9=o.round(d9);ea=o.round(ea)}d6.fillStyle=cU.color.toString(ct);ao=true;if(dT>1){d6.beginPath();d6.arc(d9,ea,dT/2,0,6.283185307179586,false);d6.fill()}else{d6.fillRect(d9,ea,1,1)}};bx.prototype.point=function(d9,ed,ec){var eb=new aL;eb.translate(d9,ed,ec||0);eb.transpose();var ea=new aL;ea.scale(1,-1,1);ea.apply(dF.array());ea.transpose();d6.useProgram(dM);a4("model2d",dM,"model",false,eb.array());a4("view2d",dM,"view",false,ea.array());if(dT>0&&cc){dZ("color2d",dM,"color",cY);dW("picktype2d",dM,"picktype",0);da("vertex2d",dM,"Vertex",3,au);ce("aTextureCoord2d",dM,"aTextureCoord");d6.drawArrays(d6.POINTS,0,1)}};cU.beginShape=function(d9){dO=d9;d4=[];a6=[]};bN.prototype.vertex=function(d9,ed,ec,eb){var ea=[];if(dr){dr=false}ea.isVert=true;ea[0]=d9;ea[1]=ed;ea[2]=0;ea[3]=ec;ea[4]=eb;ea[5]=aW;ea[6]=ct;a6.push(ea)};bx.prototype.vertex=function(d9,ee,ed,ec,eb){var ea=[];if(dr){dr=false}ea.isVert=true;if(eb===r&&dQ){eb=ec;ec=ed;ed=0}if(ec!==r&&eb!==r){if(d1===2){ec/=cq.width;eb/=cq.height}ec=ec>1?1:ec;ec=ec<0?0:ec;eb=eb>1?1:eb;eb=eb<0?0:eb}ea[0]=d9;ea[1]=ee;ea[2]=ed||0;ea[3]=ec||0;ea[4]=eb||0;ea[5]=bk[0];ea[6]=bk[1];ea[7]=bk[2];ea[8]=bk[3];ea[9]=cY[0];ea[10]=cY[1];ea[11]=cY[2];ea[12]=cY[3];ea[13]=a3;ea[14]=a2;ea[15]=a1;a6.push(ea)};var dY=function(eb,ea){var d9=new aL;d9.scale(1,-1,1);d9.apply(dF.array());d9.transpose();d6.useProgram(bP);a4("uViewUS",bP,"uView",false,d9.array());da("aVertexUS",bP,"aVertex",3,au);d6.bufferData(d6.ARRAY_BUFFER,new e(eb),d6.STREAM_DRAW);da("aColorUS",bP,"aColor",4,aD);d6.bufferData(d6.ARRAY_BUFFER,new e(ea),d6.STREAM_DRAW);d6.drawArrays(d6.POINTS,0,eb.length/3)};var bf=function(ed,ec,eb){var ea;if(ec==="LINES"){ea=d6.LINES}else{if(ec==="LINE_LOOP"){ea=d6.LINE_LOOP}else{ea=d6.LINE_STRIP}}var d9=new aL;d9.scale(1,-1,1);d9.apply(dF.array());d9.transpose();d6.useProgram(bP);a4("uViewUS",bP,"uView",false,d9.array());da("aVertexUS",bP,"aVertex",3,b6);d6.bufferData(d6.ARRAY_BUFFER,new e(ed),d6.STREAM_DRAW);da("aColorUS",bP,"aColor",4,by);d6.bufferData(d6.ARRAY_BUFFER,new e(eb),d6.STREAM_DRAW);d6.drawArrays(ea,0,ed.length/3)};var dj=function(ee,ed,ec,eb){var ea;if(ed==="TRIANGLES"){ea=d6.TRIANGLES}else{if(ed==="TRIANGLE_FAN"){ea=d6.TRIANGLE_FAN}else{ea=d6.TRIANGLE_STRIP}}var d9=new aL;d9.scale(1,-1,1);d9.apply(dF.array());d9.transpose();d6.useProgram(du);a4("model3d",du,"model",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a4("view3d",du,"view",false,d9.array());d6.enable(d6.POLYGON_OFFSET_FILL);d6.polygonOffset(1,1);dZ("color3d",du,"color",[-1,0,0,0]);da("vertex3d",du,"Vertex",3,aq);d6.bufferData(d6.ARRAY_BUFFER,new e(ee),d6.STREAM_DRAW);if(dQ&&ba!==null){bs(ec)}da("aColor3d",du,"aColor",4,aD);d6.bufferData(d6.ARRAY_BUFFER,new e(ec),d6.STREAM_DRAW);ce("normal3d",du,"Normal");if(dQ){dW("usingTexture3d",du,"usingTexture",dQ);da("aTexture3d",du,"aTexture",2,ad);d6.bufferData(d6.ARRAY_BUFFER,new e(eb),d6.STREAM_DRAW)}d6.drawArrays(ea,0,ee.length/3);d6.disable(d6.POLYGON_OFFSET_FILL)};function cQ(){bj();db();d6.closePath()}bN.prototype.endShape=function(eg){if(a6.length===0){return}var ec=eg===2;if(ec){a6.push(a6[0])}var eb=[];var d9=[];var ei=[];var el=[];var ee=[];var eh;dr=true;var ef,ed,ea;var ek=a6.length;for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){d9.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=5;ed<9;ed++){ei.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];ee.push(eh[3]);ee.push(eh[4])}if(dL&&(dO===20||dO===r)){if(ek>3){var ej=[],em=1-aG;d6.beginPath();d6.moveTo(a6[1][0],a6[1][1]);for(ef=1;ef+2<ek;ef++){eh=a6[ef];ej[0]=[eh[0],eh[1]];ej[1]=[eh[0]+(em*a6[ef+1][0]-em*a6[ef-1][0])/6,eh[1]+(em*a6[ef+1][1]-em*a6[ef-1][1])/6];ej[2]=[a6[ef+1][0]+(em*a6[ef][0]-em*a6[ef+2][0])/6,a6[ef+1][1]+(em*a6[ef][1]-em*a6[ef+2][1])/6];ej[3]=[a6[ef+1][0],a6[ef+1][1]];d6.bezierCurveTo(ej[1][0],ej[1][1],ej[2][0],ej[2][1],ej[3][0],ej[3][1])}cQ()}}else{if(X&&(dO===20||dO===r)){d6.beginPath();for(ef=0;ef<ek;ef++){eh=a6[ef];if(a6[ef]["isVert"]){if(a6[ef]["moveTo"]){d6.moveTo(eh[0],eh[1])}else{d6.lineTo(eh[0],eh[1])}}else{d6.bezierCurveTo(a6[ef][0],a6[ef][1],a6[ef][2],a6[ef][3],a6[ef][4],a6[ef][5])}}cQ()}else{if(dO===2){for(ef=0;ef<ek;ef++){eh=a6[ef];if(cc){cU.stroke(eh[6])}cU.point(eh[0],eh[1])}}else{if(dO===4){for(ef=0;ef+1<ek;ef+=2){eh=a6[ef];if(cc){cU.stroke(a6[ef+1][6])}cU.line(eh[0],eh[1],a6[ef+1][0],a6[ef+1][1])}}else{if(dO===9){for(ef=0;ef+2<ek;ef+=3){eh=a6[ef];d6.beginPath();d6.moveTo(eh[0],eh[1]);d6.lineTo(a6[ef+1][0],a6[ef+1][1]);d6.lineTo(a6[ef+2][0],a6[ef+2][1]);d6.lineTo(eh[0],eh[1]);if(aE){cU.fill(a6[ef+2][5]);bj()}if(cc){cU.stroke(a6[ef+2][6]);db()}d6.closePath()}}else{if(dO===10){for(ef=0;ef+1<ek;ef++){eh=a6[ef];d6.beginPath();d6.moveTo(a6[ef+1][0],a6[ef+1][1]);d6.lineTo(eh[0],eh[1]);if(cc){cU.stroke(a6[ef+1][6])}if(aE){cU.fill(a6[ef+1][5])}if(ef+2<ek){d6.lineTo(a6[ef+2][0],a6[ef+2][1]);if(cc){cU.stroke(a6[ef+2][6])}if(aE){cU.fill(a6[ef+2][5])}}cQ()}}else{if(dO===11){if(ek>2){d6.beginPath();d6.moveTo(a6[0][0],a6[0][1]);d6.lineTo(a6[1][0],a6[1][1]);d6.lineTo(a6[2][0],a6[2][1]);if(aE){cU.fill(a6[2][5]);bj()}if(cc){cU.stroke(a6[2][6]);db()}d6.closePath();for(ef=3;ef<ek;ef++){eh=a6[ef];d6.beginPath();d6.moveTo(a6[0][0],a6[0][1]);d6.lineTo(a6[ef-1][0],a6[ef-1][1]);d6.lineTo(eh[0],eh[1]);if(aE){cU.fill(eh[5]);bj()}if(cc){cU.stroke(eh[6]);db()}d6.closePath()}}}else{if(dO===16){for(ef=0;ef+3<ek;ef+=4){eh=a6[ef];d6.beginPath();d6.moveTo(eh[0],eh[1]);for(ed=1;ed<4;ed++){d6.lineTo(a6[ef+ed][0],a6[ef+ed][1])}d6.lineTo(eh[0],eh[1]);if(aE){cU.fill(a6[ef+3][5]);bj()}if(cc){cU.stroke(a6[ef+3][6]);db()}d6.closePath()}}else{if(dO===17){if(ek>3){for(ef=0;ef+1<ek;ef+=2){eh=a6[ef];d6.beginPath();if(ef+3<ek){d6.moveTo(a6[ef+2][0],a6[ef+2][1]);d6.lineTo(eh[0],eh[1]);d6.lineTo(a6[ef+1][0],a6[ef+1][1]);d6.lineTo(a6[ef+3][0],a6[ef+3][1]);if(aE){cU.fill(a6[ef+3][5])}if(cc){cU.stroke(a6[ef+3][6])}}else{d6.moveTo(eh[0],eh[1]);d6.lineTo(a6[ef+1][0],a6[ef+1][1])}cQ()}}}else{d6.beginPath();d6.moveTo(a6[0][0],a6[0][1]);for(ef=1;ef<ek;ef++){eh=a6[ef];if(eh.isVert){if(eh.moveTo){d6.moveTo(eh[0],eh[1])}else{d6.lineTo(eh[0],eh[1])}}}cQ()}}}}}}}}}dL=false;X=false;b9=[];c0=0;if(ec){a6.pop()}};bx.prototype.endShape=function(eg){if(a6.length===0){return}var ec=eg===2;var eb=[];var d9=[];var ei=[];var el=[];var ee=[];var eh;dr=true;var ef,ed,ea;var ek=a6.length;for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){d9.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=5;ed<9;ed++){ei.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];ee.push(eh[3]);ee.push(eh[4])}if(ec){d9.push(a6[0][0]);d9.push(a6[0][1]);d9.push(a6[0][2]);for(ef=5;ef<9;ef++){ei.push(a6[0][ef])}for(ef=9;ef<13;ef++){el.push(a6[0][ef])}ee.push(a6[0][3]);ee.push(a6[0][4])}if(dL&&(dO===20||dO===r)){eb=d9;if(cc){bf(eb,null,el)}if(aE){dj(d9,null,ei)}}else{if(X&&(dO===20||dO===r)){eb=d9;eb.splice(eb.length-3);el.splice(el.length-4);if(cc){bf(eb,null,el)}if(aE){dj(d9,"TRIANGLES",ei)}}else{if(dO===2){for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}dY(eb,el)}else{if(dO===4){for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=5;ed<9;ed++){ei.push(eh[ed])}}bf(eb,"LINES",el)}else{if(dO===9){if(ek>2){for(ef=0;ef+2<ek;ef+=3){d9=[];ee=[];eb=[];ei=[];el=[];for(ed=0;ed<3;ed++){for(ea=0;ea<3;ea++){eb.push(a6[ef+ed][ea]);d9.push(a6[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=3;ea<5;ea++){ee.push(a6[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=5;ea<9;ea++){ei.push(a6[ef+ed][ea]);el.push(a6[ef+ed][ea+4])}}if(cc){bf(eb,"LINE_LOOP",el)}if(aE||dQ){dj(d9,"TRIANGLES",ei,ee)}}}}else{if(dO===10){if(ek>2){for(ef=0;ef+2<ek;ef++){eb=[];d9=[];el=[];ei=[];ee=[];for(ed=0;ed<3;ed++){for(ea=0;ea<3;ea++){eb.push(a6[ef+ed][ea]);d9.push(a6[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=3;ea<5;ea++){ee.push(a6[ef+ed][ea])}}for(ed=0;ed<3;ed++){for(ea=5;ea<9;ea++){el.push(a6[ef+ed][ea+4]);ei.push(a6[ef+ed][ea])}}if(aE||dQ){dj(d9,"TRIANGLE_STRIP",ei,ee)}if(cc){bf(eb,"LINE_LOOP",el)}}}}else{if(dO===11){if(ek>2){for(ef=0;ef<3;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}for(ef=0;ef<3;ef++){eh=a6[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}if(cc){bf(eb,"LINE_LOOP",el)}for(ef=2;ef+1<ek;ef++){eb=[];el=[];eb.push(a6[0][0]);eb.push(a6[0][1]);eb.push(a6[0][2]);el.push(a6[0][9]);el.push(a6[0][10]);el.push(a6[0][11]);el.push(a6[0][12]);for(ed=0;ed<2;ed++){for(ea=0;ea<3;ea++){eb.push(a6[ef+ed][ea])}}for(ed=0;ed<2;ed++){for(ea=9;ea<13;ea++){el.push(a6[ef+ed][ea])}}if(cc){bf(eb,"LINE_STRIP",el)}}if(aE||dQ){dj(d9,"TRIANGLE_FAN",ei,ee)}}}else{if(dO===16){for(ef=0;ef+3<ek;ef+=4){eb=[];for(ed=0;ed<4;ed++){eh=a6[ef+ed];for(ea=0;ea<3;ea++){eb.push(eh[ea])}}if(cc){bf(eb,"LINE_LOOP",el)}if(aE){d9=[];ei=[];ee=[];for(ed=0;ed<3;ed++){d9.push(a6[ef][ed])}for(ed=5;ed<9;ed++){ei.push(a6[ef][ed])}for(ed=0;ed<3;ed++){d9.push(a6[ef+1][ed])}for(ed=5;ed<9;ed++){ei.push(a6[ef+1][ed])}for(ed=0;ed<3;ed++){d9.push(a6[ef+3][ed])}for(ed=5;ed<9;ed++){ei.push(a6[ef+3][ed])}for(ed=0;ed<3;ed++){d9.push(a6[ef+2][ed])}for(ed=5;ed<9;ed++){ei.push(a6[ef+2][ed])}if(dQ){ee.push(a6[ef+0][3]);ee.push(a6[ef+0][4]);ee.push(a6[ef+1][3]);ee.push(a6[ef+1][4]);ee.push(a6[ef+3][3]);ee.push(a6[ef+3][4]);ee.push(a6[ef+2][3]);ee.push(a6[ef+2][4])}dj(d9,"TRIANGLE_STRIP",ei,ee)}}}else{if(dO===17){var ej=[];if(ek>3){for(ef=0;ef<2;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}}for(ef=0;ef<2;ef++){eh=a6[ef];for(ed=9;ed<13;ed++){el.push(eh[ed])}}bf(eb,"LINE_STRIP",el);if(ek>4&&ek%2>0){ej=d9.splice(d9.length-3);a6.pop()}for(ef=0;ef+3<ek;ef+=2){eb=[];el=[];for(ed=0;ed<3;ed++){eb.push(a6[ef+1][ed])}for(ed=0;ed<3;ed++){eb.push(a6[ef+3][ed])}for(ed=0;ed<3;ed++){eb.push(a6[ef+2][ed])}for(ed=0;ed<3;ed++){eb.push(a6[ef+0][ed])}for(ed=9;ed<13;ed++){el.push(a6[ef+1][ed])}for(ed=9;ed<13;ed++){el.push(a6[ef+3][ed])}for(ed=9;ed<13;ed++){el.push(a6[ef+2][ed])}for(ed=9;ed<13;ed++){el.push(a6[ef+0][ed])}if(cc){bf(eb,"LINE_STRIP",el)}}if(aE||dQ){dj(d9,"TRIANGLE_LIST",ei,ee)}}}else{if(ek===1){for(ed=0;ed<3;ed++){eb.push(a6[0][ed])}for(ed=9;ed<13;ed++){el.push(a6[0][ed])}dY(eb,el)}else{for(ef=0;ef<ek;ef++){eh=a6[ef];for(ed=0;ed<3;ed++){eb.push(eh[ed])}for(ed=5;ed<9;ed++){el.push(eh[ed])}}if(cc&&ec){bf(eb,"LINE_LOOP",el)}else{if(cc&&!ec){bf(eb,"LINE_STRIP",el)}}if(aE||dQ){dj(d9,"TRIANGLE_FAN",ei,ee)}}}}}}}}}dQ=false;d6.useProgram(du);dW("usingTexture3d",du,"usingTexture",dQ)}}dL=false;X=false;b9=[];c0=0};var aT=function(ec,eb){var ed=1/ec;var ea=ed*ed;var d9=ea*ed;eb.set(0,0,0,1,d9,ea,ed,0,6*d9,2*ea,0,0,6*d9,0,0,0)};var dm=function(){if(!aI){c1=new aL;aI=new aL;cK=true}var d9=aG;c1.set((d9-1)/2,(d9+3)/2,(-3-d9)/2,(1-d9)/2,1-d9,(-5-d9)/2,d9+2,(d9-1)/2,(d9-1)/2,0,(1-d9)/2,0,0,1,0,0);aT(N,aI);if(!cb){aM=new aL}aM.set(c1);aM.preApply(cb);aI.apply(c1)};bN.prototype.bezierVertex=function(){X=true;var d9=[];if(dr){throw"vertex() must be used at least once before calling bezierVertex()"}for(var ea=0;ea<arguments.length;ea++){d9[ea]=arguments[ea]}a6.push(d9);a6[a6.length-1]["isVert"]=false};bx.prototype.bezierVertex=function(){X=true;var eg=[];if(dr){throw"vertex() must be used at least once before calling bezierVertex()"}if(arguments.length===9){if(bv===r){bv=new aL}var el=a6.length-1;aT(cw,bv);bv.apply(R);var en=bv.array();var ec=a6[el][0],em=a6[el][1],ef=a6[el][2];var ei=en[4]*ec+en[5]*arguments[0]+en[6]*arguments[3]+en[7]*arguments[6];var eh=en[8]*ec+en[9]*arguments[0]+en[10]*arguments[3]+en[11]*arguments[6];var ee=en[12]*ec+en[13]*arguments[0]+en[14]*arguments[3]+en[15]*arguments[6];var eo=en[4]*em+en[5]*arguments[1]+en[6]*arguments[4]+en[7]*arguments[7];var ek=en[8]*em+en[9]*arguments[1]+en[10]*arguments[4]+en[11]*arguments[7];var ej=en[12]*em+en[13]*arguments[1]+en[14]*arguments[4]+en[15]*arguments[7];var eb=en[4]*ef+en[5]*arguments[2]+en[6]*arguments[5]+en[7]*arguments[8];var ea=en[8]*ef+en[9]*arguments[2]+en[10]*arguments[5]+en[11]*arguments[8];var d9=en[12]*ef+en[13]*arguments[2]+en[14]*arguments[5]+en[15]*arguments[8];for(var ed=0;ed<cw;ed++){ec+=ei;ei+=eh;eh+=ee;em+=eo;eo+=ek;ek+=ej;ef+=eb;eb+=ea;ea+=d9;cU.vertex(ec,em,ef)}cU.vertex(arguments[6],arguments[7],arguments[8])}};cU.texture=function(ec){var ea=dV.$ensureContext();if(ec.__texture){ea.bindTexture(ea.TEXTURE_2D,ec.__texture)}else{if(ec.localName==="canvas"){ea.bindTexture(ea.TEXTURE_2D,c5);ea.texImage2D(ea.TEXTURE_2D,0,ea.RGBA,ea.RGBA,ea.UNSIGNED_BYTE,ec);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MAG_FILTER,ea.LINEAR);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MIN_FILTER,ea.LINEAR);ea.generateMipmap(ea.TEXTURE_2D);cq.width=ec.width;cq.height=ec.height}else{var eb=ea.createTexture(),ee=d.createElement("canvas"),d9=ee.getContext("2d"),ed;if(ec.width&ec.width-1===0){ee.width=ec.width}else{ed=1;while(ed<ec.width){ed*=2}ee.width=ed}if(ec.height&ec.height-1===0){ee.height=ec.height}else{ed=1;while(ed<ec.height){ed*=2}ee.height=ed}d9.drawImage(ec.sourceImg,0,0,ec.width,ec.height,0,0,ee.width,ee.height);ea.bindTexture(ea.TEXTURE_2D,eb);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MIN_FILTER,ea.LINEAR_MIPMAP_LINEAR);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_MAG_FILTER,ea.LINEAR);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_WRAP_T,ea.CLAMP_TO_EDGE);ea.texParameteri(ea.TEXTURE_2D,ea.TEXTURE_WRAP_S,ea.CLAMP_TO_EDGE);ea.texImage2D(ea.TEXTURE_2D,0,ea.RGBA,ea.RGBA,ea.UNSIGNED_BYTE,ee);ea.generateMipmap(ea.TEXTURE_2D);ec.__texture=eb;cq.width=ec.width;cq.height=ec.height}}dQ=true;ea.useProgram(du);dW("usingTexture3d",du,"usingTexture",dQ)};cU.textureMode=function(d9){d1=d9};var ap=function(eu,ef,el,es,ee,ek,eq,ed,ej,eo,ec,eh){var ev=es;var eg=ee;var em=ek;var ei=aI.array();var et=ei[4]*eu+ei[5]*es+ei[6]*eq+ei[7]*eo;var er=ei[8]*eu+ei[9]*es+ei[10]*eq+ei[11]*eo;var ep=ei[12]*eu+ei[13]*es+ei[14]*eq+ei[15]*eo;var ey=ei[4]*ef+ei[5]*ee+ei[6]*ed+ei[7]*ec;var ex=ei[8]*ef+ei[9]*ee+ei[10]*ed+ei[11]*ec;var ew=ei[12]*ef+ei[13]*ee+ei[14]*ed+ei[15]*ec;var eb=ei[4]*el+ei[5]*ek+ei[6]*ej+ei[7]*eh;var ea=ei[8]*el+ei[9]*ek+ei[10]*ej+ei[11]*eh;var d9=ei[12]*el+ei[13]*ek+ei[14]*ej+ei[15]*eh;cU.vertex(ev,eg,em);for(var en=0;en<N;en++){ev+=et;et+=er;er+=ep;eg+=ey;ey+=ex;ex+=ew;em+=eb;eb+=ea;ea+=d9;cU.vertex(ev,eg,em)}};bN.prototype.curveVertex=function(d9,ea){dL=true;cU.vertex(d9,ea)};bx.prototype.curveVertex=function(d9,ec,eb){dL=true;if(!cK){dm()}var ea=[];ea[0]=d9;ea[1]=ec;ea[2]=eb;b9.push(ea);c0++;if(c0>3){ap(b9[c0-4][0],b9[c0-4][1],b9[c0-4][2],b9[c0-3][0],b9[c0-3][1],b9[c0-3][2],b9[c0-2][0],b9[c0-2][1],b9[c0-2][2],b9[c0-1][0],b9[c0-1][1],b9[c0-1][2])}};bN.prototype.curve=function(){if(arguments.length===8){cU.beginShape();cU.curveVertex(arguments[0],arguments[1]);cU.curveVertex(arguments[2],arguments[3]);cU.curveVertex(arguments[4],arguments[5]);cU.curveVertex(arguments[6],arguments[7]);cU.endShape()}};bx.prototype.curve=function(){if(arguments.length===12){cU.beginShape();cU.curveVertex(arguments[0],arguments[1],arguments[2]);cU.curveVertex(arguments[3],arguments[4],arguments[5]);cU.curveVertex(arguments[6],arguments[7],arguments[8]);cU.curveVertex(arguments[9],arguments[10],arguments[11]);cU.endShape()}};cU.curveTightness=function(d9){aG=d9};cU.curveDetail=function(d9){N=d9;dm()};cU.rectMode=function(d9){bH=d9};cU.imageMode=function(d9){switch(d9){case 0:bg=aU;break;case 1:bg=bZ;break;case 3:bg=aK;break;default:throw"Invalid imageMode"}};cU.ellipseMode=function(d9){cL=d9};cU.arc=function(el,ej,ec,en,eb,ek){if(ec<=0||ek<eb){return}eb=cU.convertToRadians(eb);ek=cU.convertToRadians(ek);if(cL===1){ec=ec-el;en=en-ej}else{if(cL===2){el=el-ec;ej=ej-en;ec=ec*2;en=en*2}else{if(cL===3){el=el-ec/2;ej=ej-en/2}}}while(eb<0){eb+=6.283185307179586;ek+=6.283185307179586}if(ek-eb>6.283185307179586){eb=0;ek=6.283185307179586}var em=ec/2;var eo=en/2;var eg=el+em;var ee=ej+eo;var ea=0|-0.5+eb*cU.RAD_TO_DEG;var ei=0|0.5+ek*cU.RAD_TO_DEG;var eh,ef;if(aE){var ed=cc;cc=false;cU.beginShape();cU.vertex(eg,ee);for(eh=ea;eh<=ei;eh++){ef=eh%720;cU.vertex(eg+bi[ef]*em,ee+af[ef]*eo)}cU.endShape(2);cc=ed}if(cc){var d9=aE;aE=false;cU.beginShape();for(eh=ea;eh<=ei;eh++){ef=eh%720;cU.vertex(eg+bi[ef]*em,ee+af[ef]*eo)}cU.endShape();aE=d9}};bN.prototype.line=function(ea,eh,d9,ef){if(!cc){return}if(!dK){ea=o.round(ea);d9=o.round(d9);eh=o.round(eh);ef=o.round(ef)}if(ea===d9&&eh===ef){cU.point(ea,eh);return}var eb=r,ei=r,ee=true,eg=dF.array(),ec=[1,0,0,0,1,0];for(var ed=0;ed<6&&ee;ed++){ee=eg[ed]===ec[ed]}if(ee){if(ea===d9){if(eh>ef){eb=eh;eh=ef;ef=eb}ef++;if(dT%2===1){d6.translate(0.5,0)}}else{if(eh===ef){if(ea>d9){eb=ea;ea=d9;d9=eb}d9++;if(dT%2===1){d6.translate(0,0.5)}}}if(dT===1){ei=d6.lineCap;d6.lineCap="butt"}}d6.beginPath();d6.moveTo(ea||0,eh||0);d6.lineTo(d9||0,ef||0);db();if(ee){if(ea===d9&&dT%2===1){d6.translate(-0.5,0)}else{if(eh===ef&&dT%2===1){d6.translate(0,-0.5)}}if(dT===1){d6.lineCap=ei}}};bx.prototype.line=function(eb,ee,eg,ea,ec,ef){if(ec===r||ef===r){ef=0;ec=ea;ea=eg;eg=0}if(eb===ea&&ee===ec&&eg===ef){cU.point(eb,ee,eg);return}var ed=[eb,ee,eg,ea,ec,ef];var d9=new aL;d9.scale(1,-1,1);d9.apply(dF.array());d9.transpose();if(dT>0&&cc){d6.useProgram(dM);a4("model2d",dM,"model",false,[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]);a4("view2d",dM,"view",false,d9.array());dZ("color2d",dM,"color",cY);dW("picktype2d",dM,"picktype",0);da("vertex2d",dM,"Vertex",3,b6);ce("aTextureCoord2d",dM,"aTextureCoord");d6.bufferData(d6.ARRAY_BUFFER,new e(ed),d6.STREAM_DRAW);d6.drawArrays(d6.LINES,0,2)}};bN.prototype.bezier=function(){if(arguments.length!==8){throw"You must use 8 parameters for bezier() in 2D mode"}cU.beginShape();cU.vertex(arguments[0],arguments[1]);cU.bezierVertex(arguments[2],arguments[3],arguments[4],arguments[5],arguments[6],arguments[7]);cU.endShape()};bx.prototype.bezier=function(){if(arguments.length!==12){throw"You must use 12 parameters for bezier() in 3D mode"}cU.beginShape();cU.vertex(arguments[0],arguments[1],arguments[2]);cU.bezierVertex(arguments[3],arguments[4],arguments[5],arguments[6],arguments[7],arguments[8],arguments[9],arguments[10],arguments[11]);cU.endShape()};cU.bezierDetail=function(d9){cw=d9};cU.bezierPoint=function(ea,d9,ed,ec,eb){return(1-eb)*(1-eb)*(1-eb)*ea+3*(1-eb)*(1-eb)*eb*d9+3*(1-eb)*eb*eb*ed+eb*eb*eb*ec};cU.bezierTangent=function(ea,d9,ed,ec,eb){return 3*eb*eb*(-ea+3*d9-3*ed+ec)+6*eb*(ea-2*d9+ed)+3*(-ea+d9)};cU.curvePoint=function(ea,d9,ed,ec,eb){return 0.5*(2*d9+(-ea+ed)*eb+(2*ea-5*d9+4*ed-ec)*eb*eb+(-ea+3*d9-3*ed+ec)*eb*eb*eb)};cU.curveTangent=function(ea,d9,ed,ec,eb){return 0.5*(-ea+ed+2*(2*ea-5*d9+4*ed-ec)*eb+3*(-ea+3*d9-3*ed+ec)*eb*eb)};cU.triangle=function(ec,ee,ea,ed,d9,eb){cU.beginShape(9);cU.vertex(ec,ee,0);cU.vertex(ea,ed,0);cU.vertex(d9,eb,0);cU.endShape()};cU.quad=function(ee,eg,ec,ef,ea,ed,d9,eb){cU.beginShape(16);cU.vertex(ee,eg,0);cU.vertex(ec,ef,0);cU.vertex(ea,ed,0);cU.vertex(d9,eb,0);cU.endShape()};var bK=function(ef,ee,d9,eg,ei,ed,eh,ea){if(ea===r){ed=ei;eh=ei;ea=ei}var eb=d9/2,ec=eg/2;if(ei>eb||ei>ec){ei=o.min(eb,ec)}if(ed>eb||ed>ec){ed=o.min(eb,ec)}if(eh>eb||eh>ec){eh=o.min(eb,ec)}if(ea>eb||ea>ec){ea=o.min(eb,ec)}if(!aE||cc){d6.translate(0.5,0.5)}d6.beginPath();d6.moveTo(ef+ei,ee);d6.lineTo(ef+d9-ed,ee);d6.quadraticCurveTo(ef+d9,ee,ef+d9,ee+ed);d6.lineTo(ef+d9,ee+eg-eh);d6.quadraticCurveTo(ef+d9,ee+eg,ef+d9-eh,ee+eg);d6.lineTo(ef+ea,ee+eg);d6.quadraticCurveTo(ef,ee+eg,ef,ee+eg-ea);d6.lineTo(ef,ee+ei);d6.quadraticCurveTo(ef,ee,ef+ei,ee);if(!aE||cc){d6.translate(-0.5,-0.5)}bj();db()};bN.prototype.rect=function(ea,eg,ed,d9,eb,ee,ec,ef){if(!ed&&!d9){return}if(bH===1){ed-=ea;d9-=eg}else{if(bH===2){ed*=2;d9*=2;ea-=ed/2;eg-=d9/2}else{if(bH===3){ea-=ed/2;eg-=d9/2}}}if(!dK){ea=o.round(ea);eg=o.round(eg);ed=o.round(ed);d9=o.round(d9)}if(eb!==r){bK(ea,eg,ed,d9,eb,ee,ec,ef);return}if(cc&&dT%2===1){d6.translate(0.5,0.5)}d6.beginPath();d6.rect(ea,eg,ed,d9);bj();db();if(cc&&dT%2===1){d6.translate(-0.5,-0.5)}};bx.prototype.rect=function(eh,eg,d9,ej,el,ee,ek,ea){if(el!==r){throw"rect() with rounded corners is not supported in 3D mode"}if(bH===1){d9-=eh;ej-=eg}else{if(bH===2){d9*=2;ej*=2;eh-=d9/2;eg-=ej/2}else{if(bH===3){eh-=d9/2;eg-=ej/2}}}var ed=new aL;ed.translate(eh,eg,0);ed.scale(d9,ej,1);ed.transpose();var ef=new aL;ef.scale(1,-1,1);ef.apply(dF.array());ef.transpose();if(dT>0&&cc){d6.useProgram(dM);a4("model2d",dM,"model",false,ed.array());a4("view2d",dM,"view",false,ef.array());dZ("color2d",dM,"color",cY);dW("picktype2d",dM,"picktype",0);da("vertex2d",dM,"Vertex",3,az);ce("aTextureCoord2d",dM,"aTextureCoord");d6.drawArrays(d6.LINE_LOOP,0,ai.length/3)}if(aE){d6.useProgram(du);a4("model3d",du,"model",false,ed.array());a4("view3d",du,"view",false,ef.array());d6.enable(d6.POLYGON_OFFSET_FILL);d6.polygonOffset(1,1);dZ("color3d",du,"color",bk);if(dH>0){var ei=new aL;ei.set(ef);var eb=new aL;eb.set(ed);ei.mult(eb);var ec=new aL;ec.set(ei);ec.invert();ec.transpose();a4("normalTransform3d",du,"normalTransform",false,ec.array());da("normal3d",du,"Normal",3,b0)}else{ce("normal3d",du,"Normal")}da("vertex3d",du,"Vertex",3,az);d6.drawArrays(d6.TRIANGLE_FAN,0,ai.length/3);d6.disable(d6.POLYGON_OFFSET_FILL)}};bN.prototype.ellipse=function(ef,ee,ea,eh){ef=ef||0;ee=ee||0;if(ea<=0&&eh<=0){return}if(cL===2){ea*=2;eh*=2}else{if(cL===1){ea=ea-ef;eh=eh-ee;ef+=ea/2;ee+=eh/2}else{if(cL===0){ef+=ea/2;ee+=eh/2}}}if(ea===eh){d6.beginPath();d6.arc(ef,ee,ea/2,0,6.283185307179586,false);bj();db()}else{var eg=ea/2,ed=eh/2,d9=0.5522847498307933,ec=d9*eg,eb=d9*ed;cU.beginShape();cU.vertex(ef+eg,ee);cU.bezierVertex(ef+eg,ee-eb,ef+ec,ee-ed,ef,ee-ed);cU.bezierVertex(ef-ec,ee-ed,ef-eg,ee-eb,ef-eg,ee);cU.bezierVertex(ef-eg,ee+eb,ef-ec,ee+ed,ef,ee+ed);cU.bezierVertex(ef+ec,ee+ed,ef+eg,ee+eb,ef+eg,ee);cU.endShape()}};bx.prototype.ellipse=function(em,el,eb,eo){em=em||0;el=el||0;if(eb<=0&&eo<=0){return}if(cL===2){eb*=2;eo*=2}else{if(cL===1){eb=eb-em;eo=eo-el;em+=eb/2;el+=eo/2}else{if(cL===0){em+=eb/2;el+=eo/2}}}var en=eb/2,ei=eo/2,d9=0.5522847498307933,ed=d9*en,ec=d9*ei;cU.beginShape();cU.vertex(em+en,el);cU.bezierVertex(em+en,el-ec,0,em+ed,el-ei,0,em,el-ei,0);cU.bezierVertex(em-ed,el-ei,0,em-en,el-ec,0,em-en,el,0);cU.bezierVertex(em-en,el+ec,0,em-ed,el+ei,0,em,el+ei,0);cU.bezierVertex(em+ed,el+ei,0,em+en,el+ec,0,em+en,el,0);cU.endShape();if(aE){var ee=0,ej=0,eg,ef;for(eg=0;eg<a6.length;eg++){ee+=a6[eg][0];ej+=a6[eg][1]}ee/=a6.length;ej/=a6.length;var eh=[],ea=[],ek=[];eh[0]=ee;eh[1]=ej;eh[2]=0;eh[3]=0;eh[4]=0;eh[5]=bk[0];eh[6]=bk[1];eh[7]=bk[2];eh[8]=bk[3];eh[9]=cY[0];eh[10]=cY[1];eh[11]=cY[2];eh[12]=cY[3];eh[13]=a3;eh[14]=a2;eh[15]=a1;a6.unshift(eh);for(eg=0;eg<a6.length;eg++){for(ef=0;ef<3;ef++){ea.push(a6[eg][ef])}for(ef=5;ef<9;ef++){ek.push(a6[eg][ef])}}dj(ea,"TRIANGLE_FAN",ek)}};cU.normal=function(d9,eb,ea){if(arguments.length!==3||!(typeof d9==="number"&&typeof eb==="number"&&typeof ea==="number")){throw"normal() requires three numeric arguments."}a3=d9;a2=eb;a1=ea;if(dO!==0){if(aX===0){aX=1}else{if(aX===1){aX=2}}}};cU.save=function(ea,d9){if(d9!==r){return A.open(d9.toDataURL(),"_blank")}return A.open(cU.externals.canvas.toDataURL(),"_blank")};var cu=0;cU.saveFrame=function(d9){if(d9===r){d9="screen-####.png"}var ea=d9.replace(/#+/,function(ec){var eb=""+cu++;while(eb.length<ec.length){eb="0"+eb}return eb});cU.save(ea)};var ca=d.createElement("canvas").getContext("2d");var U=[r,r,r];function bu(eg,ea,ef){var ec=U.shift();if(ec===r){ec={};ec.canvas=d.createElement("canvas");ec.context=ec.canvas.getContext("2d")}U.push(ec);var eb=ec.canvas,ed=ec.context,ee=ea||eg.width,d9=ef||eg.height;eb.width=ee;eb.height=d9;if(!eg){ed.clearRect(0,0,ee,d9)}else{if("data" in eg){ed.putImageData(eg,0,0)}else{ed.clearRect(0,0,ee,d9);ed.drawImage(eg,0,0,ee,d9)}}return ec}function bY(d9){return{getLength:function(ea){return function(){if(ea.isRemote){throw"Image is loaded remotely. Cannot get length."}else{return ea.imageData.data.length?ea.imageData.data.length/4:0}}}(d9),getPixel:function(ea){return function(eb){var ed=eb*4,ec=ea.imageData.data;if(ea.isRemote){throw"Image is loaded remotely. Cannot get pixels."}return(ec[ed+3]&255)<<24|(ec[ed]&255)<<16|(ec[ed+1]&255)<<8|ec[ed+2]&255}}(d9),setPixel:function(ea){return function(eb,ee){var ed=eb*4,ec=ea.imageData.data;if(ea.isRemote){throw"Image is loaded remotely. Cannot set pixel."}ec[ed+0]=(ee>>16)&255;ec[ed+1]=(ee>>8)&255;ec[ed+2]=ee&255;ec[ed+3]=(ee>>24)&255;ea.__isDirty=true}}(d9),toArray:function(ea){return function(){var eb=[],ee=ea.imageData.data,ed=ea.width*ea.height;if(ea.isRemote){throw"Image is loaded remotely. Cannot get pixels."}for(var ec=0,ef=0;ec<ed;ec++,ef+=4){eb.push((ee[ef+3]&255)<<24|(ee[ef]&255)<<16|(ee[ef+1]&255)<<8|ee[ef+2]&255)}return eb}}(d9),set:function(ea){return function(eb){var ef,ee,eg;if(this.isRemote){throw"Image is loaded remotely. Cannot set pixels."}ee=ea.imageData.data;for(var ec=0,ed=eb.length;ec<ed;ec++){eg=eb[ec];ef=ec*4;ee[ef+0]=(eg>>16)&255;ee[ef+1]=(eg>>8)&255;ee[ef+2]=eg&255;ee[ef+3]=(eg>>24)&255}ea.__isDirty=true}}(d9)}}var cE=function(ea,ec,eb){this.__isDirty=false;if(ea instanceof HTMLImageElement){this.fromHTMLImageData(ea)}else{if(ec||eb){this.width=ea||1;this.height=ec||1;var d9=this.sourceImg=d.createElement("canvas");d9.width=this.width;d9.height=this.height;this.format=eb===2||eb===4?eb:1}else{this.width=0;this.height=0;this.format=2}}};cE.prototype={__isPImage:true,updatePixels:function(){var d9=this.sourceImg;if(d9&&d9 instanceof HTMLCanvasElement&&this.__isDirty){d9.getContext("2d").putImageData(this.imageData,0,0)}this.__isDirty=false},fromHTMLImageData:function(d9){var ea=bu(d9);if(d9.width&&d9.height){this.isRemote=true;this.width=d9.width;this.height=d9.height}this.sourceImg=d9},get:function(d9,ec,ea,eb){if(!arguments.length){return cU.get(this)}if(arguments.length===2){return cU.get(d9,ec,this)}if(arguments.length===4){return cU.get(d9,ec,ea,eb,this)}},set:function(d9,eb,ea){cU.set(d9,eb,ea,this);this.__isDirty=true},blend:function(eh,ed,ec,ea,ef,ei,eg,ee,d9,eb){if(arguments.length===9){cU.blend(this,eh,ed,ec,ea,ef,ei,eg,ee,d9,this)}else{if(arguments.length===10){cU.blend(eh,ed,ec,ea,ef,ei,eg,ee,d9,eb,this)}}delete this.sourceImg},copy:function(eg,ed,ec,eb,ea,eh,ef,ee,d9){if(arguments.length===8){cU.blend(this,eg,ed,ec,eb,ea,eh,ef,ee,0,this)}else{if(arguments.length===9){cU.blend(eg,ed,ec,eb,ea,eh,ef,ee,d9,0,this)}}delete this.sourceImg},filter:function(ea,d9){if(arguments.length===2){cU.filter(ea,d9,this)}else{if(arguments.length===1){cU.filter(ea,null,this)}}delete this.sourceImg},save:function(d9){cU.save(d9,this)},resize:function(d9,eb){if(this.isRemote){throw"Image is loaded remotely. Cannot resize."}if(this.width!==0||this.height!==0){if(d9===0&&eb!==0){d9=o.floor(this.width/this.height*eb)}else{if(eb===0&&d9!==0){eb=o.floor(this.height/this.width*d9)}}var ea=bu(this.imageData).canvas;var ec=bu(ea,d9,eb).context.getImageData(0,0,d9,eb);this.fromImageData(ec)}},mask:function(d9){var ec=this.toImageData(),eb,ea;if(d9 instanceof cE||d9.__isPImage){if(d9.width===this.width&&d9.height===this.height){d9=d9.toImageData();for(eb=2,ea=this.width*this.height*4;eb<ea;eb+=4){ec.data[eb+1]=d9.data[eb]}}else{throw"mask must have the same dimensions as PImage."}}else{if(d9 instanceof Array){if(this.width*this.height===d9.length){for(eb=0,ea=d9.length;eb<ea;++eb){ec.data[eb*4+3]=d9[eb]}}else{throw"mask array must be the same length as PImage pixels array."}}}this.fromImageData(ec)},loadPixels:D,toImageData:function(){if(this.isRemote){return this.sourceImg}if(!this.__isDirty){return this.imageData}var d9=bu(this.imageData);return d9.context.getImageData(0,0,this.width,this.height)},toDataURL:function(){if(this.isRemote){throw"Image is loaded remotely. Cannot create dataURI."}var d9=bu(this.imageData);return d9.canvas.toDataURL()},fromImageData:function(ed){var ea=ed.width,ec=ed.height,eb=d.createElement("canvas"),d9=eb.getContext("2d");this.width=eb.width=ea;this.height=eb.height=ec;d9.putImageData(ed,0,0);this.format=2;this.imageData=ed;this.sourceImg=eb}};cU.PImage=cE;cU.createImage=function(d9,ea,eb){return new cE(d9,ea,eb)};cU.loadImage=function(ea,eb,ed){if(eb){ea=ea+"."+eb}var ec;if(cO.imageCache.images[ea]){ec=new cE(cO.imageCache.images[ea]);ec.loaded=true;return ec}ec=new cE;var d9=d.createElement("img");ec.sourceImg=d9;d9.onload=function(eh,ef,ee){var ei=eh;var eg=ef;var ej=ee;return function(){eg.fromHTMLImageData(ei);eg.loaded=true;if(ej){ej()}}}(d9,ec,ed);d9.src=ea;return ec};cU.requestImage=cU.loadImage;function c7(d9,ec){var ea;if(d9>=cU.width||d9<0||ec<0||ec>=cU.height){return 0}if(dS){var eb=((0|d9)+cU.width*(0|ec))*4;ea=cU.imageData.data;return(ea[eb+3]&255)<<24|(ea[eb]&255)<<16|(ea[eb+1]&255)<<8|ea[eb+2]&255}ea=cU.toImageData(0|d9,0|ec,1,1).data;return(ea[3]&255)<<24|(ea[0]&255)<<16|(ea[1]&255)<<8|ea[2]&255}function c6(d9,ed,ea){if(ea.isRemote){throw"Image is loaded remotely. Cannot get x,y."}var ec=ed*ea.width*4+d9*4,eb=ea.imageData.data;return(eb[ec+3]&255)<<24|(eb[ec]&255)<<16|(eb[ec+1]&255)<<8|eb[ec+2]&255}function c4(d9,ed,ea,eb){var ec=new cE(ea,eb,2);ec.fromImageData(cU.toImageData(d9,ed,ea,eb));return ec}function c3(ee,ed,ef,ek,eq){if(eq.isRemote){throw"Image is loaded remotely. Cannot get x,y,w,h."}var eo=new cE(ef,ek,2),eb=eo.imageData.data,ec=eq.width,el=eq.height,en=eq.imageData.data;var d9=o.max(0,-ed),ea=o.max(0,-ee),eg=o.min(ek,el-ed),eh=o.min(ef,ec-ee);for(var ej=d9;ej<eg;++ej){var em=((ed+ej)*ec+(ee+ea))*4;var ep=(ej*ef+ea)*4;for(var ei=ea;ei<eh;++ei){eb[ep++]=en[em++];eb[ep++]=en[em++];eb[ep++]=en[em++];eb[ep++]=en[em++]}}eo.__isDirty=true;return eo}cU.get=function(d9,ed,ea,ec,eb){if(eb!==undefined){return c3(d9,ed,ea,ec,eb)}if(ec!==undefined){return c4(d9,ed,ea,ec)}if(ea!==undefined){return c6(d9,ed,ea)}if(ed!==undefined){return c7(d9,ed)}if(d9!==undefined){return c3(0,0,d9.width,d9.height,d9)}return c4(0,0,cU.width,cU.height)};cU.createGraphics=function(d9,eb,ea){var ec=new C;ec.size(d9,eb,ea);return ec};function Q(){if(dS){d6=ah;dS=false;cU.updatePixels()}}function co(){function ea(ee,ec){function ed(){Q();d6[ec].apply(d6,arguments)}ee[ec]=ed}function d9(ef,ed){function ec(){Q();return d6[ed]}function ee(eg){Q();d6[ed]=eg}cU.defineProperty(ef,ed,{get:ec,set:ee})}for(var eb in d6){if(typeof d6[eb]==="function"){ea(this,eb)}else{d9(this,eb)}}}function cA(){if(dS){return}cU.loadPixels();if(cl===null){ah=d6;cl=new co}dS=true;d6=cl;d0=0}function bt(d9,eb,ea){if(d9<cU.width&&d9>=0&&eb>=0&&eb<cU.height){cA();cU.pixels.setPixel((0|d9)+cU.width*(0|eb),ea);if(++d0>bX){Q()}}}function br(d9,ef,ec,ea){if(ea.isRemote){throw"Image is loaded remotely. Cannot set x,y."}var ee=cU.color.toArray(ec);var ed=ef*ea.width*4+d9*4;var eb=ea.imageData.data;eb[ed]=ee[0];eb[ed+1]=ee[1];eb[ed+2]=ee[2];eb[ed+3]=ee[3]}cU.set=function(d9,ee,ec,eb){var ea,ed;if(arguments.length===3){if(typeof ec==="number"){bt(d9,ee,ec)}else{if(ec instanceof cE||ec.__isPImage){cU.image(ec,d9,ee)}}}else{if(arguments.length===4){br(d9,ee,ec,eb)}}};cU.imageData={};cU.pixels={getLength:function(){return cU.imageData.data.length?cU.imageData.data.length/4:0},getPixel:function(d9){var eb=d9*4,ea=cU.imageData.data;return ea[eb+3]<<24&4278190080|ea[eb+0]<<16&16711680|ea[eb+1]<<8&65280|ea[eb+2]&255},setPixel:function(d9,ec){var eb=d9*4,ea=cU.imageData.data;ea[eb+0]=(ec&16711680)>>>16;ea[eb+1]=(ec&65280)>>>8;ea[eb+2]=ec&255;ea[eb+3]=(ec&4278190080)>>>24},toArray:function(){var d9=[],eb=cU.imageData.width*cU.imageData.height,ec=cU.imageData.data;for(var ea=0,ed=0;ea<eb;ea++,ed+=4){d9.push(ec[ed+3]<<24&4278190080|ec[ed+0]<<16&16711680|ec[ed+1]<<8&65280|ec[ed+2]&255)}return d9},set:function(d9){for(var ea=0,eb=d9.length;ea<eb;ea++){this.setPixel(ea,d9[ea])}}};cU.loadPixels=function(){cU.imageData=dV.$ensureContext().getImageData(0,0,cU.width,cU.height)};cU.updatePixels=function(){if(cU.imageData){dV.$ensureContext().putImageData(cU.imageData,0,0)}};cU.hint=function(ea){var d9=dV.$ensureContext();if(ea===4){d9.disable(d9.DEPTH_TEST);d9.depthMask(false);d9.clear(d9.DEPTH_BUFFER_BIT)}else{if(ea===-4){d9.enable(d9.DEPTH_TEST);d9.depthMask(true)}}};var bA=function(ec,eb,ea,d9){var ed;if(ec instanceof cE||ec.__isPImage){ed=ec;if(!ed.loaded){throw"Error using image in background(): PImage not loaded."}if(ed.width!==cU.width||ed.height!==cU.height){throw"Background image must be the same dimensions as the canvas."}}else{ed=cU.color(ec,eb,ea,d9)}aZ=ed};bN.prototype.background=function(ec,eb,ea,d9){if(ec!==r){bA(ec,eb,ea,d9)}if(aZ instanceof cE||aZ.__isPImage){aB();d6.setTransform(1,0,0,1,0,0);cU.image(aZ,0,0);cN()}else{aB();d6.setTransform(1,0,0,1,0,0);if(cU.alpha(aZ)!==bQ){d6.clearRect(0,0,cU.width,cU.height)}d6.fillStyle=cU.color.toString(aZ);d6.fillRect(0,0,cU.width,cU.height);ao=true;cN()}};bx.prototype.background=function(ec,eb,ea,d9){if(arguments.length>0){bA(ec,eb,ea,d9)}var ed=cU.color.toGLArray(aZ);d6.clearColor(ed[0],ed[1],ed[2],ed[3]);d6.clear(d6.COLOR_BUFFER_BIT|d6.DEPTH_BUFFER_BIT)};bN.prototype.image=function(ec,eh,ef,ei,ed){eh=o.round(eh);ef=o.round(ef);if(ec.width>0){var ej=ei||ec.width;var eg=ed||ec.height;var d9=bg(eh||0,ef||0,ei||ec.width,ed||ec.height,arguments.length<4);var ee=!!ec.sourceImg&&ba===null;if(ee){var ea=ec.sourceImg;if(ec.__isDirty){ec.updatePixels()}d6.drawImage(ea,0,0,ea.width,ea.height,d9.x,d9.y,d9.w,d9.h)}else{var eb=ec.toImageData();if(ba!==null){ba(eb);ec.__isDirty=true}d6.drawImage(bu(eb).canvas,0,0,ec.width,ec.height,d9.x,d9.y,d9.w,d9.h)}}};bx.prototype.image=function(eb,d9,ed,ea,ec){if(eb.width>0){d9=o.round(d9);ed=o.round(ed);ea=ea||eb.width;ec=ec||eb.height;cU.beginShape(cU.QUADS);cU.texture(eb);cU.vertex(d9,ed,0,0,0);cU.vertex(d9,ed+ec,0,0,ec);cU.vertex(d9+ea,ed+ec,0,ea,ec);cU.vertex(d9+ea,ed,0,ea,0);cU.endShape()}};cU.tint=function(ec,eb,d9,eh){var ee=cU.color(ec,eb,d9,eh);var ea=cU.red(ee)/bF;var ed=cU.green(ee)/bE;var ef=cU.blue(ee)/bC;var eg=cU.alpha(ee)/bQ;ba=function(el){var ek=el.data,ej=4*el.width*el.height;for(var ei=0;ei<ej;){ek[ei++]*=ea;ek[ei++]*=ed;ek[ei++]*=ef;ek[ei++]*=eg}};bs=function(ej){for(var ei=0;ei<ej.length;){ej[ei++]=ea;ej[ei++]=ed;ej[ei++]=ef;ej[ei++]=eg}}};cU.noTint=function(){ba=null;bs=null};cU.copy=function(d9,ee,ed,ef,eb,eh,eg,ea,ec){if(ec===r){ec=ea;ea=eg;eg=eh;eh=eb;eb=ef;ef=ed;ed=ee;ee=d9;d9=cU}cU.blend(d9,ee,ed,ef,eb,eh,eg,ea,ec,0)};cU.blend=function(d9,ej,ei,em,ee,eo,en,ea,eg,ef,ec){if(d9.isRemote){throw"Image is loaded remotely. Cannot blend image."}if(ef===r){ef=eg;eg=ea;ea=en;en=eo;eo=ee;ee=em;em=ei;ei=ej;ej=d9;d9=cU}var eb=ej+em,eh=ei+ee,el=eo+ea,ed=en+eg,ek=ec||cU;if(ec===r||ef===r){cU.loadPixels()}d9.loadPixels();if(d9===cU&&cU.intersect(ej,ei,eb,eh,eo,en,el,ed)){cU.blit_resize(cU.get(ej,ei,eb-ej,eh-ei),0,0,eb-ej-1,eh-ei-1,ek.imageData.data,ek.width,ek.height,eo,en,el,ed,ef)}else{cU.blit_resize(d9,ej,ei,eb,eh,ek.imageData.data,ek.width,ek.height,eo,en,el,ed,ef)}if(ec===r){cU.updatePixels()}};var bl=function(ed){var d9=cU.floor(ed*3.5),eb,ea;d9=d9<1?1:d9<248?d9:248;if(cU.shared.blurRadius!==d9){cU.shared.blurRadius=d9;cU.shared.blurKernelSize=1+(cU.shared.blurRadius<<1);cU.shared.blurKernel=new e(cU.shared.blurKernelSize);var ef=cU.shared.blurKernel;var ee=cU.shared.blurKernelSize;var ec=cU.shared.blurRadius;for(eb=0;eb<ee;eb++){ef[eb]=0}var eg=(d9-1)*(d9-1);for(eb=1;eb<d9;eb++){ef[d9+eb]=ef[ea]=eg}ef[d9]=d9*d9}};var b5=function(en,es){var eb,ee,ek,ep,eq,ez,er;var eu,em,ey,ex,eo;var eh=es.pixels.getLength();var et=new e(eh);var eC=new e(eh);var eg=new e(eh);var eB=new e(eh);var eA=0;var ej,ei,ew,ed;bl(en);var ea=es.height;var d9=es.width;var ev=cU.shared.blurKernelSize;var el=cU.shared.blurRadius;var ef=cU.shared.blurKernel;var ec=es.imageData.data;for(ei=0;ei<ea;ei++){for(ej=0;ej<d9;ej++){ep=ek=ee=eq=eb=0;eu=ej-el;if(eu<0){eo=-eu;eu=0}else{if(eu>=d9){break}eo=0}for(ew=eo;ew<ev;ew++){if(eu>=d9){break}ed=(eu+eA)*4;er=ef[ew];eq+=er*ec[ed+3];ee+=er*ec[ed];ek+=er*ec[ed+1];ep+=er*ec[ed+2];eb+=er;eu++}em=eA+ej;eB[em]=eq/eb;et[em]=ee/eb;eC[em]=ek/eb;eg[em]=ep/eb}eA+=d9}eA=0;ey=-el;ex=ey*d9;for(ei=0;ei<ea;ei++){for(ej=0;ej<d9;ej++){ep=ek=ee=eq=eb=0;if(ey<0){eo=em=-ey;eu=ej}else{if(ey>=ea){break}eo=0;em=ey;eu=ej+ex}for(ew=eo;ew<ev;ew++){if(em>=ea){break}er=ef[ew];eq+=er*eB[eu];ee+=er*et[eu];ek+=er*eC[eu];ep+=er*eg[eu];eb+=er;em++;eu+=d9}ed=(ej+eA)*4;ec[ed]=ee/eb;ec[ed+1]=ek/eb;ec[ed+2]=ep/eb;ec[ed+3]=eq/eb}eA+=d9;ex+=d9;ey++}};var cd=function(eq,ek){var eg=0;var eu=ek.pixels.getLength();var el=new H(eu);var eo,ea,ej,ei,ec;var ep,ed,ef,eh,eb,em,et,d9,er,ee,es,en;if(!eq){while(eg<eu){eo=eg;ea=eg+ek.width;while(eg<ea){ej=ei=ek.pixels.getPixel(eg);ed=eg-1;ep=eg+1;ef=eg-ek.width;eh=eg+ek.width;if(ed<eo){ed=eg}if(ep>=ea){ep=eg}if(ef<0){ef=0}if(eh>=eu){eh=eg}et=ek.pixels.getPixel(ef);em=ek.pixels.getPixel(ed);d9=ek.pixels.getPixel(eh);eb=ek.pixels.getPixel(ep);ec=77*(ej>>16&255)+151*(ej>>8&255)+28*(ej&255);ee=77*(em>>16&255)+151*(em>>8&255)+28*(em&255);er=77*(eb>>16&255)+151*(eb>>8&255)+28*(eb&255);es=77*(et>>16&255)+151*(et>>8&255)+28*(et&255);en=77*(d9>>16&255)+151*(d9>>8&255)+28*(d9&255);if(ee>ec){ei=em;ec=ee}if(er>ec){ei=eb;ec=er}if(es>ec){ei=et;ec=es}if(en>ec){ei=d9;ec=en}el[eg++]=ei}}}else{while(eg<eu){eo=eg;ea=eg+ek.width;while(eg<ea){ej=ei=ek.pixels.getPixel(eg);ed=eg-1;ep=eg+1;ef=eg-ek.width;eh=eg+ek.width;if(ed<eo){ed=eg}if(ep>=ea){ep=eg}if(ef<0){ef=0}if(eh>=eu){eh=eg}et=ek.pixels.getPixel(ef);em=ek.pixels.getPixel(ed);d9=ek.pixels.getPixel(eh);eb=ek.pixels.getPixel(ep);ec=77*(ej>>16&255)+151*(ej>>8&255)+28*(ej&255);ee=77*(em>>16&255)+151*(em>>8&255)+28*(em&255);er=77*(eb>>16&255)+151*(eb>>8&255)+28*(eb&255);es=77*(et>>16&255)+151*(et>>8&255)+28*(et&255);en=77*(d9>>16&255)+151*(d9>>8&255)+28*(d9&255);if(ee<ec){ei=em;ec=ee}if(er<ec){ei=eb;ec=er}if(es<ec){ei=et;ec=es}if(en<ec){ei=d9;ec=en}el[eg++]=ei}}}ek.pixels.set(el)};cU.filter=function(eg,ef,ec){var ej,ee,ea,ei;if(arguments.length===3){ec.loadPixels();ej=ec}else{cU.loadPixels();ej=cU}if(ef===r){ef=null}if(ej.isRemote){throw"Image is loaded remotely. Cannot filter image."}var ek=ej.pixels.getLength();switch(eg){case 11:var el=ef||1;b5(el,ej);break;case 12:if(ej.format===4){for(ei=0;ei<ek;ei++){ee=255-ej.pixels.getPixel(ei);ej.pixels.setPixel(ei,4278190080|ee<<16|ee<<8|ee)}ej.format=1}else{for(ei=0;ei<ek;ei++){ee=ej.pixels.getPixel(ei);ea=77*(ee>>16&255)+151*(ee>>8&255)+28*(ee&255)>>8;ej.pixels.setPixel(ei,ee&4278190080|ea<<16|ea<<8|ea)}}break;case 13:for(ei=0;ei<ek;ei++){ej.pixels.setPixel(ei,ej.pixels.getPixel(ei)^16777215)}break;case 15:if(ef===null){throw"Use filter(POSTERIZE, int levels) instead of filter(POSTERIZE)"}var eo=cU.floor(ef);if(eo<2||eo>255){throw"Levels must be between 2 and 255 for filter(POSTERIZE, levels)"}var eh=eo-1;for(ei=0;ei<ek;ei++){var d9=ej.pixels.getPixel(ei)>>16&255;var em=ej.pixels.getPixel(ei)>>8&255;var eb=ej.pixels.getPixel(ei)&255;d9=(d9*eo>>8)*255/eh;em=(em*eo>>8)*255/eh;eb=(eb*eo>>8)*255/eh;ej.pixels.setPixel(ei,4278190080&ej.pixels.getPixel(ei)|d9<<16|em<<8|eb)}break;case 14:for(ei=0;ei<ek;ei++){ej.pixels.setPixel(ei,ej.pixels.getPixel(ei)|4278190080)}ej.format=1;break;case 16:if(ef===null){ef=0.5}if(ef<0||ef>1){throw"Level must be between 0 and 1 for filter(THRESHOLD, level)"}var ed=cU.floor(ef*255);for(ei=0;ei<ek;ei++){var en=cU.max((ej.pixels.getPixel(ei)&16711680)>>16,cU.max((ej.pixels.getPixel(ei)&65280)>>8,ej.pixels.getPixel(ei)&255));ej.pixels.setPixel(ei,ej.pixels.getPixel(ei)&4278190080|(en<ed?0:16777215))}break;case 17:cd(true,ej);break;case 18:cd(false,ej);break}ej.updatePixels()};cU.shared={fracU:0,ifU:0,fracV:0,ifV:0,u1:0,u2:0,v1:0,v2:0,sX:0,sY:0,iw:0,iw1:0,ih1:0,ul:0,ll:0,ur:0,lr:0,cUL:0,cLL:0,cUR:0,cLR:0,srcXOffset:0,srcYOffset:0,r:0,g:0,b:0,a:0,srcBuffer:null,blurRadius:0,blurKernelSize:0,blurKernel:null};cU.intersect=function(eb,ei,ea,eh,em,ef,el,ee){var ek=ea-eb+1;var ed=eh-ei+1;var d9=el-em+1;var eg=ee-ef+1;if(em<eb){d9+=em-eb;if(d9>ek){d9=ek}}else{var ej=ek+eb-em;if(d9>ej){d9=ej}}if(ef<ei){eg+=ef-ei;if(eg>ed){eg=ed}}else{var ec=ed+ei-ef;if(eg>ec){eg=ec}}return !(d9<=0||eg<=0)};var dP={};dP[1]=cU.modes.blend;dP[2]=cU.modes.add;dP[4]=cU.modes.subtract;dP[8]=cU.modes.lightest;dP[16]=cU.modes.darkest;dP[0]=cU.modes.replace;dP[32]=cU.modes.difference;dP[64]=cU.modes.exclusion;dP[128]=cU.modes.multiply;dP[256]=cU.modes.screen;dP[512]=cU.modes.overlay;dP[1024]=cU.modes.hard_light;dP[2048]=cU.modes.soft_light;dP[4096]=cU.modes.dodge;dP[8192]=cU.modes.burn;cU.blit_resize=function(em,ey,es,ex,er,eD,ei,eq,ew,en,ev,el,eo){var eB,eA;if(ey<0){ey=0}if(es<0){es=0}if(ex>=em.width){ex=em.width-1}if(er>=em.height){er=em.height-1}var eH=ex-ey;var eM=er-es;var d9=ev-ew;var ej=el-en;if(d9<=0||ej<=0||eH<=0||eM<=0||ew>=ei||en>=eq||ey>=em.width||es>=em.height){return}var eg=o.floor(eH/d9*32768);var ed=o.floor(eM/ej*32768);var eF=cU.shared;eF.srcXOffset=o.floor(ew<0?-ew*eg:ey*32768);eF.srcYOffset=o.floor(en<0?-en*ed:es*32768);if(ew<0){d9+=ew;ew=0}if(en<0){ej+=en;en=0}d9=o.min(d9,ei-ew);ej=o.min(ej,eq-en);var et=en*ei+ew;var eP;eF.srcBuffer=em.imageData.data;eF.iw=em.width;eF.iw1=em.width-1;eF.ih1=em.height-1;var eu=cU.filter_bilinear,eJ=cU.filter_new_scanline,eh=dP[eo],eG,eL,eE,eI,eb,ec,ea=4278190080,eK=16711680,ez=65280,ef=255,eO=32767,eC=15,ek=1,ep=9,ee=eF.srcBuffer,eN=o.min;for(eA=0;eA<ej;eA++){eF.sX=eF.srcXOffset;eF.fracV=eF.srcYOffset&eO;eF.ifV=eO-eF.fracV;eF.v1=(eF.srcYOffset>>eC)*eF.iw;eF.v2=eN((eF.srcYOffset>>eC)+1,eF.ih1)*eF.iw;for(eB=0;eB<d9;eB++){eL=(et+eB)*4;eP=eD[eL+3]<<24&ea|eD[eL]<<16&eK|eD[eL+1]<<8&ez|eD[eL+2]&ef;eF.fracU=eF.sX&eO;eF.ifU=eO-eF.fracU;eF.ul=eF.ifU*eF.ifV>>eC;eF.ll=eF.ifU*eF.fracV>>eC;eF.ur=eF.fracU*eF.ifV>>eC;eF.lr=eF.fracU*eF.fracV>>eC;eF.u1=eF.sX>>eC;eF.u2=eN(eF.u1+1,eF.iw1);eE=(eF.v1+eF.u1)*4;eI=(eF.v1+eF.u2)*4;eb=(eF.v2+eF.u1)*4;ec=(eF.v2+eF.u2)*4;eF.cUL=ee[eE+3]<<24&ea|ee[eE]<<16&eK|ee[eE+1]<<8&ez|ee[eE+2]&ef;eF.cUR=ee[eI+3]<<24&ea|ee[eI]<<16&eK|ee[eI+1]<<8&ez|ee[eI+2]&ef;eF.cLL=ee[eb+3]<<24&ea|ee[eb]<<16&eK|ee[eb+1]<<8&ez|ee[eb+2]&ef;eF.cLR=ee[ec+3]<<24&ea|ee[ec]<<16&eK|ee[ec+1]<<8&ez|ee[ec+2]&ef;eF.r=eF.ul*((eF.cUL&eK)>>16)+eF.ll*((eF.cLL&eK)>>16)+eF.ur*((eF.cUR&eK)>>16)+eF.lr*((eF.cLR&eK)>>16)<<ek&eK;eF.g=eF.ul*(eF.cUL&ez)+eF.ll*(eF.cLL&ez)+eF.ur*(eF.cUR&ez)+eF.lr*(eF.cLR&ez)>>>eC&ez;eF.b=eF.ul*(eF.cUL&ef)+eF.ll*(eF.cLL&ef)+eF.ur*(eF.cUR&ef)+eF.lr*(eF.cLR&ef)>>>eC;eF.a=eF.ul*((eF.cUL&ea)>>>24)+eF.ll*((eF.cLL&ea)>>>24)+eF.ur*((eF.cUR&ea)>>>24)+eF.lr*((eF.cLR&ea)>>>24)<<ep&ea;eG=eh(eP,eF.a|eF.r|eF.g|eF.b);eD[eL]=(eG&eK)>>>16;eD[eL+1]=(eG&ez)>>>8;eD[eL+2]=eG&ef;eD[eL+3]=(eG&ea)>>>24;eF.sX+=eg}et+=ei;eF.srcYOffset+=ed}};cU.loadFont=function(ea,eb){if(ea===r){throw"font name required in loadFont."}if(ea.indexOf(".svg")===-1){if(eb===r){eb=T.size}return E.get(ea,eb)}var d9=cU.loadGlyphs(ea);return{name:ea,css:"12px sans-serif",glyph:true,units_per_em:d9.units_per_em,horiz_adv_x:1/d9.units_per_em*d9.horiz_adv_x,ascent:d9.ascent,descent:d9.descent,width:function(eg){var ee=0;var ec=eg.length;for(var ed=0;ed<ec;ed++){try{ee+=parseFloat(cU.glyphLook(cU.glyphTable[ea],eg[ed]).horiz_adv_x)}catch(ef){C.debug(ef)}}return ee/cU.glyphTable[ea].units_per_em}}};cU.createFont=function(d9,ea){return cU.loadFont(d9,ea)};cU.textFont=function(d9,eb){if(eb!==r){if(!d9.glyph){d9=E.get(d9.name,eb)}dX=eb}T=d9;V=T.name;aY=T.ascent;dx=T.descent;d5=T.leading;var ea=dV.$ensureContext();ea.font=T.css};cU.textSize=function(ea){if(ea!==dX){T=E.get(V,ea);dX=ea;aY=T.ascent;dx=T.descent;d5=T.leading;var d9=dV.$ensureContext();d9.font=T.css}};cU.textAscent=function(){return aY};cU.textDescent=function(){return dx};cU.textLeading=function(d9){d5=d9};cU.textAlign=function(ea,d9){K=ea;cZ=d9||0};function bq(d9){if(d9 instanceof String){return d9}if(typeof d9==="number"){if(d9===(0|d9)){return d9.toString()}return cU.nf(d9,0,3)}if(d9===null||d9===r){return""}return d9.toString()}bN.prototype.textWidth=function(ed){var d9=bq(ed).split(/\r?\n/g),eb=0;var ea,ec=d9.length;d6.font=T.css;for(ea=0;ea<ec;++ea){eb=o.max(eb,T.measureTextWidth(d9[ea]))}return eb|0};bx.prototype.textWidth=function(ee){var d9=bq(ee).split(/\r?\n/g),ec=0;var eb,ed=d9.length;if(cC===r){cC=d.createElement("canvas")}var ea=cC.getContext("2d");ea.font=T.css;for(eb=0;eb<ed;++eb){ec=o.max(ec,ea.measureText(d9[eb]).width)}return ec|0};cU.glyphLook=function(d9,ea){try{switch(ea){case"1":return d9.one;case"2":return d9.two;case"3":return d9.three;case"4":return d9.four;case"5":return d9.five;case"6":return d9.six;case"7":return d9.seven;case"8":return d9.eight;case"9":return d9.nine;case"0":return d9.zero;case" ":return d9.space;case"$":return d9.dollar;case"!":return d9.exclam;case'"':return d9.quotedbl;case"#":return d9.numbersign;case"%":return d9.percent;case"&":return d9.ampersand;case"'":return d9.quotesingle;case"(":return d9.parenleft;case")":return d9.parenright;case"*":return d9.asterisk;case"+":return d9.plus;case",":return d9.comma;case"-":return d9.hyphen;case".":return d9.period;case"/":return d9.slash;case"_":return d9.underscore;case":":return d9.colon;case";":return d9.semicolon;case"<":return d9.less;case"=":return d9.equal;case">":return d9.greater;case"?":return d9.question;case"@":return d9.at;case"[":return d9.bracketleft;case"\\":return d9.backslash;case"]":return d9.bracketright;case"^":return d9.asciicircum;case"`":return d9.grave;case"{":return d9.braceleft;case"|":return d9.bar;case"}":return d9.braceright;case"~":return d9.asciitilde;default:return d9[ea]}}catch(eb){C.debug(eb)}};bN.prototype.text$line=function(eh,ek,ej,ei,ee){var eg=0,ef=0;if(!T.glyph){if(eh&&"fillText" in d6){if(ao){d6.fillStyle=cU.color.toString(aW);ao=false}if(ee===39||ee===3){eg=T.measureTextWidth(eh);if(ee===39){ef=-eg}else{ef=-eg/2}}d6.fillText(eh,ek+ef,ej)}}else{var d9=cU.glyphTable[V];aB();d6.translate(ek,ej+dX);if(ee===39||ee===3){eg=d9.width(eh);if(ee===39){ef=-eg}else{ef=-eg/2}}var el=d9.units_per_em,ed=1/el*dX;d6.scale(ed,ed);for(var ea=0,eb=eh.length;ea<eb;ea++){try{cU.glyphLook(d9,eh[ea]).draw()}catch(ec){C.debug(ec)}}cN()}};bx.prototype.text$line=function(eg,ek,ej,eh,ee){if(cC===r){cC=d.createElement("canvas")}var ea=d6;d6=cC.getContext("2d");d6.font=T.css;var ef=T.measureTextWidth(eg);cC.width=ef;cC.height=dX;d6=cC.getContext("2d");d6.font=T.css;d6.textBaseline="top";bN.prototype.text$line(eg,0,0,0,37);var d9=cC.width/cC.height;d6=ea;d6.bindTexture(d6.TEXTURE_2D,bO);d6.texImage2D(d6.TEXTURE_2D,0,d6.RGBA,d6.RGBA,d6.UNSIGNED_BYTE,cC);d6.texParameteri(d6.TEXTURE_2D,d6.TEXTURE_MAG_FILTER,d6.LINEAR);d6.texParameteri(d6.TEXTURE_2D,d6.TEXTURE_MIN_FILTER,d6.LINEAR);d6.texParameteri(d6.TEXTURE_2D,d6.TEXTURE_WRAP_T,d6.CLAMP_TO_EDGE);d6.texParameteri(d6.TEXTURE_2D,d6.TEXTURE_WRAP_S,d6.CLAMP_TO_EDGE);var ed=0;if(ee===39){ed=-ef}else{if(ee===3){ed=-ef/2}}var eb=new aL;var ec=dX*0.5;eb.translate(ek+ed-ec/2,ej-ec,eh);eb.scale(-d9*ec,-ec,ec);eb.translate(-1,-1,-1);eb.transpose();var ei=new aL;ei.scale(1,-1,1);ei.apply(dF.array());ei.transpose();d6.useProgram(dM);da("vertex2d",dM,"Vertex",3,cF);da("aTextureCoord2d",dM,"aTextureCoord",2,Z);dW("uSampler2d",dM,"uSampler",[0]);dW("picktype2d",dM,"picktype",1);a4("model2d",dM,"model",false,eb.array());a4("view2d",dM,"view",false,ei.array());dZ("color2d",dM,"color",bk);d6.bindBuffer(d6.ELEMENT_ARRAY_BUFFER,O);d6.drawElements(d6.TRIANGLES,6,d6.UNSIGNED_SHORT,0)};function bd(ec,ef,ee,ed){var eh,eb;if(ec.indexOf("\n")<0){eh=[ec];eb=1}else{eh=ec.split(/\r?\n/g);eb=eh.length}var d9=0;if(cZ===101){d9=aY+dx}else{if(cZ===3){d9=aY/2-(eb-1)*d5/2}else{if(cZ===102){d9=-(dx+(eb-1)*d5)}}}for(var ea=0;ea<eb;++ea){var eg=eh[ea];dV.text$line(eg,ef,ee+d9,ed,K);d9+=d5}}function a8(ep,ek,ej,eo,em,ei){if(ep.length===0||eo===0||em===0){return}if(dX>em){return}var el=-1;var ed=0;var d9=0;var ef=[];for(var ee=0,er=ep.length;ee<er;ee++){var eg=ep[ee];var eu=eg===" ";var en=T.measureTextWidth(eg);if(eg!=="\n"&&d9+en<=eo){if(eu){el=ee}d9+=en}else{if(el+1===ed){if(ee>0){el=ee}else{return}}if(eg==="\n"){ef.push({text:ep.substring(ed,ee),width:d9});ed=ee+1}else{ef.push({text:ep.substring(ed,el+1),width:d9});ed=el+1}d9=0;ee=ed-1}}if(ed<er){ef.push({text:ep.substring(ed),width:d9})}var et=1,eh=aY;if(K===3){et=eo/2}else{if(K===39){et=eo}}var eq=ef.length,ea=o.min(eq,o.floor(em/d5));if(cZ===101){eh=aY+dx}else{if(cZ===3){eh=em/2-d5*(ea/2-1)}else{if(cZ===102){eh=dx+d5}}}var eb,ec,es;for(eb=0;eb<eq;eb++){es=eb*d5;if(eh+es>em-dx){break}ec=ef[eb];dV.text$line(ec.text,ek+et,ej+eh+es,ei,K)}}cU.text=function(){if(d6.font!==T.css){d6.font=T.css}if(cG===5){return}if(arguments.length===3){bd(bq(arguments[0]),arguments[1],arguments[2],0)}else{if(arguments.length===4){bd(bq(arguments[0]),arguments[1],arguments[2],arguments[3])}else{if(arguments.length===5){a8(bq(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],0)}else{if(arguments.length===6){a8(bq(arguments[0]),arguments[1],arguments[2],arguments[3],arguments[4],arguments[5])}}}}};cU.textMode=function(d9){cG=d9};cU.loadGlyphs=function(ef){var eh,eg,ed,eb,eo,en,em,ep,ej,eq,ek,el="[0-9\\-]+",ei;var ee=function(ew,ev){var et=0,es=[],er,eu=new RegExp(ew,"g");er=es[et]=eu.exec(ev);while(er){et++;er=es[et]=eu.exec(ev)}return es};var ea=function(ew){var ex=ee("[A-Za-z][0-9\\- ]+|Z",ew);var ev=function(){aB();return dV.$ensureContext()};var et=function(){bj();db();cN()};ei="return {draw:function(){var curContext=beforePathDraw();curContext.beginPath();";eh=0;eg=0;ed=0;eb=0;eo=0;en=0;ew=0;ep=0;ej="";eq=ex.length-1;for(var es=0;es<eq;es++){var er=ex[es][0],eu=ee(el,er);switch(er[0]){case"M":eh=parseFloat(eu[0][0]);eg=parseFloat(eu[1][0]);ei+="curContext.moveTo("+eh+","+-eg+");";break;case"L":eh=parseFloat(eu[0][0]);eg=parseFloat(eu[1][0]);ei+="curContext.lineTo("+eh+","+-eg+");";break;case"H":eh=parseFloat(eu[0][0]);ei+="curContext.lineTo("+eh+","+-eg+");";break;case"V":eg=parseFloat(eu[0][0]);ei+="curContext.lineTo("+eh+","+-eg+");";break;case"T":eo=parseFloat(eu[0][0]);en=parseFloat(eu[1][0]);if(ej==="Q"||ej==="T"){ew=o.sqrt(o.pow(eh-ed,2)+o.pow(eb-eg,2));ep=(cU.angleMode==="degrees"?180:o.PI)+cU.atan2(ed-eh,eb-eg);ed=eh+cU.sin(ep)*ew;eb=eg+cU.cos(ep)*ew}else{ed=eh;eb=eg}ei+="curContext.quadraticCurveTo("+ed+","+-eb+","+eo+","+-en+");";eh=eo;eg=en;break;case"Q":ed=parseFloat(eu[0][0]);eb=parseFloat(eu[1][0]);eo=parseFloat(eu[2][0]);en=parseFloat(eu[3][0]);ei+="curContext.quadraticCurveTo("+ed+","+-eb+","+eo+","+-en+");";eh=eo;eg=en;break;case"Z":ei+="curContext.closePath();";break}ej=er[0]}ei+="afterPathDraw();";ei+="curContext.translate("+ek+",0);";ei+="}}";return(new Function("beforePathDraw","afterPathDraw",ei))(ev,et)};var d9=function(eu){var et=eu.getElementsByTagName("font");cU.glyphTable[ef].horiz_adv_x=et[0].getAttribute("horiz-adv-x");var ew=eu.getElementsByTagName("font-face")[0];cU.glyphTable[ef].units_per_em=parseFloat(ew.getAttribute("units-per-em"));cU.glyphTable[ef].ascent=parseFloat(ew.getAttribute("ascent"));cU.glyphTable[ef].descent=parseFloat(ew.getAttribute("descent"));var ey=eu.getElementsByTagName("glyph"),es=ey.length;for(var ex=0;ex<es;ex++){var er=ey[ex].getAttribute("unicode");var ev=ey[ex].getAttribute("glyph-name");ek=ey[ex].getAttribute("horiz-adv-x");if(ek===null){ek=cU.glyphTable[ef].horiz_adv_x}em=ey[ex].getAttribute("d");if(em!==r){ei=ea(em);cU.glyphTable[ef][ev]={name:ev,unicode:er,horiz_adv_x:ek,draw:ei.draw}}}};var ec=function(){var et;try{et=d.implementation.createDocument("","",null)}catch(ev){C.debug(ev.message);return}try{et.async=false;et.load(ef);d9(et.getElementsByTagName("svg")[0])}catch(es){C.debug(es);try{var er=new A.XMLHttpRequest;er.open("GET",ef,false);er.send(null);d9(er.responseXML.documentElement)}catch(eu){C.debug(es)}}};cU.glyphTable[ef]={};ec(ef);return cU.glyphTable[ef]};cU.param=function(eb){var ea="data-processing-"+eb;if(ab.hasAttribute(ea)){return ab.getAttribute(ea)}for(var ec=0,d9=ab.childNodes.length;ec<d9;++ec){var ed=ab.childNodes.item(ec);if(ed.nodeType!==1||ed.tagName.toLowerCase()!=="param"){continue}if(ed.getAttribute("name")===eb){return ed.getAttribute("value")}}if(cO.params.hasOwnProperty(eb)){return cO.params[eb]}return null};function cJ(ea){if(ea==="3D"){dV=new bx}else{if(ea==="2D"){dV=new bN}else{dV=new b8}}for(var d9 in b8.prototype){if(b8.prototype.hasOwnProperty(d9)&&d9.indexOf("$")<0){cU[d9]=dV[d9]}}dV.$init()}function cS(d9){return function(){cJ("2D");return dV[d9].apply(this,arguments)}}b8.prototype.translate=cS("translate");b8.prototype.scale=cS("scale");b8.prototype.pushMatrix=cS("pushMatrix");b8.prototype.popMatrix=cS("popMatrix");b8.prototype.resetMatrix=cS("resetMatrix");b8.prototype.applyMatrix=cS("applyMatrix");b8.prototype.rotate=cS("rotate");b8.prototype.rotateZ=cS("rotateZ");b8.prototype.redraw=cS("redraw");b8.prototype.toImageData=cS("toImageData");b8.prototype.ambientLight=cS("ambientLight");b8.prototype.directionalLight=cS("directionalLight");b8.prototype.lightFalloff=cS("lightFalloff");b8.prototype.lightSpecular=cS("lightSpecular");b8.prototype.pointLight=cS("pointLight");b8.prototype.noLights=cS("noLights");b8.prototype.spotLight=cS("spotLight");b8.prototype.beginCamera=cS("beginCamera");b8.prototype.endCamera=cS("endCamera");b8.prototype.frustum=cS("frustum");b8.prototype.box=cS("box");b8.prototype.sphere=cS("sphere");b8.prototype.ambient=cS("ambient");b8.prototype.emissive=cS("emissive");b8.prototype.shininess=cS("shininess");b8.prototype.specular=cS("specular");b8.prototype.fill=cS("fill");b8.prototype.stroke=cS("stroke");b8.prototype.strokeWeight=cS("strokeWeight");b8.prototype.smooth=cS("smooth");b8.prototype.noSmooth=cS("noSmooth");b8.prototype.point=cS("point");b8.prototype.vertex=cS("vertex");b8.prototype.endShape=cS("endShape");b8.prototype.bezierVertex=cS("bezierVertex");b8.prototype.curveVertex=cS("curveVertex");b8.prototype.curve=cS("curve");b8.prototype.line=cS("line");b8.prototype.bezier=cS("bezier");b8.prototype.rect=cS("rect");b8.prototype.ellipse=cS("ellipse");b8.prototype.background=cS("background");b8.prototype.image=cS("image");b8.prototype.textWidth=cS("textWidth");b8.prototype.text$line=cS("text$line");b8.prototype.$ensureContext=cS("$ensureContext");b8.prototype.$newPMatrix=cS("$newPMatrix");b8.prototype.size=function(d9,eb,ea){cJ(ea===2?"3D":"2D");cU.size(d9,eb,ea)};b8.prototype.$init=D;bN.prototype.$init=function(){cU.size(cU.width,cU.height);d6.lineCap="round";cU.noSmooth();cU.disableContextMenu()};bx.prototype.$init=function(){cU.use3DContext=true};dn.prototype.$ensureContext=function(){return d6};function dv(ea,ec){var eb=ea,d9=0,ed=0;cU.pmouseX=cU.mouseX;cU.pmouseY=cU.mouseY;if(eb.offsetParent){do{d9+=eb.offsetLeft;ed+=eb.offsetTop}while(!!(eb=eb.offsetParent))}eb=ea;do{d9-=eb.scrollLeft||0;ed-=eb.scrollTop||0}while(!!(eb=eb.parentNode));d9+=aa;ed+=dk;d9+=aQ;ed+=bU;d9+=A.pageXOffset;ed+=A.pageYOffset;return{X:d9,Y:ed}}function aF(d9,ea){var eb=dv(d9,ea);cU.mouseX=ea.pageX-eb.X;cU.mouseY=ea.pageY-eb.Y}function cs(ea){var ec=dv(ea.changedTouches[0].target,ea.changedTouches[0]),d9;for(d9=0;d9<ea.touches.length;d9++){var ee=ea.touches[d9];ee.offsetX=ee.pageX-ec.X;ee.offsetY=ee.pageY-ec.Y}for(d9=0;d9<ea.targetTouches.length;d9++){var eb=ea.targetTouches[d9];eb.offsetX=eb.pageX-ec.X;eb.offsetY=eb.pageY-ec.Y}for(d9=0;d9<ea.changedTouches.length;d9++){var ed=ea.changedTouches[d9];ed.offsetX=ed.pageX-ec.X;ed.offsetY=ed.pageY-ec.Y}return ea}bL(ab,"touchstart",function(eb){ab.setAttribute("style","-webkit-user-select: none");ab.setAttribute("onclick","void(0)");ab.setAttribute("style","-webkit-tap-highlight-color:rgba(0,0,0,0)");for(var ea=0,d9=ar.length;ea<d9;ea++){var ec=ar[ea].type;if(ec==="mouseout"||ec==="mousemove"||ec==="mousedown"||ec==="mouseup"||ec==="DOMMouseScroll"||ec==="mousewheel"||ec==="touchstart"){dc(ar[ea])}}if(cU.touchStart!==r||cU.touchMove!==r||cU.touchEnd!==r||cU.touchCancel!==r){bL(ab,"touchstart",function(ed){if(cU.touchStart!==r){ed=cs(ed);cU.touchStart(ed)}});bL(ab,"touchmove",function(ed){if(cU.touchMove!==r){ed.preventDefault();ed=cs(ed);cU.touchMove(ed)}});bL(ab,"touchend",function(ed){if(cU.touchEnd!==r){ed=cs(ed);cU.touchEnd(ed)}});bL(ab,"touchcancel",function(ed){if(cU.touchCancel!==r){ed=cs(ed);cU.touchCancel(ed)}})}else{bL(ab,"touchstart",function(ed){aF(ab,ed.touches[0]);cU.mouseIsPressed=cU.__mousePressed=true;cU.mouseDragging=false;cU.mouseButton=37;if(typeof cU.mousePressed==="function"){cU.mousePressed()}});bL(ab,"touchmove",function(ed){ed.preventDefault();aF(ab,ed.touches[0]);if(typeof cU.mouseMoved==="function"&&!cU.__mousePressed){cU.mouseMoved()}if(typeof cU.mouseDragged==="function"&&cU.__mousePressed){cU.mouseDragged();cU.mouseDragging=true}});bL(ab,"touchend",function(ed){cU.__mousePressed=false;if(typeof cU.mouseClicked==="function"&&!cU.mouseDragging){cU.mouseClicked()}if(typeof cU.mouseReleased==="function"){cU.mouseReleased()}})}ab.dispatchEvent(eb)});(function(){var d9=true,ea=function(eb){eb.preventDefault();eb.stopPropagation()};cU.disableContextMenu=function(){if(!d9){return}bL(ab,"contextmenu",ea);d9=false};cU.enableContextMenu=function(){if(d9){return}dc({elem:ab,type:"contextmenu",fn:ea});d9=true}})();var dN=false;bL(ab,"mousemove",function(d9){if(dN){dN=false}else{aF(ab,d9)}if(typeof cU.mouseMoved==="function"&&!cU.__mousePressed){cU.mouseMoved()}if(typeof cU.mouseDragged==="function"&&cU.__mousePressed){cU.mouseDragged();cU.mouseDragging=true}});bL(ab,"mouseout",function(d9){if(typeof cU.mouseOut==="function"){cU.mouseOut()}});bL(ab,"mouseover",function(d9){dN=true;aF(ab,d9);if(typeof cU.mouseOver==="function"){cU.mouseOver()}});bL(ab,"mousedown",function(d9){cU.mouseIsPressed=cU.__mousePressed=true;cU.mouseDragging=false;switch(d9.which){case 1:cU.mouseButton=37;break;case 2:cU.mouseButton=3;break;case 3:cU.mouseButton=39;break}if(typeof cU.mousePressed==="function"){cU.mousePressed()}});bL(ab,"mouseup",function(d9){cU.__mousePressed=false;if(typeof cU.mouseClicked==="function"&&!cU.mouseDragging){cU.mouseClicked()}if(typeof cU.mouseReleased==="function"){cU.mouseReleased()}});var al=function(d9){var ea=0;if(d9.wheelDelta){ea=d9.wheelDelta/120;if(A.opera){ea=-ea}}else{if(d9.detail){ea=-d9.detail/3}}cU.mouseScroll=ea;if(ea&&typeof cU.mouseScrolled==="function"){cU.mouseScrolled()}};bL(d,"DOMMouseScroll",al);bL(d,"mousewheel",al);if(typeof ab==="string"){ab=d.getElementById(ab)}if(!ab.getAttribute("tabindex")){ab.setAttribute("tabindex",0)}function dA(ea){var d9=ea.which||ea.keyCode;switch(d9){case 13:return 10;case 91:case 93:case 224:return 157;case 57392:return 17;case 46:return 127;case 45:return 155}return d9}function cz(ea){var eb=ea.which||ea.keyCode;var d9=ea.shiftKey||ea.ctrlKey||ea.altKey||ea.metaKey;switch(eb){case 13:eb=d9?13:10;break;case 8:eb=d9?127:8;break}return new bM(eb)}function cP(d9){if(typeof d9.preventDefault==="function"){d9.preventDefault()}else{if(typeof d9.stopPropagation==="function"){d9.stopPropagation()}}return false}function dC(){var d9;for(d9 in ae){if(ae.hasOwnProperty(d9)){cU.keyIsPressed=cU.__keyPressed=true;return}}cU.keyIsPressed=cU.__keyPressed=false}function cv(){cU.keyIsPressed=cU.__keyPressed=false;ae=[];dE=null}function bm(d9,ea){ae[d9]=ea;dE=null;cU.key=ea;cU.keyCode=d9;cU.keyPressed();if(!cU.__usingDebugger){cU.keyCode=0}cU.keyTyped();dC()}function cx(ea){var d9=dA(ea);if(d9===127||d9===8){bm(d9,new bM(d9));return cP(ea)}if(dU.indexOf(d9)<0){dE=d9;return}var eb=new bM(65535);cU.key=eb;cU.keyCode=d9;ae[d9]=eb;cU.keyPressed();dE=null;dC();return cP(ea)}function ds(ea){if(dE===null){return}var d9=dE,eb=cz(ea);bm(d9,eb);return cP(ea)}function cn(ea){var d9=dA(ea),eb=ae[d9];if(eb===r){return}cU.key=eb;cU.keyCode=d9;cU.keyReleased();delete ae[d9];dC()}if(!cT){if(a5 instanceof C.Sketch){cO=a5}else{if(typeof a5==="function"){cO=new C.Sketch(a5)}else{if(!a5){cO=new C.Sketch(function(){})}else{cO=C.compile(a5)}}}cU.externals.sketch=cO;cJ();ab.onfocus=function(){cU.focused=true};ab.onblur=function(){cU.focused=false;if(!cO.options.globalKeyEvents){cv()}};if(cO.options.pauseOnBlur){bL(A,"focus",function(){if(aA){cU.loop()}});bL(A,"blur",function(){if(aA&&av){cU.noLoop();aA=true}cv()})}var aR=cO.options.globalKeyEvents?A:ab;bL(aR,"keydown",cx);bL(aR,"keypress",ds);bL(aR,"keyup",cn);for(var c2 in C.lib){if(C.lib.hasOwnProperty(c2)){if(C.lib[c2].hasOwnProperty("attach")){C.lib[c2].attach(cU)}else{if(C.lib[c2] instanceof Function){C.lib[c2].call(this)}}}}var dy=100;var b4=function(ec){if(!(cO.imageCache.pending||E.preloading.pending(dy))){if(A.opera){var eb,ea,d9=cO.imageCache.operaCache;for(eb in d9){if(d9.hasOwnProperty(eb)){ea=d9[eb];if(ea!==null){d.body.removeChild(ea)}delete d9[eb]}}}cO.attach(ec,g);cO.onLoad(ec);if(ec.setup){ec.setup();ec.resetMatrix();cO.onSetup()}Q();if(ec.draw){if(!aA){ec.redraw()}else{ec.loop()}}}else{A.setTimeout(function(){b4(ec)},dy)}};a(this);b4(cU)}else{cO=new C.Sketch;cJ();cU.size=function(d9,eb,ea){if(ea&&ea===2){cJ("3D")}else{cJ("2D")}cU.size(d9,eb,ea)}}};C.debug=q;C.prototype=g;function s(){var O=["abs","acos","alpha","ambient","ambientLight","append","applyMatrix","arc","arrayCopy","asin","atan","atan2","background","beginCamera","beginDraw","beginShape","bezier","bezierDetail","bezierPoint","bezierTangent","bezierVertex","binary","blend","blendColor","blit_resize","blue","box","breakShape","brightness","camera","ceil","Character","color","colorMode","concat","constrain","copy","cos","createFont","createGraphics","createImage","cursor","curve","curveDetail","curvePoint","curveTangent","curveTightness","curveVertex","day","degrees","directionalLight","disableContextMenu","dist","draw","ellipse","ellipseMode","emissive","enableContextMenu","endCamera","endDraw","endShape","exit","exp","expand","externals","fill","filter","floor","focused","frameCount","frameRate","frustum","get","glyphLook","glyphTable","green","height","hex","hint","hour","hue","image","imageMode","intersect","join","key","keyCode","keyPressed","keyReleased","keyTyped","lerp","lerpColor","lightFalloff","lights","lightSpecular","line","link","loadBytes","loadFont","loadGlyphs","loadImage","loadPixels","loadShape","loadStrings","log","loop","mag","map","match","matchAll","max","millis","min","minute","mix","modelX","modelY","modelZ","modes","month","mouseButton","mouseClicked","mouseDragged","mouseMoved","mouseOut","mouseOver","mousePressed","mouseReleased","mouseScroll","mouseScrolled","mouseX","mouseY","name","nf","nfc","nfp","nfs","noCursor","noFill","noise","noiseDetail","noiseSeed","noLights","noLoop","norm","normal","noSmooth","noStroke","noTint","ortho","param","parseBoolean","parseByte","parseChar","parseFloat","parseInt","peg","perspective","PImage","pixels","PMatrix2D","PMatrix3D","PMatrixStack","pmouseX","pmouseY","point","pointLight","popMatrix","popStyle","pow","print","printCamera","println","printMatrix","printProjection","PShape","PShapeSVG","pushMatrix","pushStyle","quad","radians","random","Random","randomSeed","rect","rectMode","red","redraw","requestImage","resetMatrix","reverse","rotate","rotateX","rotateY","rotateZ","round","saturation","save","saveFrame","saveStrings","scale","screenX","screenY","screenZ","second","set","setup","shape","shapeMode","shared","shininess","shorten","sin","size","smooth","sort","specular","sphere","sphereDetail","splice","split","splitTokens","spotLight","sq","sqrt","status","str","stroke","strokeCap","strokeJoin","strokeWeight","subset","tan","text","textAlign","textAscent","textDescent","textFont","textLeading","textMode","textSize","texture","textureMode","textWidth","tint","toImageData","touchCancel","touchEnd","touchMove","touchStart","translate","triangle","trim","unbinary","unhex","updatePixels","use3DContext","vertex","width","XMLElement","year","__contains","__equals","__equalsIgnoreCase","__frameRate","__hashCode","__int_cast","mouseIsPressed","keyIsPressed","__instanceof","__keyPressed","__mousePressed","__printStackTrace","__replace","__replaceAll","__replaceFirst","__toCharArray","__split","__codePointAt","__startsWith","__endsWith"];var M={};var N,L;for(N=0,L=O.length;N<L;++N){M[O[N]]=null}for(var P in C.lib){if(C.lib.hasOwnProperty(P)){if(C.lib[P].exports){var K=C.lib[P].exports;for(N=0,L=K.length;N<L;++N){M[K[N]]=null}}}}return M}function c(ao){var aU=s();function aB(bn){var bq=[];var bs=bn.split(/([\{\[\(\)\]\}])/);var bv=bs[0];var bt=[];for(var bp=1;bp<bs.length;bp+=2){var bu=bs[bp];if(bu==="["||bu==="{"||bu==="("){bt.push(bv);bv=bu}else{if(bu==="]"||bu==="}"||bu===")"){var bo=bu==="}"?"A":bu===")"?"B":"C";var br=bq.length;bq.push(bv+bu);bv=bt.pop()+'"'+bo+(br+1)+'"'}}bv+=bs[bp+1]}bq.unshift(bv);return bq}function ag(bo,bn){return bo.replace(/'(\d+)'/g,function(bq,bp){var br=bn[bp];if(br.charAt(0)==="/"){return br}return/^'((?:[^'\\\n])|(?:\\.[0-9A-Fa-f]*))'$/.test(br)?"(new $p.Character("+br+"))":br})}function aM(bq){var bp=/^\s*/.exec(bq),bn;if(bp[0].length===bq.length){bn={left:bp[0],middle:"",right:""}}else{var bo=/\s*$/.exec(bq);bn={left:bp[0],middle:bq.substring(bp[0].length,bo.index),right:bo[0]}}bn.untrim=function(br){return this.left+br+this.right};return bn}function a3(bn){return bn.replace(/^\s+/,"").replace(/\s+$/,"")}function ar(bp,bq){for(var bo=0,bn=bq.length;bo<bn;++bo){bp[bq[bo]]=null}return bp}function a7(bo){for(var bn in bo){if(bo.hasOwnProperty(bn)){return false}}return true}function aN(bn){return bn.substring(2,bn.length-1)}var bd=ao.replace(/\r\n?|\n\r/g,"\n");var K=[];var a0=bd.replace(/("(?:[^"\\\n]|\\.)*")|('(?:[^'\\\n]|\\.)*')|(([\[\(=|&!\^:?]\s*)(\/(?![*\/])(?:[^\/\\\n]|\\.)*\/[gim]*)\b)|(\/\/[^\n]*\n)|(\/\*(?:(?!\*\/)(?:.|\n))*\*\/)/g,function(bv,bo,bs,bt,bq,bu,bn,bp){var br;if(bo||bs){br=K.length;K.push(bv);return"'"+br+"'"}if(bt){br=K.length;K.push(bu);return bq+"'"+br+"'"}return bp!==""?" ":"\n"});var W;var ax=a0;var X=function(bo,bp,bn,bq){if(!!bp||!!bq){return bo}W=true;return""};do{W=false;ax=ax.replace(/([<]?)<\s*((?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?(?:\s*,\s*(?:\?|[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s+(?:extends|super)\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)?)*)\s*>([=]?)/g,X)}while(W);var bh=aB(ax);var ai;var aG={},a6,aw=0;function a9(bo,bn){var bp=bh.length;bh.push(bo);return'"'+bn+bp+'"'}function a4(){return"class"+ ++aw}function bi(bo,bp,bn){bo.classId=bp;bo.scopeId=bn;aG[bp]=bo}var S,P,am,aS,bf,aW;var L=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)(class|interface)\s+([A-Za-z_$][\w$]*\b)(\s+extends\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?(\s+implements\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\b)*)?\s*("A\d+")/g;var a8=/\b((?:(?:public|private|final|protected|static|abstract|synchronized)\s+)*)((?!(?:else|new|return|throw|function|public|private|protected)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+"|;)/g;var aJ=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:else|new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*([A-Za-z_$][\w$]*\b)\s*(?:"C\d+"\s*)*([=,]|$)/;var bj=/\b((?:(?:public|private|final|protected|static|abstract)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b)\s*("B\d+")(\s*throws\s+[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*,\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)*)?\s*("A\d+")/g;var T=/^((?:(?:public|private|final|protected|static)\s+)*)((?!(?:new|return|throw)\b)[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*(?:\s*"C\d+")*)\s*/;var aq=/\bfunction(?:\s+([A-Za-z_$][\w$]*))?\s*("B\d+")\s*("A\d+")/g;function ab(bo){var bn=bo;bn=bn.replace(L,function(bp){return a9(bp,"E")});bn=bn.replace(a8,function(bp){return a9(bp,"D")});bn=bn.replace(aq,function(bp){return a9(bp,"H")});return bn}function ba(bp,bo){var bn=bp.replace(bj,function(bu,br,bs,bv,bt,bq){if(bs!==bo){return bu}return a9(bu,"G")});return bn}function aE(bn){this.name=bn}aE.prototype.toString=function(){return this.name};function al(bn){this.params=bn}al.prototype.getNames=function(){var bp=[];for(var bo=0,bn=this.params.length;bo<bn;++bo){bp.push(this.params[bo].name)}return bp};al.prototype.toString=function(){if(this.params.length===0){return"()"}var bn="(";for(var bp=0,bo=this.params.length;bp<bo;++bp){bn+=this.params[bp]+", "}return bn.substring(0,bn.length-2)+")"};function aA(bs){var bq=a3(bs.substring(1,bs.length-1));var bn=[];if(bq!==""){var bo=bq.split(",");for(var bp=0;bp<bo.length;++bp){var br=/\b([A-Za-z_$][\w$]*\b)(\s*"[ABC][\d]*")*\s*$/.exec(bo[bp]);bn.push(new aE(br[1]))}}return new al(bn)}function an(br){var bq=br;bq=bq.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"C\d+")+\s*("A\d+")/g,function(bt,bs,bu){return bu});bq=bq.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)(?:\s*"B\d+")\s*("A\d+")/g,function(bt,bs,bu){return a9(bt,"F")});bq=bq.replace(aq,function(bs){return a9(bs,"H")});bq=bq.replace(/\bnew\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*("C\d+"(?:\s*"C\d+")*)/g,function(bx,bw,bu){var bt=bu.replace(/"C(\d+)"/g,function(bz,by){return bh[by]}).replace(/\[\s*\]/g,"[null]").replace(/\s*\]\s*\[\s*/g,", ");var bv="{"+bt.substring(1,bt.length-1)+"}";var bs="('"+bw+"', "+a9(bv,"A")+")";return"$p.createJavaArray"+a9(bs,"B")});bq=bq.replace(/(\.\s*length)\s*"B\d+"/g,"$1");bq=bq.replace(/#([0-9A-Fa-f]{6})\b/g,function(bs,bt){return"0xFF"+bt});bq=bq.replace(/"B(\d+)"(\s*(?:[\w$']|"B))/g,function(bv,bt,bu){var bw=bh[bt];if(!/^\(\s*[A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*\s*(?:"C\d+"\s*)*\)$/.test(bw)){return bv}if(/^\(\s*int\s*\)$/.test(bw)){return"(int)"+bu}var bs=bw.split(/"C(\d+)"/g);if(bs.length>1){if(!/^\[\s*\]$/.test(bh[bs[1]])){return bv}}return""+bu});bq=bq.replace(/\(int\)([^,\]\)\}\?\:\*\+\-\/\^\|\%\&\~<\>\=]+)/g,function(bt,bs){var bu=aM(bs);return bu.untrim("__int_cast("+bu.middle+")")});bq=bq.replace(/\bsuper(\s*"B\d+")/g,"$$superCstr$1").replace(/\bsuper(\s*\.)/g,"$$super$1");bq=bq.replace(/\b0+((\d*)(?:\.[\d*])?(?:[eE][\-\+]?\d+)?[fF]?)\b/,function(bu,bt,bs){if(bt===bs){return bu}return bs===""?"0"+bt:bt});bq=bq.replace(/\b(\.?\d+\.?)[fF]\b/g,"$1");bq=bq.replace(/([^\s])%([^=\s])/g,"$1 % $2");bq=bq.replace(/\b(frameRate|keyPressed|mousePressed)\b(?!\s*"B)/g,"__$1");bq=bq.replace(/\b(boolean|byte|char|float|int)\s*"B/g,function(bt,bs){return"parse"+bs.substring(0,1).toUpperCase()+bs.substring(1)+'"B'});bq=bq.replace(/\bpixels\b\s*(("C(\d+)")|\.length)?(\s*=(?!=)([^,\]\)\}]+))?/g,function(bt,bx,bs,bw,bv,by){if(bs){var bu=bh[bw];if(bv){return"pixels.setPixel"+a9("("+bu.substring(1,bu.length-1)+","+by+")","B")}return"pixels.getPixel"+a9("("+bu.substring(1,bu.length-1)+")","B")}if(bx){return"pixels.getLength"+a9("()","B")}if(bv){return"pixels.set"+a9("("+by+")","B")}return"pixels.toArray"+a9("()","B")});var bp;function bo(bt,bs,bx,bv){var bu=bh[bv];bp=true;var bw=aM(bu.substring(1,bu.length-1));return"__"+bx+(bw.middle===""?a9("("+bs.replace(/\.\s*$/,"")+")","B"):a9("("+bs.replace(/\.\s*$/,"")+","+bw.middle+")","B"))}do{bp=false;bq=bq.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*\.\s*(?:[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*\.\s*)*)(replace|replaceAll|replaceFirst|contains|equals|equalsIgnoreCase|hashCode|toCharArray|printStackTrace|split|startsWith|endsWith|codePointAt)\s*"B(\d+)"/g,bo)}while(bp);function bn(bu,bs,bt){bp=true;return"__instanceof"+a9("("+bs+", "+bt+")","B")}do{bp=false;bq=bq.replace(/((?:'\d+'|\b[A-Za-z_$][\w$]*\s*(?:"[BC]\d+")*)\s*(?:\.\s*[A-Za-z_$][\w$]*\s*(?:"[BC]\d+"\s*)*)*)instanceof\s+([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)/g,bn)}while(bp);bq=bq.replace(/\bthis(\s*"B\d+")/g,"$$constr$1");return bq}function az(bo,bn){this.baseInterfaceName=bo;this.body=bn;bn.owner=this}az.prototype.toString=function(){return"new ("+this.body+")"};function af(bp){var bo=(new RegExp(/\bnew\s*([A-Za-z_$][\w$]*\s*(?:\.\s*[A-Za-z_$][\w$]*)*)\s*"B\d+"\s*"A(\d+)"/)).exec(bp);var bs=a6,br=a4();a6=br;var bn=bo[1]+"$"+br;var bq=new az(bn,S(bh[bo[2]],bn,"","implements "+bo[1]));bi(bq,br,bs);a6=bs;return bq}function ac(bo,bp,bn){this.name=bo;this.params=bp;this.body=bn}ac.prototype.toString=function(){var bo=ai;var bp=ar({"this":null},this.params.getNames());ai=function(bq){return bp.hasOwnProperty(bq.name)?bq.name:bo(bq)};var bn="function";if(this.name){bn+=" "+this.name}bn+=this.params+" "+this.body;ai=bo;return bn};function aH(bo){var bn=(new RegExp(/\b([A-Za-z_$][\w$]*)\s*"B(\d+)"\s*"A(\d+)"/)).exec(bo);return new ac(bn[1]!=="function"?bn[1]:null,aA(bh[bn[2]]),am(bh[bn[3]]))}function aa(bn){this.members=bn}aa.prototype.toString=function(){var bp=ai;ai=function(br){return br.name==="this"?"this":bp(br)};var bn="";for(var bq=0,bo=this.members.length;bq<bo;++bq){if(this.members[bq].label){bn+=this.members[bq].label+": "}bn+=this.members[bq].value.toString()+", "}ai=bp;return bn.substring(0,bn.length-2)};function aC(bq){var bn=bq.split(",");for(var bp=0;bp<bn.length;++bp){var bo=bn[bp].indexOf(":");if(bo<0){bn[bp]={value:aW(bn[bp])}}else{bn[bp]={label:a3(bn[bp].substring(0,bo)),value:aW(a3(bn[bp].substring(bo+1)))}}}return new aa(bn)}function av(bp){if(bp.charAt(0)==="("||bp.charAt(0)==="["){return bp.charAt(0)+av(bp.substring(1,bp.length-1))+bp.charAt(bp.length-1)}if(bp.charAt(0)==="{"){if(/^\{\s*(?:[A-Za-z_$][\w$]*|'\d+')\s*:/.test(bp)){return"{"+a9(bp.substring(1,bp.length-1),"I")+"}"}return"["+av(bp.substring(1,bp.length-1))+"]"}var bo=aM(bp);var bn=an(bo.middle);bn=bn.replace(/"[ABC](\d+)"/g,function(br,bq){return av(bh[bq])});return bo.untrim(bn)}function O(bn){return bn.replace(/(\.\s*)?((?:\b[A-Za-z_]|\$)[\w$]*)(\s*\.\s*([A-Za-z_$][\w$]*)(\s*\()?)?/g,function(bq,bs,bo,bu,bt,br){if(bs){return bq}var bp={name:bo,member:bt,callSign:!!br};return ai(bp)+(bu===r?"":bu)})}function bm(bo,bn){this.expr=bo;this.transforms=bn}bm.prototype.toString=function(){var bn=this.transforms;var bo=O(this.expr);return bo.replace(/"!(\d+)"/g,function(bq,bp){return bn[bp].toString()})};aW=function(bp){var bo=[];var bn=av(bp);bn=bn.replace(/"H(\d+)"/g,function(br,bq){bo.push(aH(bh[bq]));return'"!'+(bo.length-1)+'"'});bn=bn.replace(/"F(\d+)"/g,function(br,bq){bo.push(af(bh[bq]));return'"!'+(bo.length-1)+'"'});bn=bn.replace(/"I(\d+)"/g,function(br,bq){bo.push(aC(bh[bq]));return'"!'+(bo.length-1)+'"'});return new bm(bn,bo)};function a1(bn,bp,bo){this.name=bn;this.value=bp;this.isDefault=bo}a1.prototype.toString=function(){return this.name+" = "+this.value};function ah(br,bo){var bs=br.indexOf("=");var bn,bq,bp;if(bs<0){bn=br;bq=bo;bp=true}else{bn=br.substring(0,bs);bq=aW(br.substring(bs+1));bp=false}return new a1(a3(bn.replace(/(\s*"C\d+")+/g,"")),bq,bp)}function aQ(bn){if(bn==="int"||bn==="float"){return"0"}if(bn==="boolean"){return"false"}if(bn==="color"){return"0x00000000"}return"null"}function aF(bo,bn){this.definitions=bo;this.varType=bn}aF.prototype.getNames=function(){var bp=[];for(var bo=0,bn=this.definitions.length;bo<bn;++bo){bp.push(this.definitions[bo].name)}return bp};aF.prototype.toString=function(){return"var "+this.definitions.join(",")};function ae(bn){this.expression=bn}ae.prototype.toString=function(){return this.expression.toString()};function bk(br){if(aJ.test(br)){var bq=T.exec(br);var bp=br.substring(bq[0].length).split(",");var bn=aQ(bq[2]);for(var bo=0;bo<bp.length;++bo){bp[bo]=ah(bp[bo],bn)}return new aF(bp,bq[2])}return new ae(aW(br))}function aY(bn,bp,bo){this.initStatement=bn;this.condition=bp;this.step=bo}aY.prototype.toString=function(){return"("+this.initStatement+"; "+this.condition+"; "+this.step+")"};function aP(bo,bn){this.initStatement=bo;this.container=bn}aP.prototype.toString=function(){var bn=this.initStatement.toString();if(bn.indexOf("=")>=0){bn=bn.substring(0,bn.indexOf("="))}return"("+bn+" in "+this.container+")"};function aV(bo,bn){this.initStatement=bo;this.container=bn}aV.iteratorId=0;aV.prototype.toString=function(){var br=this.initStatement.toString();var bo="$it"+aV.iteratorId++;var bq=br.replace(/^\s*var\s*/,"").split("=")[0];var bp="var "+bo+" = new $p.ObjectIterator("+this.container+"), "+bq+" = void(0)";var bn=bo+".hasNext() && (("+bq+" = "+bo+".next()) || true)";return"("+bp+"; "+bn+";)"};function V(bo){var bn;if(/\bin\b/.test(bo)){bn=bo.substring(1,bo.length-1).split(/\bin\b/g);return new aP(bk(a3(bn[0])),aW(bn[1]))}if(bo.indexOf(":")>=0&&bo.indexOf(";")<0){bn=bo.substring(1,bo.length-1).split(":");return new aV(bk(a3(bn[0])),aW(bn[1]))}bn=bo.substring(1,bo.length-1).split(";");return new aY(bk(a3(bn[0])),aW(bn[1]),aW(bn[2]))}function aZ(bn){bn.sort(function(bp,bo){return bo.weight-bp.weight})}function Y(bp,bn,bo){this.name=bp;this.body=bn;this.isStatic=bo;bn.owner=this}Y.prototype.toString=function(){return""+this.body};function ak(bp,bn,bo){this.name=bp;this.body=bn;this.isStatic=bo;bn.owner=this}ak.prototype.toString=function(){return""+this.body};function Q(bp){var bo=L.exec(bp);L.lastIndex=0;var bq=bo[1].indexOf("static")>=0;var bn=bh[aN(bo[6])],bs;var bt=a6,br=a4();a6=br;if(bo[2]==="interface"){bs=new Y(bo[3],P(bn,bo[3],bo[4]),bq)}else{bs=new ak(bo[3],S(bn,bo[3],bo[4],bo[5]),bq)}bi(bs,br,bt);a6=bt;return bs}function Z(bp,bq,bn,bo){this.name=bp;this.params=bq;this.body=bn;this.isStatic=bo}Z.prototype.toString=function(){var bp=ar({},this.params.getNames());var bo=ai;ai=function(bq){return bp.hasOwnProperty(bq.name)?bq.name:bo(bq)};var bn="function "+this.methodId+this.params+" "+this.body+"\n";ai=bo;return bn};function M(bq){var bo=a8.exec(bq);a8.lastIndex=0;var bp=bo[1].indexOf("static")>=0;var bn=bo[6]!==";"?bh[aN(bo[6])]:"{}";return new Z(bo[3],aA(bh[aN(bo[4])]),am(bn),bp)}function aj(bp,bo,bn){this.definitions=bp;this.fieldType=bo;this.isStatic=bn}aj.prototype.getNames=function(){var bp=[];for(var bo=0,bn=this.definitions.length;bo<bn;++bo){bp.push(this.definitions[bo].name)}return bp};aj.prototype.toString=function(){var bu=ai({name:"[this]"});if(this.isStatic){var bt=this.owner.name;var br=[];for(var bs=0,bq=this.definitions.length;bs<bq;++bs){var bp=this.definitions[bs];var bn=bp.name,bv=bt+"."+bn;var bo="if("+bv+" === void(0)) {\n "+bv+" = "+bp.value+"; }\n$p.defineProperty("+bu+", '"+bn+"', { get: function(){return "+bv+";}, set: function(val){"+bv+" = val;} });\n";br.push(bo)}return br.join("")}return bu+"."+this.definitions.join("; "+bu+".")};function bc(bs){var br=T.exec(bs);var bn=br[1].indexOf("static")>=0;var bq=bs.substring(br[0].length).split(/,\s*/g);var bo=aQ(br[2]);for(var bp=0;bp<bq.length;++bp){bq[bp]=ah(bq[bp],bo)}return new aj(bq,br[2],bn)}function aK(bo,bn){this.params=bo;this.body=bn}aK.prototype.toString=function(){var bq=ar({},this.params.getNames());var bo=ai;ai=function(br){return bq.hasOwnProperty(br.name)?br.name:bo(br)};var bp="function $constr_"+this.params.params.length+this.params.toString();var bn=this.body.toString();if(!/\$(superCstr|constr)\b/.test(bn)){bn="{\n$superCstr();\n"+bn.substring(1)}ai=bo;return bp+bn+"\n"};function ap(bp){var bn=(new RegExp(/"B(\d+)"\s*"A(\d+)"/)).exec(bp);var bo=aA(bh[bn[1]]);return new aK(bo,am(bh[bn[2]]))}function aL(bp,bs,br,bn,bt,bu){var bq,bo;this.name=bp;this.interfacesNames=bs;this.methodsNames=br;this.fields=bn;this.innerClasses=bt;this.misc=bu;for(bq=0,bo=bn.length;bq<bo;++bq){bn[bq].owner=this}}aL.prototype.getMembers=function(bu,bn,bs){if(this.owner.base){this.owner.base.body.getMembers(bu,bn,bs)}var br,bq,bp,bo;for(br=0,bp=this.fields.length;br<bp;++br){var bw=this.fields[br].getNames();for(bq=0,bo=bw.length;bq<bo;++bq){bu[bw[bq]]=this.fields[br]}}for(br=0,bp=this.methodsNames.length;br<bp;++br){var bt=this.methodsNames[br];bn[bt]=true}for(br=0,bp=this.innerClasses.length;br<bp;++br){var bv=this.innerClasses[br];bs[bv.name]=bv}};aL.prototype.toString=function(){function bo(bE){var bD=0;while(bE){++bD;bE=bE.scope}return bD}var bx=bo(this.owner);var by=this.name;var bu="";var bz="";var bB={},bw={},bv={};this.getMembers(bB,bw,bv);var bt,br,bs,bq;if(this.owner.interfaces){var bn=[],bp;for(bt=0,br=this.interfacesNames.length;bt<br;++bt){if(!this.owner.interfaces[bt]){continue}bp=ai({name:this.interfacesNames[bt]});bn.push(bp);bu+="$p.extendInterfaceMembers("+by+", "+bp+");\n"}bz+=by+".$interfaces = ["+bn.join(", ")+"];\n"}bz+=by+".$isInterface = true;\n";bz+=by+".$methods = ['"+this.methodsNames.join("', '")+"'];\n";aZ(this.innerClasses);for(bt=0,br=this.innerClasses.length;bt<br;++bt){var bC=this.innerClasses[bt];if(bC.isStatic){bu+=by+"."+bC.name+" = "+bC+";\n"}}for(bt=0,br=this.fields.length;bt<br;++bt){var bA=this.fields[bt];if(bA.isStatic){bu+=by+"."+bA.definitions.join(";\n"+by+".")+";\n"}}return"(function() {\nfunction "+by+"() { throw 'Unable to create the interface'; }\n"+bu+bz+"return "+by+";\n})()"};P=function(bt,bo,by){var bz=bt.substring(1,bt.length-1);bz=ab(bz);bz=ba(bz,bo);var bw=[],bq=[];bz=bz.replace(/"([DE])(\d+)"/g,function(bC,bB,bA){if(bB==="D"){bw.push(bA)}else{if(bB==="E"){bq.push(bA)}}return""});var bu=bz.split(/;(?:\s*;)*/g);var br;var bs,bp;if(by!==r){br=by.replace(/^\s*extends\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)}for(bs=0,bp=bw.length;bs<bp;++bs){var bn=M(bh[bw[bs]]);bw[bs]=bn.name}for(bs=0,bp=bu.length-1;bs<bp;++bs){var bx=aM(bu[bs]);bu[bs]=bc(bx.middle)}var bv=bu.pop();for(bs=0,bp=bq.length;bs<bp;++bs){bq[bs]=Q(bh[bq[bs]])}return new aL(bo,br,bw,bu,bq,{tail:bv})};function ay(bo,bv,bu,bt,bp,bw,bx,br,bn){var bs,bq;this.name=bo;this.baseClassName=bv;this.interfacesNames=bu;this.functions=bt;this.methods=bp;this.fields=bw;this.cstrs=bx;this.innerClasses=br;this.misc=bn;for(bs=0,bq=bw.length;bs<bq;++bs){bw[bs].owner=this}}ay.prototype.getMembers=function(bu,bo,bt){if(this.owner.base){this.owner.base.body.getMembers(bu,bo,bt)}var bs,br,bq,bp;for(bs=0,bq=this.fields.length;bs<bq;++bs){var bw=this.fields[bs].getNames();for(br=0,bp=bw.length;br<bp;++br){bu[bw[br]]=this.fields[bs]}}for(bs=0,bq=this.methods.length;bs<bq;++bs){var bn=this.methods[bs];bo[bn.name]=bn}for(bs=0,bq=this.innerClasses.length;bs<bq;++bs){var bv=this.innerClasses[bs];bt[bv.name]=bv}};ay.prototype.toString=function(){function bI(bQ){var bP=0;while(bQ){++bP;bQ=bQ.scope}return bP}var by=bI(this.owner);var bB="$this_"+by;var bp=this.name;var bu="var "+bB+" = this;\n";var bC="";var bw="";var bN={},bO={},bE={};this.getMembers(bN,bO,bE);var bM=ai;ai=function(bQ){var bP=bQ.name;if(bP==="this"){return bQ.callSign||!bQ.member?bB+".$self":bB}if(bN.hasOwnProperty(bP)){return bN[bP].isStatic?bp+"."+bP:bB+"."+bP}if(bE.hasOwnProperty(bP)){return bB+"."+bP}if(bO.hasOwnProperty(bP)){return bO[bP].isStatic?bp+"."+bP:bB+".$self."+bP}return bM(bQ)};var bx;if(this.baseClassName){bx=bM({name:this.baseClassName});bu+="var $super = { $upcast: "+bB+" };\n";bu+="function $superCstr(){"+bx+".apply($super,arguments);if(!('$self' in $super)) $p.extendClassChain($super)}\n";bw+=bp+".$base = "+bx+";\n"}else{bu+="function $superCstr(){$p.extendClassChain("+bB+")}\n"}if(this.owner.base){bC+="$p.extendStaticMembers("+bp+", "+bx+");\n"}var bH,bF,bG,bD;if(this.owner.interfaces){var bt=[],bn;for(bH=0,bF=this.interfacesNames.length;bH<bF;++bH){if(!this.owner.interfaces[bH]){continue}bn=bM({name:this.interfacesNames[bH]});bt.push(bn);bC+="$p.extendInterfaceMembers("+bp+", "+bn+");\n"}bw+=bp+".$interfaces = ["+bt.join(", ")+"];\n"}if(this.functions.length>0){bu+=this.functions.join("\n")+"\n"}aZ(this.innerClasses);for(bH=0,bF=this.innerClasses.length;bH<bF;++bH){var bA=this.innerClasses[bH];if(bA.isStatic){bC+=bp+"."+bA.name+" = "+bA+";\n";bu+=bB+"."+bA.name+" = "+bp+"."+bA.name+";\n"}else{bu+=bB+"."+bA.name+" = "+bA+";\n"}}for(bH=0,bF=this.fields.length;bH<bF;++bH){var bo=this.fields[bH];if(bo.isStatic){bC+=bp+"."+bo.definitions.join(";\n"+bp+".")+";\n";for(bG=0,bD=bo.definitions.length;bG<bD;++bG){var br=bo.definitions[bG].name,bv=bp+"."+br;bu+="$p.defineProperty("+bB+", '"+br+"', {get: function(){return "+bv+"}, set: function(val){"+bv+" = val}});\n"}}else{bu+=bB+"."+bo.definitions.join(";\n"+bB+".")+";\n"}}var bz={};for(bH=0,bF=this.methods.length;bH<bF;++bH){var bq=this.methods[bH];var bK=bz[bq.name];var bs=bq.name+"$"+bq.params.params.length;if(bK){++bK;bs+="_"+bK}else{bK=1}bq.methodId=bs;bz[bq.name]=bK;if(bq.isStatic){bC+=bq;bC+="$p.addMethod("+bp+", '"+bq.name+"', "+bs+");\n";bu+="$p.addMethod("+bB+", '"+bq.name+"', "+bs+");\n"}else{bu+=bq;bu+="$p.addMethod("+bB+", '"+bq.name+"', "+bs+");\n"}}bu+=a3(this.misc.tail);if(this.cstrs.length>0){bu+=this.cstrs.join("\n")+"\n"}bu+="function $constr() {\n";var bL=[];for(bH=0,bF=this.cstrs.length;bH<bF;++bH){var bJ=this.cstrs[bH].params.params.length;bL.push("if(arguments.length === "+bJ+") { $constr_"+bJ+".apply("+bB+", arguments); }")}if(bL.length>0){bu+=bL.join(" else ")+" else "}bu+="$superCstr();\n}\n";bu+="$constr.apply(null, arguments);\n";ai=bM;return"(function() {\nfunction "+bp+"() {\n"+bu+"}\n"+bC+bw+"return "+bp+";\n})()"};S=function(bw,bo,bn,bz){var bB=bw.substring(1,bw.length-1);bB=ab(bB);bB=ba(bB,bo);var bp=[],bq=[],bA=[],bt=[];bB=bB.replace(/"([DEGH])(\d+)"/g,function(bE,bD,bC){if(bD==="D"){bp.push(bC)}else{if(bD==="E"){bq.push(bC)}else{if(bD==="H"){bt.push(bC)}else{bA.push(bC)}}}return""});var bv=bB.replace(/^(?:\s*;)+/,"").split(/;(?:\s*;)*/g);var bu,bs;var br;if(bn!==r){bu=bn.replace(/^\s*extends\s+([A-Za-z_$][\w$]*\b(?:\s*\.\s*[A-Za-z_$][\w$]*\b)*)\s*$/g,"$1")}if(bz!==r){bs=bz.replace(/^\s*implements\s+(.+?)\s*$/g,"$1").split(/\s*,\s*/g)}for(br=0;br<bt.length;++br){bt[br]=aH(bh[bt[br]])}for(br=0;br<bp.length;++br){bp[br]=M(bh[bp[br]])}for(br=0;br<bv.length-1;++br){var by=aM(bv[br]);bv[br]=bc(by.middle)}var bx=bv.pop();for(br=0;br<bA.length;++br){bA[br]=ap(bh[bA[br]])}for(br=0;br<bq.length;++br){bq[br]=Q(bh[bq[br]])}return new ay(bo,bu,bs,bt,bp,bv,bA,bq,{tail:bx})};function at(bo,bn){this.name=bo;this.body=bn;bn.owner=this}at.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};function a2(bo,bn){this.name=bo;this.body=bn;bn.owner=this}a2.prototype.toString=function(){return"var "+this.name+" = "+this.body+";\n$p."+this.name+" = "+this.name+";\n"};function bl(bp){var bo=L.exec(bp);L.lastIndex=0;var bn=bh[aN(bo[6])];var bs=a6,bq=a4();a6=bq;var br;if(bo[2]==="interface"){br=new at(bo[3],P(bn,bo[3],bo[4]))}else{br=new a2(bo[3],S(bn,bo[3],bo[4],bo[5]))}bi(br,bq,bs);a6=bs;return br}function aO(bo,bp,bn){this.name=bo;this.params=bp;this.body=bn}aO.prototype.toString=function(){var bp=ar({},this.params.getNames());var bo=ai;ai=function(bq){return bp.hasOwnProperty(bq.name)?bq.name:bo(bq)};var bn="function "+this.name+this.params+" "+this.body+"\n$p."+this.name+" = "+this.name+";";ai=bo;return bn};function aT(bp){var bo=a8.exec(bp);var bn=a8.lastIndex=0;return new aO(bo[3],aA(bh[aN(bo[4])]),am(bh[aN(bo[6])]))}function ad(bn){var bo=bn;bo=bo.replace(/\b(catch\s*"B\d+"\s*"A\d+")(\s*catch\s*"B\d+"\s*"A\d+")+/g,"$1");return bo}function aR(bn,bo){this.argument=bn;this.misc=bo}aR.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};function N(bn,bo){this.argument=bn;this.misc=bo}N.prototype.toString=function(){return this.misc.prefix+this.argument.toString()};function au(bn,bo,bp){this.name=bn;this.argument=bo;this.misc=bp}au.prototype.toString=function(){var bn=this.misc.prefix;if(this.argument!==r){bn+=this.argument.toString()}return bn};function aI(bn){this.expr=bn}aI.prototype.toString=function(){return"case "+this.expr+":"};function U(bn){this.label=bn}U.prototype.toString=function(){return this.label};aS=function(bv,bw,bp){var bA=new RegExp(/\b(catch|for|if|switch|while|with)\s*"B(\d+)"|\b(do|else|finally|return|throw|try|break|continue)\b|("[ADEH](\d+)")|\b(case)\s+([^:]+):|\b([A-Za-z_$][\w$]*\s*:)|(;)/g);var bx=[];bv=ad(bv);var bu=0,bq,bo;while((bq=bA.exec(bv))!==null){if(bq[1]!==r){var bt=bv.lastIndexOf('"B',bA.lastIndex);var bz=bv.substring(bu,bt);if(bq[1]==="for"){bx.push(new aR(V(bh[bq[2]]),{prefix:bz}))}else{if(bq[1]==="catch"){bx.push(new N(aA(bh[bq[2]]),{prefix:bz}))}else{bx.push(new au(bq[1],aW(bh[bq[2]]),{prefix:bz}))}}}else{if(bq[3]!==r){bx.push(new au(bq[3],r,{prefix:bv.substring(bu,bA.lastIndex)}))}else{if(bq[4]!==r){bo=bv.substring(bu,bA.lastIndex-bq[4].length);if(a3(bo).length!==0){continue}bx.push(bo);var br=bq[4].charAt(1),bn=bq[5];if(br==="D"){bx.push(bw(bh[bn]))}else{if(br==="E"){bx.push(bp(bh[bn]))}else{if(br==="H"){bx.push(aH(bh[bn]))}else{bx.push(am(bh[bn]))}}}}else{if(bq[6]!==r){bx.push(new aI(aW(a3(bq[7]))))}else{if(bq[8]!==r){bo=bv.substring(bu,bA.lastIndex-bq[8].length);if(a3(bo).length!==0){continue}bx.push(new U(bv.substring(bu,bA.lastIndex)))}else{var by=aM(bv.substring(bu,bA.lastIndex-1));bx.push(by.left);bx.push(bk(by.middle));bx.push(by.right+";")}}}}}bu=bA.lastIndex}var bs=aM(bv.substring(bu));bx.push(bs.left);if(bs.middle!==""){bx.push(bk(bs.middle));bx.push(";"+bs.right)}return bx};function bb(bo){var bp=[];for(var bq=0,bn=bo.length;bq<bn;++bq){var br=bo[bq];if(br instanceof aF){bp=bp.concat(br.getNames())}else{if(br instanceof aR&&br.argument.initStatement instanceof aF){bp=bp.concat(br.argument.initStatement.getNames())}else{if(br instanceof Y||br instanceof ak||br instanceof at||br instanceof a2||br instanceof aO||br instanceof ac){bp.push(br.name)}}}}return ar({},bp)}function R(bn){this.statements=bn}R.prototype.toString=function(){var bp=bb(this.statements);var bo=ai;if(!a7(bp)){ai=function(bq){return bp.hasOwnProperty(bq.name)?bq.name:bo(bq)}}var bn="{\n"+this.statements.join("")+"\n}";ai=bo;return bn};am=function(bo){var bn=aM(bo.substring(1,bo.length-1));return new R(aS(bn.middle))};function aD(bn){this.statements=bn}aD.prototype.toString=function(){var br=[],bs=[],bt;for(var bq=0,bo=this.statements.length;bq<bo;++bq){bt=this.statements[bq];if(bt instanceof a2||bt instanceof at){br.push(bt)}else{bs.push(bt)}}aZ(br);var bp=bb(this.statements);ai=function(bv){var bu=bv.name;if(bp.hasOwnProperty(bu)){return bu}if(aU.hasOwnProperty(bu)||y.hasOwnProperty(bu)||g.hasOwnProperty(bu)){return"$p."+bu}return bu};var bn="// this code was autogenerated from PJS\n(function($p) {\n"+br.join("")+"\n"+bs.join("")+"\n})";ai=null;return bn};bf=function(){var bn=ab(bh[0]);bn=bn.replace(/\bimport\s+[^;]+;/g,"");return new aD(aS(bn,aT,bl))};function bg(bn){var br={};var bp,bv;for(bp in aG){if(aG.hasOwnProperty(bp)){bv=aG[bp];var bB=bv.scopeId,bo=bv.name;if(bB){var bA=aG[bB];bv.scope=bA;if(bA.inScope===r){bA.inScope={}}bA.inScope[bo]=bv}else{br[bo]=bv}}}function by(bC,bF){var bI=bF.split(".");var bE=bC.scope,bH;while(bE){if(bE.hasOwnProperty(bI[0])){bH=bE[bI[0]];break}bE=bE.scope}if(bH===r){bH=br[bI[0]]}for(var bG=1,bD=bI.length;bG<bD&&bH;++bG){bH=bH.inScope[bI[bG]]}return bH}for(bp in aG){if(aG.hasOwnProperty(bp)){bv=aG[bp];var bu=bv.body.baseClassName;if(bu){var bx=by(bv,bu);if(bx){bv.base=bx;if(!bx.derived){bx.derived=[]}bx.derived.push(bv)}}var bt=bv.body.interfacesNames,bz=[],bs,bq;if(bt&&bt.length>0){for(bs=0,bq=bt.length;bs<bq;++bs){var bw=by(bv,bt[bs]);bz.push(bw);if(!bw){continue}if(!bw.derived){bw.derived=[]}bw.derived.push(bv)}if(bz.length>0){bv.interfaces=bz}}}}}function a5(bn){var bs=[],bp={};var bo,bv,bt;for(bo in aG){if(aG.hasOwnProperty(bo)){bt=aG[bo];if(!bt.inScope&&!bt.derived){bs.push(bo);bt.weight=0}else{var bu=[];if(bt.inScope){for(bv in bt.inScope){if(bt.inScope.hasOwnProperty(bv)){bu.push(bt.inScope[bv])}}}if(bt.derived){bu=bu.concat(bt.derived)}bp[bo]=bu}}}function bw(by,bA){var bx=bp[by];if(!bx){return false}var bz=bx.indexOf(bA);if(bz<0){return false}bx.splice(bz,1);if(bx.length>0){return false}delete bp[by];return true}while(bs.length>0){bo=bs.shift();bt=aG[bo];if(bt.scopeId&&bw(bt.scopeId,bt)){bs.push(bt.scopeId);aG[bt.scopeId].weight=bt.weight+1}if(bt.base&&bw(bt.base.classId,bt)){bs.push(bt.base.classId);bt.base.weight=bt.weight+1}if(bt.interfaces){var br,bq;for(br=0,bq=bt.interfaces.length;br<bq;++br){if(!bt.interfaces[br]||!bw(bt.interfaces[br].classId,bt)){continue}bs.push(bt.interfaces[br].classId);bt.interfaces[br].weight=bt.weight+1}}}}var be=bf();bg(be);a5(be);var aX=be.toString();aX=aX.replace(/\s*\n(?:[\t ]*\n)+/g,"\n\n");return ag(aX,K)}function x(L,aa){var U=(new RegExp(/\/\*\s*@pjs\s+((?:[^\*]|\*+[^\*\/])*)\*\//g)).exec(L);if(U&&U.length===2){var K=[],N=U.splice(1,2)[0].replace(/\{([\s\S]*?)\}/g,function(){return function(ad,ae){K.push(ae);return"{"+(K.length-1)+"}"}}()).replace("\n","").replace("\r","").split(";");var T=function(ad){return ad.replace(/^\s*["']?/,"").replace(/["']?\s*$/,"")};for(var X=0,V=N.length;X<V;X++){var R=N[X].split("=");if(R&&R.length===2){var ac=T(R[0]),S=T(R[1]),ab=[];if(ac==="preload"){ab=S.split(",");for(var W=0,Y=ab.length;W<Y;W++){var Z=T(ab[W]);aa.imageCache.add(Z)}}else{if(ac==="font"){ab=S.split(",");for(var O=0,Q=ab.length;O<Q;O++){var P=T(ab[O]),M=/^\{(\d*?)\}$/.exec(P);E.preloading.add(M?JSON.parse("{"+K[M[1]]+"}"):P)}}else{if(ac==="pauseOnBlur"){aa.options.pauseOnBlur=S==="true"}else{if(ac==="globalKeyEvents"){aa.options.globalKeyEvents=S==="true"}else{if(ac.substring(0,6)==="param-"){aa.params[ac.substring(6)]=S}else{aa.options[ac]=S}}}}}}}}return L}C.compile=function(K){var N=new C.Sketch;var L=x(K,N);var M=c(L);N.sourceCode=M;return N};var j=function(){var Q={},N="undefined",O="function",K=!1,P=!0,L=512,M="log";if(typeof tinylog!==N&&typeof tinylog[M]===O){Q[M]=tinylog[M]}else{if(typeof d!==N&&!d.fake){(function(){var al=d,aj="div",Z="style",ad="title",Y={zIndex:10000,position:"fixed",bottom:"0px",width:"100%",height:"15%",fontFamily:"sans-serif",color:"#ccc",backgroundColor:"black",paddingBottom:"5px"},ab={position:"relative",fontFamily:"monospace",overflow:"auto",height:"100%",paddingTop:"5px"},af={height:"5px",marginTop:"-5px",cursor:"n-resize",backgroundColor:"darkgrey"},ak={position:"absolute",top:"5px",right:"20px",color:"#111",MozBorderRadius:"4px",webkitBorderRadius:"4px",borderRadius:"4px",cursor:"pointer",fontWeight:"normal",textAlign:"center",padding:"3px 5px",backgroundColor:"#333",fontSize:"12px"},V={minHeight:"16px"},ac={fontSize:"12px",margin:"0 8px 0 8px",maxWidth:"100%",whiteSpace:"pre-wrap",overflow:"auto"},aa=al.defaultView,ai=al.body||al.documentElement,R=ai[Z],T=function(){var an=arguments.length,am,ap,ao;while(an--){ap=arguments[an--];am=arguments[an][Z];for(ao in ap){if(ap.hasOwnProperty(ao)){am[ao]=ap[ao]}}}},ag=function(ao,an,am){if(ao.addEventListener){ao.addEventListener(an,am,K)}else{if(ao.attachEvent){ao.attachEvent("on"+an,am)}}return[ao,an,am]},S=function(ao,an,am){if(ao.removeEventListener){ao.removeEventListener(an,am,K)}else{if(ao.detachEvent){ao.detachEvent("on"+an,am)}}},X=function(an){var am=an.childNodes,ao=am.length;while(ao--){an.removeChild(am.item(0))}},ah=function(an,am){return an.appendChild(am)},ae=function(am){return al.createElement(am)},W=function(am){return al.createTextNode(am)},U=Q[M]=function(aB){var at,au=R.paddingBottom,ao=ae(aj),ay=ao[Z],az=ah(ao,ae(aj)),aq=ah(ao,ae(aj)),ap=ah(ao,ae(aj)),aA=K,ar=K,an=K,av=0,am=function(){R.paddingBottom=ao.clientHeight+"px"},ax=function(aC){var aD=aa.innerHeight,aE=az.clientHeight;if(aC<0){aC=0}else{if(aC+aE>aD){aC=aD-aE}}ay.height=aC/aD*100+"%";am()},aw=[ag(al,"mousemove",function(aC){if(aA){ax(aa.innerHeight-aC.clientY);aq.scrollTop=an}}),ag(al,"mouseup",function(){if(aA){aA=an=K}}),ag(az,"dblclick",function(aC){aC.preventDefault();if(ar){ax(ar);ar=K}else{ar=ao.clientHeight;ay.height="0px"}}),ag(az,"mousedown",function(aC){aC.preventDefault();aA=P;an=aq.scrollTop}),ag(az,"contextmenu",function(){aA=K}),ag(ap,"click",function(){at()})];at=function(){var aC=aw.length;while(aC--){S.apply(Q,aw[aC])}ai.removeChild(ao);R.paddingBottom=au;X(aq);X(ao);Q[M]=U};T(ao,Y,aq,ab,az,af,ap,ak);ap[ad]="Close Log";ah(ap,W("\u2716"));az[ad]="Double-click to toggle log minimization";ai.insertBefore(ao,ai.firstChild);Q[M]=function(aE){if(av===L){aq.removeChild(aq.firstChild)}else{av++}var aD=ah(aq,ae(aj)),aC=ah(aD,ae(aj));aD[ad]=(new Date).toLocaleTimeString();T(aD,V,aC,ac);ah(aC,W(aE));aq.scrollTop=aq.scrollHeight};Q.clear=function(){av=0;X(aq)};Q[M](aB);am()}})()}else{if(typeof print===O){Q[M]=print}}}return Q}();C.logger=j;C.version="583e14b";C.lib={};C.registerLibrary=function(K,L){C.lib[K]=L;if(L.hasOwnProperty("init")){L.init(g)}};C.instances=k;C.getInstanceById=function(K){return k[G[K]]};C.Sketch=function(K){this.attachFunction=K;this.options={pauseOnBlur:false,globalKeyEvents:false};this.onLoad=D;this.onSetup=D;this.onPause=D;this.onLoop=D;this.onFrameStart=D;this.onFrameEnd=D;this.onExit=D;this.params={};this.imageCache={pending:0,images:{},operaCache:{},add:function(M,L){if(this.images[M]){return}if(!l){this.images[M]=null}if(!L){L=new Image;L.onload=function(O){return function(){O.pending--}}(this);this.pending++;L.src=M}this.images[M]=L;if(A.opera){var N=d.createElement("div");N.appendChild(L);N.style.position="absolute";N.style.opacity=0;N.style.width="1px";N.style.height="1px";if(!this.operaCache[M]){d.body.appendChild(N);this.operaCache[M]=N}}}};this.sourceCode=undefined;this.attach=function(M){if(typeof this.attachFunction==="function"){this.attachFunction(M)}else{if(this.sourceCode){var L=(new Function("return ("+this.sourceCode+");"))();L(M);this.attachFunction=L}else{throw"Unable to attach sketch to the processing instance"}}};this.toString=function(){var L;var M="((function(Sketch) {\n";M+="var sketch = new Sketch(\n"+this.sourceCode+");\n";for(L in this.options){if(this.options.hasOwnProperty(L)){var N=this.options[L];M+="sketch.options."+L+" = "+(typeof N==="string"?'"'+N+'"':""+N)+";\n"}}for(L in this.imageCache){if(this.options.hasOwnProperty(L)){M+='sketch.imageCache.add("'+L+'");\n'}}M+="return sketch;\n})(Processing.Sketch))";return M}};var t=function(N,K){var L=[],R=[],S=K.length,P=0;function Q(T,V){var U=new XMLHttpRequest;U.onreadystatechange=function(){if(U.readyState===4){var W;if(U.status!==200&&U.status!==0){W="Invalid XHR status "+U.status}else{if(U.responseText===""){if("withCredentials" in new XMLHttpRequest&&(new XMLHttpRequest).withCredentials===false&&A.location.protocol==="file:"){W="XMLHttpRequest failure, possibly due to a same-origin policy violation. You can try loading this page in another browser, or load it from http://localhost using a local webserver. See the Processing.js README for a more detailed explanation of this problem and solutions."}else{W="File is empty."}}}V(U.responseText,W)}};U.open("GET",T,true);if(U.overrideMimeType){U.overrideMimeType("application/json")}U.setRequestHeader("If-Modified-Since","Fri, 01 Jan 1960 00:00:00 GMT");U.send(null)}function M(U,T){function W(Z,X){L[U]=Z;++P;if(X){R.push(T+" ==> "+X)}if(P===S){if(R.length===0){try{return new C(N,L.join("\n"))}catch(Y){throw"Processing.js: Unable to execute pjs sketch: "+Y}}else{throw"Processing.js: Unable to load pjs sketch files: "+R.join("\n")}}}if(T.charAt(0)==="#"){var V=d.getElementById(T.substring(1));if(V){W(V.text||V.textContent)}else{W("","Unable to load pjs sketch: element with id '"+T.substring(1)+"' was not found")}return}Q(T,W)}for(var O=0;O<S;++O){M(O,K[O])}};var F=function(){d.removeEventListener("DOMContentLoaded",F,false);var L=d.getElementsByTagName("canvas"),Q;for(var P=0,M=L.length;P<M;P++){var R=L[P].getAttribute("data-processing-sources");if(R===null){R=L[P].getAttribute("data-src");if(R===null){R=L[P].getAttribute("datasrc")}}if(R){Q=R.split(" ");for(var O=0;O<Q.length;){if(Q[O]){O++}else{Q.splice(O,1)}}t(L[P],Q)}}var N=d.body.getElementsByTagName("script");var U,K,T;if(L.length>0&&N.length>0){var S=N[0];if(S.getAttribute("src")){Q=S.getAttribute("src").split(/\s+/);t(L[0],Q)}else{K="size(400, 400); background(0xFFF); ";K+=S.textContent||S.text;T=new C(L[0],K)}}};C.loadSketchFromSources=t;C.disableInit=function(){if(l){d.removeEventListener("DOMContentLoaded",F,false)}};if(l){A.Processing=C;d.addEventListener("DOMContentLoaded",F,false)}else{this.Processing=C}})(window,window.document,Math);